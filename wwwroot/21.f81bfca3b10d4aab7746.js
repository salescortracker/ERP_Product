(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"M97/":function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("Tf8q"),r=i("TYT/"),o=i("cUzu"),c=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.GetBlankSuppliers=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/blankPurchases/GetBlankSuppliersOnly",t,this.adm.makeConfig())},t.prototype.GetPurchaseAdvanceRequirement=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purSetup/GetTotalAdvanceRequirements",t,this.adm.makeConfig())},t.prototype.SetPurchaseAdvance=function(t,e){var i={adva:t,tracheck:e,usr:this.adm.getUserCompleteInformation().usr};return console.log(i),this.http.post(this.adm.getActualURL()+"api/partyadvances/setAdvance",i,this.adm.makeConfig())},t.prototype.GetInvPurchaseOrderRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrderRequirements",t,this.adm.makeConfig())},t.prototype.GetCRMSaleOrderRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrderRequirements2",t,this.adm.makeConfig())},t.prototype.GetInvSaleOrderRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrderRequirements2",t,this.adm.makeConfig())},t.prototype.GetPurchaseOrdersForAdvances=function(t,e,i){var n={recordId:t?1:0,frmDate:e,toDate:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purSetup/GetPendingOrders",n,this.adm.makeConfig())},t.prototype.GetSaleOrdersForAdvances=function(t,e,i){var n={recordId:t?1:0,frmDate:e,toDate:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purSetup/GetPendingSaleOrders",n,this.adm.makeConfig())},t.prototype.getAdvanceRequirements=function(){return this.http.post(this.adm.getActualURL()+"api/purSetup/GetTotalAdvanceRequirements",this.adm.getUserCompleteInformation().usr,this.adm.makeConfig())},t.prototype.GetInvPurchaseOrders=function(t,e,i){var n={frmDate:t,toDate:e,detail:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrders",n,this.adm.makeConfig())},t.prototype.GetInvPurchaseOrder=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrder",e,this.adm.makeConfig())},t.prototype.invPurchaseOrderSave=function(t,e,i,n,r){this.userdetails=this.adm.getUserCompleteInformation();var o={header:t,lines:e,terms:i,taxes:n,traCheck:r,usr:this.userdetails.usr};return console.log(o,"PO Total"),this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/SetPurchaseOrder",o,this.adm.makeConfig())},t.prototype.invPurchaseOrderConfirmationSave=function(t){},t.prototype.GetBlankPurchaseOrderRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrderBlanks/GetPurchaseOrderBlanksRequirements",t,this.adm.makeConfig())},t.prototype.getBlankPurchaseOrders=function(t,e){this.adm.getUserCompleteInformation();var i={frmDate:t,toDate:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrderBlanks/GetPurchaseBlanksOrders",i,this.adm.makeConfig())},t.prototype.GetBlankPurchaseOrder=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrderBlanks/GetPurchaseBlanksOrder",e,this.adm.makeConfig())},t.prototype.setBlankPurchaseOrder=function(t,e,i,n,r){this.userdetails=this.adm.getUserCompleteInformation();var o={header:t,lines:e,terms:i,taxes:n,traCheck:r,usr:this.userdetails.usr};return console.log(o),this.http.post(this.adm.getActualURL()+"api/purPurchaseOrderBlanks/SetPurchaseBlankOrder",o,this.adm.makeConfig())},t.prototype.printBlankOrder=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={recordId:t,usr:this.userdetails.usr};return console.log(e),this.http.post(this.adm.getActualURL()+"api/purPurchaseOrderBlanks/printBlankOrder",e,this.adm.makeConfig())},t.prototype.printPurchaseOrder=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={recordId:t,usr:this.userdetails.usr};return console.log(e),this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/printPurchaseOrder",e,this.adm.makeConfig())},t.prototype.getPurchaseOrdersForApproval=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrdersForApprovals",t,this.adm.makeConfig())},t.prototype.setPurchaseOrderForApproval=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/SetPurchaseOrderForApprovals",e,this.adm.makeConfig())},t.prototype.l\u0325setPurchaseOrder=function(){},t.\u0275fac=function(e){return new(e||t)(r.gc(n.a),r.gc(o.a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},RHyH:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("Tf8q"),r=i("TYT/"),o=i("cUzu"),c=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getAccounts=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/accAccounts/GetAccounts",this.userdetails.usr)},t.prototype.setAccount=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={acc:t,tracheck:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/accAccounts/setAccount",i,this.adm.makeConfig())},t.prototype.getTreeWiseAccounts=function(t){var e={detail:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/accAccountGroups/GetAccountTypeWiseTreeView",e,this.adm.makeConfig())},t.prototype.getAccountsTypeWise=function(t){var e={detail:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/accAccounts/GetAccountsTypeWise",e,this.adm.makeConfig())},t.prototype.getPartyDetails=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/accParty/GetFinPartyDetails",t,this.adm.makeConfig())},t.prototype.getCompleteAssetsandLiabilities=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/accAccounts/GetTotalAssetsandLiabilitiesAccounts",t,this.adm.makeConfig())},t.prototype.setPartyDetails=function(t,e){var i={party:t,actype:e,usr:this.adm.getUserCompleteInformation().usr};return console.log(i),this.http.post(this.adm.getActualURL()+"api/accParty/SetFinPartyDetails",i,this.adm.makeConfig())},t.prototype.getAccountsForTransactions=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/accAccounts/accCompleteInformation",t,this.adm.makeConfig())},t.prototype.getBlankSuppliers=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/blankPurchases/GetBlankSuppliers",t,this.adm.makeConfig())},t.prototype.getAccountsForTransfers=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/accAccounts/accTransactionAccInformation",t,this.adm.makeConfig())},t.prototype.getPartiesForTransactions=function(t){var e={detail:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/accAccounts/finPartyDetailsForTransactions",e,this.adm.makeConfig())},t.prototype.getAccountDetailsForAssignForPurchases=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/accountsassign/GetAccountsAssignDetailsPurchases",t,this.adm.makeConfig())},t.prototype.setAccountDetailsForAssign=function(t){var e={list:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/accountsassign/SetAccountsAssignDetails",e,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(r.gc(n.a),r.gc(o.a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},Y7It:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("Tf8q"),r=i("TYT/"),o=i("cUzu"),c=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getInventoryGroups=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invgroups/GetInvItemGroups",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getInvGroupsTreeWise=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invgroups/GetInvGroupsTreeView",this.userdetails.usr,this.adm.makeConfig())},t.prototype.setInventoryGroup=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={grp:t,traCheck:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/invgroups/setInventoryGroup",i,this.adm.makeConfig())},t.prototype.getInventoryItems=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invmaterial/GetInvMaterials",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getInventoryProductsOnly=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invmaterial/GetInvProductsOnly",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getInventoryItemsShiksha=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invmaterial/GetInvMaterialsShiksha",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getInventoryItem=function(t){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.get(this.adm.getActualURL()+"api/invmaterial/GetInvMaterial?recordId="+t+"&cCode="+this.userdetails.usr.cCode,this.adm.makeConfig())},t.prototype.setInventoryItem=function(t,e,i){this.userdetails=this.adm.getUserCompleteInformation();var n={mat:t,matum:e,tracheck:i,usr:this.userdetails.usr};return console.log(n,"mat"),this.http.post(this.adm.getActualURL()+"api/invmaterial/setInvMaterial",n,this.adm.makeConfig())},t.prototype.getInvOpeningStocks=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invOpening/getInvOpeningStocks",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getInvOpeningStocksShiksha=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invOpening/getInvOpeningStocksShiksha",this.userdetails.usr,this.adm.makeConfig())},t.prototype.setInvOpeningStock=function(t){var e={stock:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invOpening/setInvOpeningStocks",e,this.adm.makeConfig())},t.prototype.delInvOpeningStocks=function(t){var e={detail:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invOpening/DeleteOpeningStock",e,this.adm.makeConfig())},t.prototype.getInvLosses=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invlosses/getInvLosses",this.userdetails.usr,this.adm.makeConfig())},t.prototype.setInvLosses=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={loss:t,traCheck:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/invlosses/setInvLoss",i,this.adm.makeConfig())},t.prototype.getInvDepartments=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invDepartments/GetInvDepartments",this.userdetails.usr,this.adm.makeConfig())},t.prototype.setInvDepartment=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={dept:t,tracheck:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/invDepartments/SetInvDepartment",i,this.adm.makeConfig())},t.prototype.invSetupDetails=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/invSetup/invCostingInfo",t,this.adm.makeConfig())},t.prototype.getInvShikshaSets=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/invSets/GetInvSets",t,this.adm.makeConfig())},t.prototype.getInvShikshaSet=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invSets/GetInvSet",e,this.adm.makeConfig())},t.prototype.setInvShikshaSet=function(t,e,i){var n={header:t,lines:e,traCheck:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invSets/setInvSet",n,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(r.gc(n.a),r.gc(o.a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},t4IP:function(t,e,i){"use strict";i.r(e),i.d(e,"CRMModule",(function(){return ja}));var n=i("Valr"),r=i("XrkE"),o=i("DUip"),c=i("RHyH"),a=i("Tf8q"),s=i("tvE0"),b=i("TYT/"),d=i("QJY3");function l(t,e){if(1&t&&(b.Yb(0,"option",9),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.accountId),b.Db(1),b.Xc(i.accountName)}}function u(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td",2),b.Wc(2),b.Xb(),b.Yb(3,"td",3),b.Yb(4,"select",6),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.accountId=t}))("change",(function(){b.Mc(i);var t=e.$implicit;return b.oc().findGroup(t)})),b.Yb(5,"option",7),b.Wc(6,"--Select--"),b.Xb(),b.Uc(7,l,2,2,"option",8),b.Xb(),b.Xb(),b.Yb(8,"td",2),b.Wc(9),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=b.oc();b.Db(2),b.Xc(n.transdescription),b.Db(2),b.vc("ngModel",n.accountId),b.Db(3),b.vc("ngForOf",r.accounts),b.Db(2),b.Xc(n.grp)}}var h=function(){function t(t,e,i,n){var r=this;this.pur=t,this.acc=e,this.adm=i,this.router=n,this.details=[],this.accounts=[],this.authCheck=!1,this.adm.screenCheck(2,8,4,0)?(this.authCheck=!0,this.acc.getAccountsForTransactions().subscribe((function(t){r.accounts=t,r.pur.getCRMAccountsAssign().subscribe((function(t){r.details=t;for(var e=0;e<r.details.length;e++)r.findGroup(r.details[e])}))}))):this.authCheck=!1}return t.prototype.ngOnInit=function(){},t.prototype.findGroup=function(t){var e=this.accounts.filter((function(e){return e.accountId==t.accountId}));e.length>0&&(t.grp=e[0].grp)},t.prototype.save=function(){var t=this;console.log(this.details);for(var e=[],i=0;i<this.details.length;i++)e.push({Transcode:this.details[i].transcode,Account:+this.details[i].accountId,Module:"SAL"});this.acc.setAccountDetailsForAssign(e).subscribe((function(e){var i=e;"OK"==i.result?t.adm.showMessage("Accounts reverted successfully","Success",1):t.adm.showMessage(i.result,"Error",4)}))},t.\u0275fac=function(e){return new(e||t)(b.Sb(s.a),b.Sb(c.a),b.Sb(a.a),b.Sb(o.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-accounts-assign"]],decls:21,vars:1,consts:[[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[2,"width","30%"],[2,"width","40%"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-info","mr-1","mb-1",3,"click"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(b.Yb(0,"h3"),b.Wc(1," Accounts Assign\n"),b.Xb(),b.Yb(2,"table",0),b.Yb(3,"thead",1),b.Yb(4,"tr"),b.Yb(5,"th",2),b.Wc(6,"Description"),b.Xb(),b.Yb(7,"th",3),b.Wc(8," Account"),b.Xb(),b.Yb(9,"th",2),b.Wc(10," Group"),b.Xb(),b.Xb(),b.Xb(),b.Yb(11,"tbody"),b.Uc(12,u,10,4,"tr",4),b.Yb(13,"tr"),b.Yb(14,"td",2),b.Yb(15,"button",5),b.kc("click",(function(){return e.save()})),b.Wc(16,"Save"),b.Xb(),b.Xb(),b.Yb(17,"td",3),b.Wc(18," \xa0 "),b.Xb(),b.Yb(19,"td",2),b.Wc(20,"\xa0 "),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t&&(b.Db(12),b.vc("ngForOf",e.details))},directives:[n.o,d.z,d.q,d.t,d.u,d.B],styles:[""]}),t}(),p=i("6kwV"),m=i("M97/"),f=i("PdH4"),g=i.n(f),X=i("MnXN");function Y(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",15),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td",16),b.Wc(8),b.pc(9,"number"),b.Xb(),b.Yb(10,"td",16),b.Wc(11),b.pc(12,"number"),b.Xb(),b.Yb(13,"td",16),b.Wc(14),b.pc(15,"number"),b.Xb(),b.Yb(16,"td",16),b.Wc(17),b.pc(18,"number"),b.Xb(),b.Yb(19,"th",17),b.Wc(20),b.pc(21,"number"),b.Xb(),b.Yb(22,"td"),b.Wc(23,"SO"),b.Xb(),b.Yb(24,"td",18),b.Yb(25,"i",19),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).openOrder(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.seq),b.Db(2),b.Xc(n.partyName),b.Db(2),b.Xc(b.rc(9,8,n.baseamt,"0.2")),b.Db(3),b.Xc(b.rc(12,11,n.discount,"0.2")),b.Db(3),b.Xc(b.rc(15,14,n.taxes,"0.2")),b.Db(3),b.Xc(b.rc(18,17,n.others,"0.2")),b.Db(3),b.Xc(b.rc(21,20,n.totalAmt,"0.2"))}}function v(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2,"List of Pending Orders"),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",2),b.Wc(6,"From"),b.Xb(),b.Yb(7,"td",3),b.Yb(8,"input",4),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.fromdate=e.parseDate(t.target.value)})),b.pc(9,"date"),b.Xb(),b.Xb(),b.Yb(10,"td",2),b.Wc(11,"To"),b.Xb(),b.Yb(12,"td",3),b.Yb(13,"input",4),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.fromdate=e.parseDate(t.target.value)})),b.pc(14,"date"),b.Xb(),b.Xb(),b.Yb(15,"td",5),b.Yb(16,"div",6),b.Yb(17,"input",7),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().validity=t})),b.Xb(),b.Yb(18,"label",8),b.Yb(19,"span"),b.Wc(20,"Show Also Expired Orders"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(21,"td",9),b.Yb(22,"button",10),b.kc("click",(function(){return b.Mc(i),b.oc().showOrders()})),b.Wc(23,"Show"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(24,"table",11),b.Yb(25,"thead",12),b.Yb(26,"tr"),b.Yb(27,"th"),b.Wc(28,"#"),b.Xb(),b.Yb(29,"th"),b.Wc(30,"Order"),b.Xb(),b.Yb(31,"th"),b.Wc(32,"Customer"),b.Xb(),b.Yb(33,"th",13),b.Wc(34,"Base Amount"),b.Xb(),b.Yb(35,"th",13),b.Wc(36,"Discount"),b.Xb(),b.Yb(37,"th",13),b.Wc(38,"Taxes"),b.Xb(),b.Yb(39,"th",13),b.Wc(40,"Others"),b.Xb(),b.Yb(41,"th",13),b.Wc(42,"Total"),b.Xb(),b.Yb(43,"th"),b.Wc(44,"Type"),b.Xb(),b.Tb(45,"th"),b.Xb(),b.Xb(),b.Yb(46,"tbody"),b.Uc(47,Y,26,23,"tr",14),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(8),b.vc("value",b.rc(9,4,n.fromdate,"yyyy-MM-dd")),b.Db(5),b.vc("value",b.rc(14,7,n.todate,"yyyy-MM-dd")),b.Db(4),b.vc("ngModel",n.validity),b.Db(30),b.vc("ngForOf",n.purchaseorders)}}function y(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",15),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.pc(7,"date"),b.Xb(),b.Yb(8,"td",16),b.Wc(9),b.pc(10,"number"),b.Xb(),b.Yb(11,"td"),b.Wc(12),b.Xb(),b.Yb(13,"td"),b.Yb(14,"i",19),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).openAdvanceDetails(t)})),b.Xb(),b.Xb(),b.Yb(15,"td"),b.Yb(16,"i",49),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).confirmPrintAdvance(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.seq),b.Db(2),b.Xc(b.rc(7,5,n.dat,"short")),b.Db(3),b.Xc(b.rc(10,8,n.amt,"0.2")),b.Db(3),b.Xc(n.paymentmode)}}function C(t,e){if(1&t&&(b.Yb(0,"option",50),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordid),b.Db(1),b.Xc(i.accname)}}function M(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"table",51),b.Yb(2,"tr"),b.Yb(3,"td",22),b.Wc(4,"\xa0"),b.Xb(),b.Yb(5,"td",23),b.Yb(6,"textarea",52),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det1=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(6),b.vc("ngModel",n.det1)}}function k(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"table",51),b.Yb(2,"tr"),b.Yb(3,"td",22),b.Wc(4,"Card #"),b.Xb(),b.Yb(5,"td",23),b.Yb(6,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det1=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(7,"tr"),b.Yb(8,"td",22),b.Wc(9,"Card Holder"),b.Xb(),b.Yb(10,"td",23),b.Yb(11,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det2=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"tr"),b.Yb(13,"td",22),b.Wc(14,"Transaction Bank"),b.Xb(),b.Yb(15,"td",23),b.Yb(16,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det3=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(6),b.vc("ngModel",n.det1),b.Db(5),b.vc("ngModel",n.det2),b.Db(5),b.vc("ngModel",n.det3)}}function D(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"table",51),b.Yb(2,"tr"),b.Yb(3,"td",22),b.Wc(4," Cheque #"),b.Xb(),b.Yb(5,"td",23),b.Yb(6,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det1=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(7,"tr"),b.Yb(8,"td",22),b.Wc(9,"A/c Holder"),b.Xb(),b.Yb(10,"td",23),b.Yb(11,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det2=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"tr"),b.Yb(13,"td",22),b.Wc(14,"Transaction Bank"),b.Xb(),b.Yb(15,"td",23),b.Yb(16,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det3=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(6),b.vc("ngModel",n.det1),b.Db(5),b.vc("ngModel",n.det2),b.Db(5),b.vc("ngModel",n.det3)}}function W(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"table",51),b.Yb(2,"tr"),b.Yb(3,"td",22),b.Wc(4,"Transaction #"),b.Xb(),b.Yb(5,"td",23),b.Yb(6,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det1=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(7,"tr"),b.Yb(8,"td",22),b.Wc(9,"A/c Holder"),b.Xb(),b.Yb(10,"td",23),b.Yb(11,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det2=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"tr"),b.Yb(13,"td",22),b.Wc(14,"Transaction Bank"),b.Xb(),b.Yb(15,"td",23),b.Yb(16,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det3=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(6),b.vc("ngModel",n.det1),b.Db(5),b.vc("ngModel",n.det2),b.Db(5),b.vc("ngModel",n.det3)}}function w(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"table",51),b.Yb(2,"tr"),b.Yb(3,"td",22),b.Wc(4,"Mobile #"),b.Xb(),b.Yb(5,"td",23),b.Yb(6,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det1=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(7,"tr"),b.Yb(8,"td",22),b.Wc(9,"Mobile Holder"),b.Xb(),b.Yb(10,"td",23),b.Yb(11,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det2=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"tr"),b.Yb(13,"td",22),b.Wc(14,"Description"),b.Xb(),b.Yb(15,"td",23),b.Yb(16,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).det3=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(6),b.vc("ngModel",n.det1),b.Db(5),b.vc("ngModel",n.det2),b.Db(5),b.vc("ngModel",n.det3)}}function x(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",54),b.kc("click",(function(){return b.Mc(i),b.oc(2).confirmAdvanceDelete()})),b.Wc(1,"Delete"),b.Xb()}if(2&t){var n=b.oc(2);b.vc("disabled",!n.delAdvCheck)}}function I(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," Advance Details "),b.Xb(),b.Yb(3,"table",20),b.Yb(4,"tr"),b.Yb(5,"td",21),b.Yb(6,"table",20),b.Yb(7,"tr"),b.Yb(8,"td",22),b.Wc(9,"Supplier"),b.Xb(),b.Yb(10,"td",23),b.Yb(11,"input",24),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().purchase.vendorname=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"tr"),b.Yb(13,"td",22),b.Wc(14,"Mobile"),b.Xb(),b.Yb(15,"td",23),b.Yb(16,"input",24),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().purchase.mobile=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(17,"tr"),b.Yb(18,"td",22),b.Wc(19,"Order Amount"),b.Xb(),b.Yb(20,"td",23),b.Tb(21,"input",25),b.pc(22,"number"),b.Xb(),b.Xb(),b.Yb(23,"tr"),b.Yb(24,"td",22),b.Wc(25,"Previous Advance"),b.Xb(),b.Yb(26,"td",23),b.Tb(27,"input",25),b.pc(28,"number"),b.Xb(),b.Xb(),b.Yb(29,"tr"),b.Yb(30,"td",26),b.Yb(31,"div",27),b.Yb(32,"table",28),b.Yb(33,"thead",12),b.Yb(34,"tr"),b.Yb(35,"th"),b.Wc(36,"#"),b.Xb(),b.Yb(37,"th"),b.Wc(38,"Voucher"),b.Xb(),b.Yb(39,"th"),b.Wc(40,"Date"),b.Xb(),b.Yb(41,"th"),b.Wc(42,"Amount"),b.Xb(),b.Yb(43,"th"),b.Wc(44,"Mode"),b.Xb(),b.Yb(45,"th"),b.Wc(46,"\xa0"),b.Xb(),b.Yb(47,"th"),b.Wc(48,"\xa0"),b.Xb(),b.Xb(),b.Xb(),b.Yb(49,"tbody"),b.Uc(50,y,17,11,"tr",14),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(51,"td",21),b.Yb(52,"table",20),b.Yb(53,"tr"),b.Yb(54,"td",22),b.Wc(55,"Voucher"),b.Xb(),b.Yb(56,"td",23),b.Yb(57,"input",24),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().advance.Seq=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(58,"tr"),b.Yb(59,"td",22),b.Wc(60,"*Date"),b.Xb(),b.Yb(61,"td",23),b.Yb(62,"div",29),b.Yb(63,"input",30,31),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().advance.Dat=t})),b.Xb(),b.Yb(65,"div",32),b.Yb(66,"div",33),b.kc("click",(function(){return b.Mc(i),b.Jc(64).toggle()})),b.Tb(67,"i",34),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(68,"tr"),b.Yb(69,"td",22),b.Wc(70,"*Advance"),b.Xb(),b.Yb(71,"td",23),b.Yb(72,"input",35),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().advance.Amt=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(73,"tr"),b.Yb(74,"td",22),b.Wc(75,"*Mode"),b.Xb(),b.Yb(76,"td",23),b.Yb(77,"select",36),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().advance.Paymentmode=t}))("change",(function(){return b.Mc(i),b.oc().setModeWiseAccounts()})),b.Yb(78,"option",37),b.Wc(79,"--Select--"),b.Xb(),b.Yb(80,"option",38),b.Wc(81,"Cash"),b.Xb(),b.Yb(82,"option",39),b.Wc(83,"Card"),b.Xb(),b.Yb(84,"option",40),b.Wc(85,"Cheque"),b.Xb(),b.Yb(86,"option",41),b.Wc(87,"On line"),b.Xb(),b.Yb(88,"option",42),b.Wc(89,"Mobile Wallet"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(90,"tr"),b.Yb(91,"td",22),b.Wc(92),b.Xb(),b.Yb(93,"td",23),b.Yb(94,"select",43),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().revAcc=t})),b.Yb(95,"option",44),b.Wc(96,"--Select--"),b.Xb(),b.Uc(97,C,2,2,"option",45),b.Xb(),b.Xb(),b.Xb(),b.Yb(98,"tr"),b.Yb(99,"td",26),b.Yb(100,"div",27),b.Uc(101,M,7,1,"div",0),b.Uc(102,k,17,3,"div",0),b.Uc(103,D,17,3,"div",0),b.Uc(104,W,17,3,"div",0),b.Uc(105,w,17,3,"div",0),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(106,"tr"),b.Yb(107,"td",21),b.Uc(108,x,2,1,"button",46),b.Yb(109,"button",47),b.kc("click",(function(){return b.Mc(i),b.oc().confirmAdvanceSave()})),b.Wc(110),b.Xb(),b.Yb(111,"button",48),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(112,"Close"),b.Xb(),b.Xb(),b.Yb(113,"td",21),b.Wc(114,"\xa0"),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(11),b.vc("ngModel",n.purchase.vendorname),b.Db(5),b.vc("ngModel",n.purchase.mobile),b.Db(5),b.wc("value",b.rc(22,20,n.purchase.totalAmt,"0.2")),b.Db(6),b.wc("value",b.rc(28,23,n.prevadvance,"0.2")),b.Db(23),b.vc("ngForOf",n.prevadvances),b.Db(7),b.vc("ngModel",n.advance.Seq),b.Db(6),b.vc("ngModel",n.advance.Dat),b.Db(9),b.vc("ngModel",n.advance.Amt),b.Db(5),b.vc("ngModel",n.advance.Paymentmode),b.Db(15),b.Yc("",n.advance.Paymentmode," Account"),b.Db(2),b.vc("ngModel",n.revAcc),b.Db(3),b.vc("ngForOf",n.reveAccounts),b.Db(4),b.vc("ngIf","CASH"==n.advance.Paymentmode),b.Db(1),b.vc("ngIf","CARD"==n.advance.Paymentmode),b.Db(1),b.vc("ngIf","CHEQUE"==n.advance.Paymentmode),b.Db(1),b.vc("ngIf","ONLINE"==n.advance.Paymentmode),b.Db(1),b.vc("ngIf","MWALLET"==n.advance.Paymentmode),b.Db(3),b.vc("ngIf",n.delAdvVisible),b.Db(1),b.vc("disabled",!n.creAdvCheck),b.Db(1),b.Xc(n.saveAdvanceStr)}}var S=new Date,A=function(){function t(t,e,i,n,r){var o=this;this.adm=t,this.router=e,this.spinner=i,this.adv=n,this.adp=r,this.validity=!1,this.fromdate=new Date,this.todate=new Date,this.recordID=0,this.advanceId=0,this.revAcc=0,this.advPaymentMode="",this.delAdvVisible=!1,this.creAdvCheck=!1,this.delAdvCheck=!1,this.datAdvCheck=!1,this.saveAdvanceStr="",this.advanprev=0,this.prevadvances=[],this.pono="",this.advasupplier="",this.advmobile="",this.orderamt=0,this.advvoucher="",this.prevadvance=0,this.det1="",this.det2="",this.det3="",this.advance={RecordId:null,Seq:"",TransactionId:0,Tratype:"",Dat:{year:S.getFullYear(),month:S.getMonth()+1,day:S.getDate()},Amt:0,Paymentmode:"-",Remarks:"",Bankdetails:""},this.adm.screenCheck(7,2,5,0)?(this.showOrders(),this.delAdvCheck=this.adm.screenCheck(7,2,5,3),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.adv.getAdvanceRequirements().subscribe((function(t){var e=t;o.advance.Seq=e.voucher,o.totalAccounts=e.accounts,o.spinner.hide()}))):this.router.navigateByUrl("purchases/purunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.showOrders=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.adv.GetSaleOrdersForAdvances(this.validity,this.adm.stringData(this.fromdate),this.adm.stringData(this.todate)).subscribe((function(e){t.purchaseorders=e,t.spinner.hide()}))},t.prototype.openOrder=function(t){var e=this;this.purchase=t,this.creAdvCheck=this.adm.screenCheck(2,3,4,11),this.recordID=t.recordId,this.advanceId=0,this.adp.getAdvancesById(this.recordID,"SAL_REC").subscribe((function(t){e.prevadvances=t,e.prevadvance=0;for(var i=0;i<e.prevadvances.length;i++)e.prevadvance=e.prevadvance+e.prevadvances[i].amt;e.spinner.hide()})),this.saveAdvanceStr="Save"},t.prototype.setModeWiseAccounts=function(){this.det1="",this.det2="",this.det3="","CASH"==this.advance.Paymentmode&&(this.reveAccounts=this.totalAccounts.filter((function(t){return"CAS"==t.acType}))),"CARD"!=this.advance.Paymentmode&&"CHEQUE"!=this.advance.Paymentmode&&"ONLINE"!=this.advance.Paymentmode||(this.reveAccounts=this.totalAccounts.filter((function(t){return"BAN"==t.acType}))),"MWALLET"==this.advance.Paymentmode&&(this.reveAccounts=this.totalAccounts.filter((function(t){return"MOB"==t.acType})))},t.prototype.advancesAdd=function(){},t.prototype.getAdvances=function(){var t=this;this.adv.GetPurchaseAdvanceRequirement().subscribe((function(e){t.advance.Seq=e.voucher,t.spinner.hide()})),this.advancesAdd(),this.advanceClear()},t.prototype.close=function(){this.recordID=0},t.prototype.advanceClear=function(){this.advance={RecordId:null,Seq:"",TransactionId:0,Tratype:"",Dat:{year:S.getFullYear(),month:S.getMonth()+1,day:S.getDate()},Amt:0,Paymentmode:"-",Remarks:"",Bankdetails:""}},t.prototype.openAdvanceDetails=function(t){this.creAdvCheck=this.adm.screenCheck(2,3,44,12),this.delAdvVisible=!0,this.delAdvCheck=this.adm.screenCheck(2,3,44,13),this.saveAdvanceStr="Modify";var e=new Date(t.dat);console.log(t),this.advance={RecordId:t.recordId,Seq:t.seq,TransactionId:t.transactionId,Tratype:"PUR_ADV",Dat:{year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()},Amt:t.amt,Paymentmode:t.paymentmode,Remarks:t.remarks,Bankdetails:t.bankdetails},this.setModeWiseAccounts(),this.revAcc=t.accountId,this.det1=t.detail1,this.det2=t.detail2,this.det3=t.detail3},t.prototype.confirmAdvanceDelete=function(){},t.prototype.confirmAdvanceSave=function(){var t=this;this.advance.Amt<=0?this.adm.showMessage("Amount not entered","Warning",3):"-"!=this.advance.Paymentmode?0!=this.revAcc?g.a.fire({title:null==this.advance.RecordId?"Confirms Advance Details":"Modifies Advance Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&t.saveAdvance()})):this.adm.showMessage("Reverse Account not selected","Warning",3):this.adm.showMessage("Payment mode not selected","Warning",3)},t.prototype.saveAdvance=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var e={RecordId:this.advance.RecordId,TransactionId:this.recordID,Tratype:"SAL_REC",Dat:this.adm.makePresentDate(this.advance.Dat),Amt:this.advance.Amt,Paymentmode:this.advance.Paymentmode,Remarks:this.advance.Remarks,partyId:this.purchase.vendorid,accountId:+this.revAcc,detail1:this.det1,detail2:this.det2,detail3:this.det3};this.adv.SetPurchaseAdvance(e,null==this.advance.RecordId?1:2).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Advance Details Saved Successfully!","Advance saved.","success"),t.advancesAdd(),t.recordID=0):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()}))},t.prototype.confirmPrintAdvance=function(t){var e=this;0==t.printCount?this.printAdvance(t):g.a.fire({title:"This Receipt is aleady printed "+t.printCount+" time(s) Do you wish to print again?",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Print",cancelButtonText:"Cancel"}).then((function(i){i.value&&(e.adm.screenCheck(2,2,44,18)?e.printAdvance(t):e.adm.showMessage("You are not authorised to re print","Error",4))}))},t.prototype.printAdvance=function(t){var e=this;console.log(t),this.adp.printPartyAdvance({RecordId:t.recordId,Seq:t.seq,TransactionId:t.transactionId,Tratype:t.tratype,Dat:t.dat,Amt:t.amt,Paymentmode:t.paymentmode,Remarks:t.remarks,Bankdetails:t.bankdetails,UsrName:t.usrName,PartyId:t.partyId}).subscribe((function(t){var i=t;"OK"==i.result&&""!=i.fname&&window.open(e.adm.getReportsURL()+i.fname,"_blank")}))},t.prototype.parseDate=function(t){return t?new Date(t):null},t.\u0275fac=function(e){return new(e||t)(b.Sb(a.a),b.Sb(o.c),b.Sb(r.c),b.Sb(m.a),b.Sb(p.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-advances"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","60%"],["align","right",2,"width","10%"],[2,"width","20%"],["type","date",1,"form-control",3,"value","input"],[2,"width","30%"],[1,"checkbox"],["type","checkbox","id","checkbox2",3,"ngModel","ngModelChange"],["for","checkbox2"],[2,"width","10%"],[1,"btn","btn-success",2,"width","100%",3,"click"],[1,"table","m-0",2,"width","99%"],[1,"thead-light"],[2,"text-align","right"],[4,"ngFor","ngForOf"],["scope","row"],["align","right"],["scope","row",2,"text-align","right"],["align","center"],[1,"ft-edit","font-medium-1",3,"click"],[2,"width","100%"],[2,"width","50%"],["align","right",2,"width","30%"],[2,"width","70%"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","disabled","",1,"form-control",2,"text-align","right",3,"value"],["colspan","2"],[2,"height","300px","width","100%"],[1,"table","m-0",2,"width","100%"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d1","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","-"],["value","CASH"],["value","CARD"],["value","CHEQUE"],["value","ONLINE"],["value","MWALLET"],[1,"form-control",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-info","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],[1,"ft-printer","font-medium-1",3,"click"],[3,"value"],[2,"width","99%"],["rows","3",2,"width","100%",3,"ngModel","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,v,48,10,"div",0),b.Uc(2,I,115,26,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",0==e.recordID),b.Db(1),b.vc("ngIf",e.recordID>0))},directives:[r.a,n.p,d.b,d.q,d.t,n.o,d.c,X.q,d.v,d.z,d.u,d.B],pipes:[n.e,n.f],styles:[""]}),t}(),R=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-agents-management"]],decls:2,vars:0,template:function(t,e){1&t&&(b.Yb(0,"p"),b.Wc(1,"crm-agents-management works!"),b.Xb())},styles:[""]}),t}(),O=i("vvAQ"),U=i("cUzu"),T=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getSubmittedBills=function(t){var e={frmDate:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMBillSubmissions/GetSubmittedBills",e,this.adm.makeConfig())},t.prototype.getPendingBills=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMBillSubmissions/GetBillsForSubmission",t,this.adm.makeConfig())},t.prototype.setBillSubmission=function(t,e){var i={header:t,lines:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMBillSubmissions/SetBillSubmission",i,this.adm.makeConfig())},t.prototype.crmFollowupList=function(t){var e={frmDate:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMPostFollowup/GetTodayFollowup",e,this.adm.makeConfig())},t.prototype.crmFollowupRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMPostFollowup/GetFollowUpRequirements",t,this.adm.makeConfig())},t.prototype.setFollowUp=function(t){var e={call:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMPostFollowup/SetCRMPostFollowup",e,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function P(t,e){if(1&t&&(b.Yb(0,"option",15),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Xc(i.partyName)}}function F(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td",10),b.Yb(2,"input",16),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.chk=t})),b.Xb(),b.Xb(),b.Yb(3,"td",11),b.Wc(4),b.Xb(),b.Yb(5,"td",11),b.Wc(6),b.pc(7,"date"),b.Xb(),b.Yb(8,"td",12),b.Wc(9),b.Xb(),b.Yb(10,"td",11),b.Wc(11),b.pc(12,"number"),b.Xb(),b.Yb(13,"td",11),b.Wc(14),b.pc(15,"number"),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit;b.Db(2),b.vc("ngModel",n.chk),b.Db(2),b.Xc(n.seq),b.Db(2),b.Xc(b.rc(7,6,n.dat,"dd-MMM-yy")),b.Db(3),b.Xc(n.customer),b.Db(2),b.Xc(b.rc(12,9,n.baseamt,"0.2")),b.Db(3),b.Xc(b.rc(15,12,n.totalamt,"0.2"))}}function L(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2,"Bill Submissions"),b.Xb(),b.Tb(3,"br"),b.Yb(4,"table",1),b.Yb(5,"tr"),b.Yb(6,"td",2),b.Wc(7,"Select Customer"),b.Xb(),b.Yb(8,"td",3),b.Yb(9,"select",4),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().cusid=t}))("change",(function(){return b.Mc(i),b.oc().findPendings()})),b.Yb(10,"option",5),b.Wc(11,"--Select--"),b.Xb(),b.Uc(12,P,2,2,"option",6),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(13,"h4"),b.Wc(14,"List of Bills to be submitted"),b.Xb(),b.Yb(15,"div",7),b.Yb(16,"table",8),b.Yb(17,"thead",9),b.Yb(18,"tr"),b.Yb(19,"th",10),b.Wc(20,"#"),b.Xb(),b.Yb(21,"th",11),b.Wc(22,"Billno"),b.Xb(),b.Yb(23,"th",11),b.Wc(24,"Date"),b.Xb(),b.Yb(25,"th",12),b.Wc(26,"Customer"),b.Xb(),b.Yb(27,"th",11),b.Wc(28,"Base Amount"),b.Xb(),b.Yb(29,"th",11),b.Wc(30,"Total"),b.Xb(),b.Xb(),b.Xb(),b.Yb(31,"tbody"),b.Uc(32,F,16,15,"tr",13),b.Xb(),b.Xb(),b.Xb(),b.Yb(33,"button",14),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(34,"Submit"),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(9),b.vc("ngModel",n.cusid),b.Db(3),b.vc("ngForOf",n.customers),b.Db(20),b.vc("ngForOf",n.pendings)}}function N(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",10),b.Wc(2),b.Xb(),b.Yb(3,"td",23),b.Wc(4),b.Xb(),b.Yb(5,"td",24),b.Wc(6),b.Xb(),b.Yb(7,"td",11),b.Wc(8),b.pc(9,"number"),b.Xb(),b.Yb(10,"td",11),b.Wc(11),b.pc(12,"number"),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Yc(" ",n+1," "),b.Db(2),b.Xc(i.seq),b.Db(2),b.Xc(i.customername),b.Db(2),b.Xc(b.rc(9,5,i.totalbase,"0.2")),b.Db(3),b.Xc(b.rc(12,8,i.totalamt,"0.2"))}}function q(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2,"List of Bills"),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",11),b.Wc(6,"Date"),b.Xb(),b.Yb(7,"td",17),b.Yb(8,"input",18),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.listdate=e.parseDate(t.target.value)})),b.pc(9,"date"),b.Xb(),b.Xb(),b.Yb(10,"td",19),b.Yb(11,"button",20),b.kc("click",(function(){return b.Mc(i),b.oc().listAdd()})),b.Wc(12,"Show"),b.Xb(),b.Xb(),b.Yb(13,"td",21),b.Yb(14,"button",22),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(15,"New"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(16,"table",8),b.Yb(17,"thead",9),b.Yb(18,"tr"),b.Yb(19,"th",10),b.Wc(20,"#"),b.Xb(),b.Yb(21,"th",23),b.Wc(22,"Seq"),b.Xb(),b.Yb(23,"th",24),b.Wc(24,"Customer"),b.Xb(),b.Yb(25,"th",11),b.Wc(26,"Base Amount"),b.Xb(),b.Yb(27,"th",11),b.Wc(28,"Total"),b.Xb(),b.Xb(),b.Xb(),b.Yb(29,"tbody"),b.Uc(30,N,13,11,"tr",13),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(8),b.vc("value",b.rc(9,2,n.listdate,"yyyy-MM-dd")),b.Db(22),b.vc("ngForOf",n.submissions)}}var B=function(){function t(t,e,i,n){this.cus=t,this.crm=e,this.spinner=i,this.adm=n,this.listdate=new Date,this.cusid=0,this.opened=!1,this.pendings=[],this.customersAdd(),this.listAdd(),this.pendingDetails()}return t.prototype.pendingDetails=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getPendingBills().subscribe((function(e){t.totalpendings=e,t.spinner.hide()}))},t.prototype.customersAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.cus.getPartyDetails("CUS").subscribe((function(e){t.customers=e,t.spinner.hide()}))},t.prototype.openNew=function(){this.makeCle(),this.opened=!1},t.prototype.makeCle=function(){this.cusid=0,this.pendings=[]},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getSubmittedBills(this.adm.stringData(this.listdate)).subscribe((function(e){t.submissions=e,t.spinner.hide()}))},t.prototype.ngOnInit=function(){},t.prototype.findPendings=function(){var t=this;this.pendings=[];for(var e=this.totalpendings.filter((function(e){return e.partyId==+t.cusid})),i=0;i<e.length;i++)this.pendings.push({chk:!1,RecordId:e[i].recordId,seq:e[i].seq,dat:e[i].dat,customer:e[i].partyName,baseamt:e[i].baseamt,totalamt:e[i].totalAmt})},t.prototype.parseDate=function(t){return t?new Date(t):null},t.prototype.save=function(){var t=this,e=this.pendings.filter((function(t){return t.chk}));e.length>0?g.a.fire({title:"Confirms Bill Submissions",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(i){if(i.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});for(var n={CustomerId:+t.cusid},r=[],o=0;o<e.length;o++)r.push({Billno:e[o].RecordId});t.crm.setBillSubmission(n,r).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Bills Submitted.","success"),t.listAdd(),t.makeCle(),t.pendingDetails()):g.a.fire(i.result,"Error in transaction.","error"),t.spinner.hide()}))}})):this.adm.showMessage("No bills are selected to be submitted","Warning",3)},t.\u0275fac=function(e){return new(e||t)(b.Sb(O.a),b.Sb(T),b.Sb(r.c),b.Sb(a.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-bill-submissions"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","100%"],[2,"width","30%"],[2,"width","70%"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","m-0"],[1,"thead-light"],[2,"width","5%"],[2,"width","15%"],[2,"width","35%"],[4,"ngFor","ngForOf"],["type","button",1,"btn-lg","btn-primary",3,"click"],[3,"value"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"width","25%"],["type","date",1,"form-control",3,"value","input"],[2,"width","10%"],["type","button",1,"btn-lg","btn-info",3,"click"],["align","right",2,"width","50%"],["type","button",1,"btn-lg","btn-success",3,"click"],[2,"width","20%"],[2,"width","45%"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,L,35,3,"div",0),b.Uc(2,q,31,5,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,d.z,d.q,d.t,d.u,d.B,n.o,d.b],pipes:[n.e,n.f],styles:[""]}),t}(),E=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-complaints-post"]],decls:2,vars:0,template:function(t,e){1&t&&(b.Yb(0,"p"),b.Wc(1,"crm-complaints-post works!"),b.Xb())},styles:[""]}),t}(),G=i("mrSG"),z=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getCustomerGroups=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMCustomerGroups/GetCustomerGroups",t,this.adm.makeConfig())},t.prototype.getCustomerGroup=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMCustomerGroups/GetSalCustomerGroup",e,this.adm.makeConfig())},t.prototype.setCustomerGroup=function(t,e){var i={grp:t,traCheck:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMCustomerGroups/setCustomerGroup",i,this.adm.makeConfig())},t.prototype.getCustomerGroupsTreeWise=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMCustomerGroups/GetCustomerGroupsTreeView",t,this.adm.makeConfig())},t.prototype.getSupplierGroupsReport=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/PurKeyReports/purKeyRepSupplierGroups",t,this.adm.makeConfig())},t.prototype.getSuppliersReport=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/PurKeyReports/purKeyRepSupplierDetails",t,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),$=i("qT8p");function Z(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",18),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(2).toggleVisible(t)})),b.Xb()}}function _(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",19),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(2).toggleVisible(t)})),b.Xb()}}function j(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",18),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(4).toggleVisible(t)})),b.Xb()}}function V(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",19),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(4).toggleVisible(t)})),b.Xb()}}function K(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",18),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(6).toggleVisible(t)})),b.Xb()}}function Q(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",19),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(6).toggleVisible(t)})),b.Xb()}}function J(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span",21),b.Uc(1,K,1,0,"i",15),b.Uc(2,Q,1,0,"i",16),b.Yb(3,"span",17),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(6).toggleVisible(t)})),b.Wc(4),b.Xb(),b.Tb(5,"br"),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(2),b.Yc(" ",n.subGroup," ")}}function H(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,J,6,3,"span",20),b.Xb()),2&t){var i=b.oc().$implicit;b.Db(1),b.vc("ngForOf",i.children)}}function tt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span",21),b.Uc(1,j,1,0,"i",15),b.Uc(2,V,1,0,"i",16),b.Yb(3,"span",17),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(4).toggleVisiblePlus(t)})),b.Wc(4),b.Xb(),b.Tb(5,"br"),b.Uc(6,H,2,1,"div",0),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(2),b.Yc(" ",n.subGroup," "),b.Db(2),b.vc("ngIf",n.openCheck)}}function et(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,tt,7,4,"span",20),b.Xb()),2&t){var i=b.oc().$implicit;b.Db(1),b.vc("ngForOf",i.children)}}function it(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span"),b.Uc(1,Z,1,0,"i",15),b.Uc(2,_,1,0,"i",16),b.Yb(3,"span",17),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).toggleVisiblePlus(t)})),b.Wc(4),b.Xb(),b.Tb(5,"br"),b.Uc(6,et,2,1,"div",0),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(2),b.Yc(" ",n.subGroup," "),b.Db(2),b.vc("ngIf",n.openCheck)}}function nt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",22),b.kc("click",(function(){return b.Mc(i),b.oc(2).delete()})),b.Wc(1,"Delete"),b.Xb()}if(2&t){var n=b.oc(2);b.vc("disabled",!n.delCheck)}}function rt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," Customer Group Details "),b.Xb(),b.Tb(3,"br"),b.Yb(4,"table",1),b.Yb(5,"tr"),b.Yb(6,"td"),b.Yb(7,"div",2),b.Yb(8,"div",3),b.Yb(9,"h5",4),b.Wc(10,"Select Customer Group"),b.Xb(),b.Xb(),b.Yb(11,"div",5),b.Yb(12,"div",6),b.Yb(13,"div",7),b.Uc(14,it,7,4,"span",8),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"tr"),b.Yb(16,"td"),b.Yb(17,"input",9),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().subgrp=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"tr"),b.Yb(19,"td"),b.Yb(20,"input",10),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().maingrp=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(21,"tr"),b.Yb(22,"td",11),b.Wc(23," \xa0 "),b.Xb(),b.Xb(),b.Yb(24,"tr"),b.Yb(25,"td",11),b.Uc(26,nt,2,1,"button",12),b.Yb(27,"button",13),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(28),b.Xb(),b.Yb(29,"button",14),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(30,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(14),b.vc("ngForOf",n.treeObj),b.Db(3),b.vc("ngModel",n.subgrp),b.Db(3),b.vc("ngModel",n.maingrp),b.Db(6),b.vc("ngIf",n.delVisible),b.Db(1),b.vc("disabled",!n.creCheck),b.Db(1),b.Xc(n.saveStr)}}function ot(t,e){if(1&t&&(b.Yb(0,"td"),b.Wc(1),b.Xb()),2&t){var i=b.oc().$implicit;b.Db(1),b.Xc(i.mGrp)}}function ct(t,e){1&t&&(b.Yb(0,"td"),b.Wc(1,"\xa0"),b.Xb())}function at(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1," Active"),b.Xb())}function st(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1," Inactive"),b.Xb())}function bt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",32),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Uc(5,ot,2,1,"td",0),b.Uc(6,ct,2,0,"td",0),b.Yb(7,"td"),b.Uc(8,at,2,0,"span",0),b.Uc(9,st,2,0,"span",0),b.Xb(),b.Yb(10,"td"),b.Yb(11,"i",33),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).openOld(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.sGrp),b.Db(1),b.vc("ngIf","MAIN"!=n.mGrp),b.Db(1),b.vc("ngIf","MAIN"==n.mGrp),b.Db(2),b.vc("ngIf",1==n.statu),b.Db(1),b.vc("ngIf",1!=n.statu)}}function dt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Customer Groups "),b.Xb(),b.Yb(3,"table",23),b.Yb(4,"tr"),b.Yb(5,"td",24),b.Yb(6,"button",25),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(7,"New"),b.Xb(),b.Xb(),b.Yb(8,"td",26),b.Yb(9,"div",27),b.Tb(10,"span",28),b.Yb(11,"input",29),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().searchtext=t}))("input",(function(){return b.Mc(i),b.oc().searchItems()})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"table",30),b.Yb(13,"thead",31),b.Yb(14,"tr"),b.Yb(15,"th"),b.Wc(16,"#"),b.Xb(),b.Yb(17,"th"),b.Wc(18,"Group"),b.Xb(),b.Yb(19,"th"),b.Wc(20,"Main Group"),b.Xb(),b.Yb(21,"th"),b.Wc(22,"Status"),b.Xb(),b.Tb(23,"th"),b.Xb(),b.Xb(),b.Yb(24,"tbody"),b.Uc(25,bt,12,6,"tr",8),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(11),b.vc("ngModel",n.searchtext),b.Db(14),b.vc("ngForOf",n.grps)}}var lt=function(){function t(t,e,i,n,r){this.sgrp=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.creCheck=!1,this.delCheck=!1,this.delVisible=!1,this.saveStr="",this.recordID=0,this.maingrp="xx",this.subgrp="",this.maingrpid=0,this.opened=!1,this.searchtext="",this.authCheck=!1,this.adm.screenCheck(7,1,3,0)?(this.authCheck=!0,this.delCheck=this.adm.screenCheck(7,1,3,3),this.listAdd()):(this.router.navigateByUrl("crm/crmunauthorize"),this.authCheck=!1)}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.creCheck=this.adm.screenCheck(7,1,3,1),this.saveStr="Save",this.opened=!0},t.prototype.makeCle=function(){this.delVisible=!1,this.recordID=0,this.maingrp="",this.subgrp="",this.maingrpid=0},t.prototype.openOld=function(t){t.chk>0?(this.recordID=t.recordId,this.subgrp=t.sGrp,this.maingrp=t.mGrp,this.delVisible=!0,this.creCheck=this.adm.screenCheck(7,1,3,2),this.saveStr="Modify",this.opened=!0):this.toastr.warning("Builtin groups can not be modified / deleted","Warning")},t.prototype.valChk=function(){return""==this.subgrp.trim()?(this.toastr.warning("Sub Group not mentioned","Warning"),!1):""!=this.maingrp.trim()||(this.toastr.warning("Main Group not selected","Warning"),!1)},t.prototype.delete=function(){var t=this;g.a.fire({title:"Deletes Group Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.sgrp.setCustomerGroup({RecordId:t.recordID,MGrp:t.maingrp,SGrp:t.subgrp},3).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return"OK"==(t=e).result?(g.a.fire("Transaction Completed Successfully!","Group Details deleted.","success"),this.opened=0==this.recordID,this.makeCle(),this.listAdd(),this.treeAdd()):g.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))})))}))},t.prototype.save=function(){var t=this;this.valChk()&&g.a.fire({title:0==this.recordID?"Confirms Group Details":"Modifies Group Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var i={MGrp:t.maingrp,SGrp:t.subgrp},n=0==t.recordID?1:2;0!=t.recordID&&(i.RecordId=t.recordID),t.sgrp.setCustomerGroup(i,n).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return"OK"==(t=e).result?(g.a.fire("Transaction Completed Successfully!","Group Details saved.","success"),this.opened=0==this.recordID,this.makeCle(),this.listAdd(),this.treeAdd()):g.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))}))}}))},t.prototype.close=function(){this.opened=!1},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.sgrp.getCustomerGroups().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){return Object(G.__generator)(this,(function(t){return this.totalgrps=e,this.grps=this.totalgrps,this.searchItems(),this.treeAdd(),[2]}))}))}))},t.prototype.treeAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.sgrp.getCustomerGroupsTreeWise().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){return Object(G.__generator)(this,(function(t){return this.treeObj=e,this.spinner.hide(),[2]}))}))}))},t.prototype.toggleVisible=function(t){t.openCheck=!t.openCheck},t.prototype.toggleVisiblePlus=function(t){t.openCheck=!t.openCheck,this.maingrp=t.subGroup},t.prototype.searchItems=function(){var t=this;this.grps=this.totalgrps.filter((function(e){return e.sGrp.toUpperCase().includes(t.searchtext.toUpperCase())}))},t.\u0275fac=function(e){return new(e||t)(b.Sb(z),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-customer-groups"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","50%"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-content"],[1,"card-body"],[2,"width","100%","border-color","black","border-style","solid","border-width","thin","height","360px","overflow-y","scroll"],[4,"ngFor","ngForOf"],["type","text","id","basicInput","placeholder","Enter Group",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Main Group","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["colspan","2"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],["class","ft-chevron-right font-medium-1",3,"click",4,"ngIf"],["class","ft-chevron-down font-medium-1",3,"click",4,"ngIf"],[3,"click"],[1,"ft-chevron-right","font-medium-1",3,"click"],[1,"ft-chevron-down","font-medium-1",3,"click"],["style","left: 32px; position: relative;",4,"ngFor","ngForOf"],[2,"left","32px","position","relative"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],[2,"width","80%"],["align","left",2,"width","50%"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],["align","right",2,"width","50%"],[1,"form-group","has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"table","m-0",2,"width","80%"],[1,"thead-light"],["scope","row"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,rt,31,6,"div",0),b.Uc(2,dt,26,2,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,n.o,d.c,d.q,d.t],styles:["ng-sidebar-container[_ngcontent-%COMP%]{height:100vh}  .ng-sidebar{background-color:#fff;width:40%}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:2.375rem}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}"]}),t}(),ut=i("tmGQ"),ht=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getRxPriceListNames=function(){this.userdetails=this.adm.getUserCompleteInformation();var t=this.userdetails.usr;return this.http.post(this.adm.getActualURL()+"api/CRMRXSalePrices/GetRXPriceNames",t,this.adm.makeConfig())},t.prototype.getRxDiscountListNames=function(){this.userdetails=this.adm.getUserCompleteInformation();var t=this.userdetails.usr;return this.http.post(this.adm.getActualURL()+"api/CRMRXSalePrices/GetRXDiscountNames",t,this.adm.makeConfig())},t.prototype.getRxPriceList=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={detail:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRXSalePrices/GetRXSalePriceList",e,this.adm.makeConfig())},t.prototype.getRxDiscountList=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={detail:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRXSalePrices/GetRXSaleDiscountList",e,this.adm.makeConfig())},t.prototype.setRxPriceList=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={prices:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRXSalePrices/SetRXSalePriceList",e,this.adm.makeConfig())},t.prototype.setRxDiscountsList=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={discounts:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRXSalePrices/SetRXSaleDiscountList",e,this.adm.makeConfig())},t.prototype.getCRMRXDashboard=function(){this.userdetails=this.adm.getUserCompleteInformation();var t=this.userdetails.usr;return this.http.post(this.adm.getActualURL()+"api/CRMDashboardRX/GetCRMRXDashboard",t,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),pt=i("62cC");function mt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",25),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(2).toggleVisible(t)})),b.Xb()}}function ft(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",26),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(2).toggleVisible(t)})),b.Xb()}}function gt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",25),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(4).toggleVisible(t)})),b.Xb()}}function Xt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",26),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(4).toggleVisible(t)})),b.Xb()}}function Yt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",25),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(6).toggleVisible(t)})),b.Xb()}}function vt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",26),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(6).toggleVisible(t)})),b.Xb()}}function yt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span",28),b.Uc(1,Yt,1,0,"i",22),b.Uc(2,vt,1,0,"i",23),b.Yb(3,"a"),b.Yb(4,"span",24),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(6).toggleVisible(t)})),b.Wc(5),b.Xb(),b.Xb(),b.Tb(6,"br"),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(3),b.Yc(" ",n.subGroup," ")}}function Ct(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,yt,7,3,"span",27),b.Xb()),2&t){var i=b.oc().$implicit;b.Db(1),b.vc("ngForOf",i.children)}}function Mt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span",28),b.Uc(1,gt,1,0,"i",22),b.Uc(2,Xt,1,0,"i",23),b.Yb(3,"a"),b.Yb(4,"span",24),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(4).toggleVisiblePlus(t)})),b.Wc(5),b.Xb(),b.Xb(),b.Tb(6,"br"),b.Uc(7,Ct,2,1,"div",0),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(3),b.Yc(" ",n.subGroup," "),b.Db(2),b.vc("ngIf",n.openCheck)}}function kt(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,Mt,8,4,"span",27),b.Xb()),2&t){var i=b.oc().$implicit;b.Db(1),b.vc("ngForOf",i.children)}}function Dt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span"),b.Uc(1,mt,1,0,"i",22),b.Uc(2,ft,1,0,"i",23),b.Yb(3,"a"),b.Yb(4,"span",24),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).toggleVisiblePlus(t)})),b.Wc(5),b.Xb(),b.Xb(),b.Tb(6,"br"),b.Uc(7,kt,2,1,"div",0),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(3),b.Yc(" ",n.subGroup," "),b.Db(2),b.vc("ngIf",n.openCheck)}}function Wt(t,e){if(1&t&&(b.Yb(0,"option",71),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Xc(i.empname)}}function wt(t,e){if(1&t&&(b.Yb(0,"option",71),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordid),b.Db(1),b.Xc(i.accname)}}function xt(t,e){if(1&t&&(b.Yb(0,"option",71),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Xc(i.partyName)}}function It(t,e){if(1&t){var i=b.Zb();b.Yb(0,"table",1),b.Yb(1,"tr"),b.Yb(2,"td",29),b.Wc(3,"Code"),b.Xb(),b.Yb(4,"td",30),b.Yb(5,"input",31),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.PartyCode=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"tr"),b.Yb(7,"td",29),b.Wc(8,"Customer"),b.Xb(),b.Yb(9,"td",30),b.Yb(10,"input",32),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.PartyName=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(11,"tr"),b.Yb(12,"td",29),b.Wc(13,"Group"),b.Xb(),b.Yb(14,"td",30),b.Yb(15,"input",33),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).partygrp=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(16,"tr"),b.Yb(17,"td",29),b.Wc(18,"Status"),b.Xb(),b.Yb(19,"td",30),b.Yb(20,"select",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.Statu=t})),b.Yb(21,"option",35),b.Wc(22,"Active"),b.Xb(),b.Yb(23,"option",36),b.Wc(24,"Inactive"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(25,"tr"),b.Yb(26,"td",37),b.Wc(27,"\xa0"),b.Xb(),b.Xb(),b.Yb(28,"tr"),b.Yb(29,"td",38),b.Wc(30,"Contact Information"),b.Xb(),b.Xb(),b.Yb(31,"tr"),b.Yb(32,"td",29),b.Wc(33,"Contact"),b.Xb(),b.Yb(34,"td",30),b.Yb(35,"input",39),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.ContactPerson=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(36,"table",1),b.Yb(37,"tr"),b.Yb(38,"td",29),b.Wc(39,"Designation"),b.Xb(),b.Yb(40,"td",40),b.Yb(41,"input",41),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.ContactDesignation=t})),b.Xb(),b.Xb(),b.Yb(42,"td",29),b.Wc(43,"Email"),b.Xb(),b.Yb(44,"td",40),b.Yb(45,"input",42),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.ContactEmail=t})),b.Xb(),b.Xb(),b.Yb(46,"td",29),b.Wc(47,"Mobile"),b.Xb(),b.Yb(48,"td",43),b.Yb(49,"input",44),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.ContactMobile=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(50,"tr"),b.Yb(51,"td",29),b.Wc(52,"Pref Language"),b.Xb(),b.Yb(53,"td",40),b.Yb(54,"input",45),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.PrefLanguage=t})),b.Xb(),b.Xb(),b.Yb(55,"td",37),b.Wc(56,"\xa0 "),b.Xb(),b.Xb(),b.Yb(57,"tr"),b.Yb(58,"td",46),b.Wc(59,"\xa0"),b.Xb(),b.Xb(),b.Yb(60,"tr"),b.Yb(61,"td",47),b.Wc(62,"\xa0"),b.Xb(),b.Yb(63,"td",40),b.Yb(64,"div",48),b.Yb(65,"input",49),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.EximCheck=t})),b.Xb(),b.Yb(66,"label"),b.Yb(67,"span"),b.Wc(68,"Authorised ExIm"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(69,"td",29),b.Wc(70,"Air Dest"),b.Xb(),b.Yb(71,"td",40),b.Yb(72,"input",50),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.AirDestination=t})),b.Xb(),b.Xb(),b.Yb(73,"td",29),b.Wc(74,"Sea Dest"),b.Xb(),b.Yb(75,"td",43),b.Yb(76,"input",51),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.SeaDestination=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(77,"tr"),b.Yb(78,"td",46),b.Wc(79,"\xa0"),b.Xb(),b.Xb(),b.Yb(80,"tr"),b.Yb(81,"td",52),b.Wc(82,"Delivery Information"),b.Xb(),b.Xb(),b.Yb(83,"tr"),b.Yb(84,"td",29),b.Wc(85,"Lead Time"),b.Xb(),b.Yb(86,"td",40),b.Yb(87,"input",53),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.LeadTime=t})),b.Xb(),b.Xb(),b.Yb(88,"td",29),b.Wc(89,"Reminder -1"),b.Xb(),b.Yb(90,"td",40),b.Yb(91,"input",54),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.OrderReminder1=t})),b.Xb(),b.Xb(),b.Yb(92,"td",29),b.Wc(93,"Reminder -2"),b.Xb(),b.Yb(94,"td",43),b.Yb(95,"input",55),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.OrderReminder2=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(96,"tr"),b.Yb(97,"td",29),b.Wc(98,"Employee"),b.Xb(),b.Yb(99,"td",56),b.Yb(100,"select",57),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).empno=t}))("change",(function(){return b.Mc(i),b.oc(2).getEmployeeDet()})),b.Yb(101,"option",58),b.Wc(102,"Select Employee"),b.Xb(),b.Uc(103,Wt,2,2,"option",59),b.Xb(),b.Xb(),b.Xb(),b.Yb(104,"tr"),b.Yb(105,"td",29),b.Wc(106,"\xa0"),b.Xb(),b.Yb(107,"td",56),b.Yb(108,"table",1),b.Yb(109,"tr"),b.Yb(110,"td",60),b.Wc(111,"Mobile"),b.Xb(),b.Yb(112,"td",61),b.Yb(113,"input",62),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).empdet.mobile=t})),b.Xb(),b.Xb(),b.Yb(114,"td",60),b.Wc(115,"Department"),b.Xb(),b.Yb(116,"td",61),b.Yb(117,"input",62),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).empdet.department=t})),b.Xb(),b.Xb(),b.Yb(118,"td",60),b.Wc(119,"Designation"),b.Xb(),b.Yb(120,"td",63),b.Yb(121,"input",62),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).empdet.designation=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(122,"tr"),b.Yb(123,"td",29),b.Wc(124,"Bank"),b.Xb(),b.Yb(125,"td",56),b.Yb(126,"select",64),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).BankForSecurity=t})),b.Yb(127,"option",58),b.Wc(128,"Bank for Security"),b.Xb(),b.Uc(129,wt,2,2,"option",59),b.Xb(),b.Xb(),b.Xb(),b.Yb(130,"tr"),b.Yb(131,"td",29),b.Wc(132,"Main Customer"),b.Xb(),b.Yb(133,"td",56),b.Yb(134,"select",64),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.MainCustomer=t})),b.Yb(135,"option",58),b.Wc(136,"--Select Main Customer--"),b.Xb(),b.Uc(137,xt,2,2,"option",59),b.Xb(),b.Xb(),b.Xb(),b.Yb(138,"tr"),b.Yb(139,"td",46),b.Wc(140,"\xa0"),b.Xb(),b.Xb(),b.Yb(141,"tr"),b.Yb(142,"td",29),b.Wc(143,"User Code"),b.Xb(),b.Yb(144,"td",40),b.Yb(145,"input",65),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.PartyUserName=t})),b.Xb(),b.Xb(),b.Yb(146,"td",17),b.Yb(147,"select",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.DefaultPurchaseorSaleType=t})),b.Yb(148,"option",66),b.Wc(149,"--Select Default Sale Type--"),b.Xb(),b.Yb(150,"option",67),b.Wc(151,"General"),b.Xb(),b.Yb(152,"option",68),b.Wc(153,"Central"),b.Xb(),b.Yb(154,"option",69),b.Wc(155,"Imports"),b.Xb(),b.Xb(),b.Xb(),b.Yb(156,"td",17),b.Yb(157,"input",70),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supcuschk=t})),b.Xb(),b.Yb(158,"label"),b.Yb(159,"span"),b.Wc(160,"Also Supplier"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(5),b.vc("ngModel",n.supplier.PartyCode),b.Db(5),b.vc("ngModel",n.supplier.PartyName),b.Db(5),b.vc("ngModel",n.partygrp),b.Db(5),b.vc("ngModel",n.supplier.Statu),b.Db(15),b.vc("ngModel",n.supplier.ContactPerson),b.Db(6),b.vc("ngModel",n.supplier.ContactDesignation),b.Db(4),b.vc("ngModel",n.supplier.ContactEmail),b.Db(4),b.vc("ngModel",n.supplier.ContactMobile),b.Db(5),b.vc("ngModel",n.supplier.PrefLanguage),b.Db(11),b.vc("ngModel",n.supplier.EximCheck),b.Db(7),b.vc("disabled",!n.supplier.EximCheck)("ngModel",n.supplier.AirDestination),b.Db(4),b.vc("disabled",!n.supplier.EximCheck)("ngModel",n.supplier.SeaDestination),b.Db(11),b.vc("ngModel",n.supplier.LeadTime),b.Db(4),b.vc("ngModel",n.supplier.OrderReminder1),b.Db(4),b.vc("ngModel",n.supplier.OrderReminder2),b.Db(5),b.vc("ngModel",n.empno),b.Db(3),b.vc("ngForOf",n.employees),b.Db(10),b.vc("ngModel",n.empdet.mobile),b.Db(4),b.vc("ngModel",n.empdet.department),b.Db(4),b.vc("ngModel",n.empdet.designation),b.Db(5),b.vc("ngModel",n.BankForSecurity),b.Db(3),b.vc("ngForOf",n.banks),b.Db(5),b.vc("ngModel",n.supplier.MainCustomer),b.Db(3),b.vc("ngForOf",n.totalparties),b.Db(8),b.vc("ngModel",n.supplier.PartyUserName),b.Db(2),b.vc("ngModel",n.supplier.DefaultPurchaseorSaleType),b.Db(10),b.vc("ngModel",n.supcuschk)}}function St(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",79),b.Wc(2),b.Xb(),b.Yb(3,"td",76),b.Wc(4),b.Xb(),b.Yb(5,"td",77),b.Yb(6,"button",80),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;b.oc(2);var n=b.Jc(39);return b.oc().openModal(n,2,t)})),b.Wc(7,"Show"),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.AddressName)}}function At(t,e){if(1&t){var i=b.Zb();b.Yb(0,"table",1),b.Yb(1,"tr"),b.Yb(2,"td",37),b.Yb(3,"div",72),b.Yb(4,"table",73),b.Yb(5,"thead",74),b.Yb(6,"tr"),b.Yb(7,"th",75),b.Wc(8,"#"),b.Xb(),b.Yb(9,"th",76),b.Wc(10,"Address"),b.Xb(),b.Yb(11,"th",77),b.Yb(12,"button",78),b.kc("click",(function(){b.Mc(i),b.oc();var t=b.Jc(39);return b.oc().openModal(t,1,null)})),b.Wc(13,"Add"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(14,"tbody"),b.Uc(15,St,8,2,"tr",9),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(15),b.vc("ngForOf",n.addresses)}}function Rt(t,e){if(1&t&&(b.Yb(0,"option",71),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function Ot(t,e){if(1&t&&(b.Yb(0,"option",71),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function Ut(t,e){if(1&t){var i=b.Zb();b.Yb(0,"table",1),b.Yb(1,"tr"),b.Yb(2,"td",81),b.Wc(3,"Credit Limit"),b.Xb(),b.Yb(4,"td",82),b.Yb(5,"input",83),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.CrAmt=t})),b.Xb(),b.Xb(),b.Yb(6,"td",81),b.Wc(7,"Restriction Mode"),b.Xb(),b.Yb(8,"td",82),b.Yb(9,"select",64),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.RestrictMode=t})),b.Yb(10,"option",58),b.Wc(11,"Select Restriction Mode"),b.Xb(),b.Yb(12,"option",35),b.Wc(13,"None"),b.Xb(),b.Yb(14,"option",36),b.Wc(15,"Instruction"),b.Xb(),b.Yb(16,"option",84),b.Wc(17,"Restriction"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"tr"),b.Yb(19,"td",81),b.Wc(20,"Credit Days"),b.Xb(),b.Yb(21,"td",82),b.Yb(22,"input",85),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.CrDay=t})),b.Xb(),b.Xb(),b.Yb(23,"td",81),b.Wc(24,"Reminder -1 "),b.Xb(),b.Yb(25,"td",82),b.Yb(26,"input",86),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.PaymentReminder1=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(27,"tr"),b.Yb(28,"td",81),b.Wc(29,"Reminder -2 "),b.Xb(),b.Yb(30,"td",82),b.Yb(31,"input",87),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.PaymentReminder2=t})),b.Xb(),b.Xb(),b.Yb(32,"td",81),b.Wc(33,"Reminder -3 "),b.Xb(),b.Yb(34,"td",82),b.Yb(35,"input",88),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.PaymentReminder3=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(36,"tr"),b.Yb(37,"td",81),b.Wc(38,"Payment Mode "),b.Xb(),b.Yb(39,"td",82),b.Yb(40,"select",64),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.DefaultPaymentMode=t})),b.Yb(41,"option",58),b.Wc(42,"Select Payment Mode"),b.Xb(),b.Yb(43,"option",89),b.Wc(44,"Cash"),b.Xb(),b.Yb(45,"option",90),b.Wc(46,"Cheque"),b.Xb(),b.Yb(47,"option",91),b.Wc(48,"Online"),b.Xb(),b.Yb(49,"option",92),b.Wc(50,"Credit"),b.Xb(),b.Xb(),b.Xb(),b.Yb(51,"td",17),b.Wc(52,"\xa0"),b.Xb(),b.Xb(),b.Yb(53,"tr"),b.Yb(54,"td",81),b.Wc(55,"Price List "),b.Xb(),b.Yb(56,"td",82),b.Yb(57,"select",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.Pricelist=t})),b.Yb(58,"option",66),b.Wc(59,"--Select Price--"),b.Xb(),b.Uc(60,Rt,2,2,"option",59),b.Xb(),b.Xb(),b.Yb(61,"td",81),b.Wc(62,"Discount List "),b.Xb(),b.Yb(63,"td",82),b.Yb(64,"select",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.Discountlist=t})),b.Yb(65,"option",66),b.Wc(66,"--Select Discount--"),b.Xb(),b.Uc(67,Ot,2,2,"option",59),b.Xb(),b.Xb(),b.Xb(),b.Yb(68,"tr"),b.Yb(69,"td",37),b.Wc(70,"\xa0"),b.Xb(),b.Xb(),b.Yb(71,"tr"),b.Yb(72,"td",38),b.Wc(73,"KYC"),b.Xb(),b.Xb(),b.Yb(74,"tr"),b.Yb(75,"td",81),b.Wc(76,"A/c Number "),b.Xb(),b.Yb(77,"td",82),b.Yb(78,"input",93),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.KycAcnumber=t})),b.Xb(),b.Xb(),b.Yb(79,"td",81),b.Wc(80,"A/c Holder "),b.Xb(),b.Yb(81,"td",82),b.Yb(82,"input",93),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.KycAcholder=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(83,"tr"),b.Yb(84,"td",81),b.Wc(85,"Bank name "),b.Xb(),b.Yb(86,"td",82),b.Yb(87,"input",93),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.KycAcbank=t})),b.Xb(),b.Xb(),b.Yb(88,"td",81),b.Wc(89,"Bank Branch "),b.Xb(),b.Yb(90,"td",82),b.Yb(91,"input",93),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.KycAcbranch=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(92,"tr"),b.Yb(93,"td",81),b.Wc(94,"IFSC "),b.Xb(),b.Yb(95,"td",82),b.Yb(96,"input",93),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).supplier.KycAcifsc=t})),b.Xb(),b.Xb(),b.Yb(97,"td",17),b.Wc(98,"\xa0"),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(5),b.vc("ngModel",n.supplier.CrAmt),b.Db(4),b.vc("ngModel",n.supplier.RestrictMode),b.Db(13),b.vc("ngModel",n.supplier.CrDay),b.Db(4),b.vc("ngModel",n.supplier.PaymentReminder1),b.Db(5),b.vc("ngModel",n.supplier.PaymentReminder2),b.Db(4),b.vc("ngModel",n.supplier.PaymentReminder3),b.Db(5),b.vc("ngModel",n.supplier.DefaultPaymentMode),b.Db(17),b.vc("ngModel",n.supplier.Pricelist),b.Db(3),b.vc("ngForOf",n.pricelists),b.Db(4),b.vc("ngModel",n.supplier.Discountlist),b.Db(3),b.vc("ngForOf",n.discountlists),b.Db(11),b.vc("ngModel",n.supplier.KycAcnumber),b.Db(4),b.vc("ngModel",n.supplier.KycAcholder),b.Db(5),b.vc("ngModel",n.supplier.KycAcbank),b.Db(4),b.vc("ngModel",n.supplier.KycAcbranch),b.Db(5),b.vc("ngModel",n.supplier.KycAcifsc)}}function Tt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",96),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Yb(8,"i",97),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(3).deleteDepartment(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.Department),b.Db(2),b.Xc(n.DepartmentDetails)}}function Pt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"table",1),b.Yb(1,"tr"),b.Yb(2,"td",94),b.Wc(3," Department "),b.Xb(),b.Yb(4,"td",82),b.Yb(5,"input",93),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).department=t})),b.Xb(),b.Xb(),b.Yb(6,"td",94),b.Wc(7," Department Id "),b.Xb(),b.Yb(8,"td",82),b.Yb(9,"input",93),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).departmentid=t})),b.Xb(),b.Xb(),b.Yb(10,"td",77),b.Yb(11,"button",78),b.kc("click",(function(){return b.Mc(i),b.oc(2).addDepartment()})),b.Wc(12,"Add"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(13,"div",95),b.Yb(14,"table",73),b.Yb(15,"thead",74),b.Yb(16,"tr"),b.Yb(17,"th"),b.Wc(18,"#"),b.Xb(),b.Yb(19,"th"),b.Wc(20,"Department"),b.Xb(),b.Yb(21,"th"),b.Wc(22,"Detail"),b.Xb(),b.Tb(23,"th"),b.Xb(),b.Xb(),b.Yb(24,"tbody"),b.Uc(25,Tt,9,3,"tr",9),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(5),b.vc("ngModel",n.department),b.Db(4),b.vc("ngModel",n.departmentid),b.Db(16),b.vc("ngForOf",n.departments)}}function Ft(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",98),b.kc("click",(function(){return b.Mc(i),b.oc(2).delete()})),b.Wc(1,"Delete"),b.Xb()}if(2&t){var n=b.oc(2);b.vc("disabled",!n.delcheck)}}function Lt(t,e){if(1&t&&(b.Yb(0,"option",71),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.cntname),b.Db(1),b.Xc(i.cntname)}}function Nt(t,e){if(1&t&&(b.Yb(0,"option",71),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.stateName),b.Db(1),b.Xc(i.stateName)}}function qt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",119),b.kc("click",(function(){return b.Mc(i),b.oc(3).addAddress()})),b.Wc(1,"Add"),b.Xb()}}function Bt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",119),b.kc("click",(function(){return b.Mc(i),b.oc(3).updateAddress()})),b.Wc(1,"Modify"),b.Xb()}}function Et(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",120),b.kc("click",(function(){return b.Mc(i),b.oc(3).deleteAddress()})),b.Wc(1,"Delete"),b.Xb()}}function Gt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div",99),b.Yb(1,"h6",100),b.Wc(2,"Address"),b.Xb(),b.Yb(3,"button",101),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(4,"span",102),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",103),b.Yb(7,"table",1),b.Yb(8,"tr"),b.Yb(9,"td",29),b.Wc(10,"Name"),b.Xb(),b.Yb(11,"td",30),b.Yb(12,"input",93),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.nam=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(13,"tr"),b.Yb(14,"td",29),b.Wc(15,"Address"),b.Xb(),b.Yb(16,"td",104),b.Yb(17,"textarea",105),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.addr=t})),b.Xb(),b.Xb(),b.Yb(18,"td",29),b.Wc(19,"ZIP"),b.Xb(),b.Yb(20,"td",106),b.Yb(21,"input",107),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.zip=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(22,"tr"),b.Yb(23,"td",29),b.Wc(24,"\xa0"),b.Xb(),b.Yb(25,"td",29),b.Wc(26,"Mobile"),b.Xb(),b.Yb(27,"td",106),b.Yb(28,"input",44),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.mobile=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(29,"tr"),b.Yb(30,"td",29),b.Wc(31,"Country"),b.Xb(),b.Yb(32,"td",106),b.Yb(33,"select",108),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.country=t}))("change",(function(){return b.Mc(i),b.oc(2).changeCountry()})),b.Yb(34,"option",109),b.Wc(35,"--Select Country--"),b.Xb(),b.Uc(36,Lt,2,2,"option",59),b.Xb(),b.Xb(),b.Yb(37,"td",29),b.Wc(38,"Tel"),b.Xb(),b.Yb(39,"td",106),b.Yb(40,"input",110),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.tel=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(41,"tr"),b.Yb(42,"td",29),b.Wc(43,"State"),b.Xb(),b.Yb(44,"td",106),b.Yb(45,"select",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.stat=t})),b.Yb(46,"option",66),b.Wc(47,"--Select State--"),b.Xb(),b.Uc(48,Nt,2,2,"option",59),b.Xb(),b.Xb(),b.Yb(49,"td",29),b.Wc(50,"Fax"),b.Xb(),b.Yb(51,"td",106),b.Yb(52,"input",111),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.fax=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(53,"tr"),b.Yb(54,"td",29),b.Wc(55,"District"),b.Xb(),b.Yb(56,"td",106),b.Yb(57,"input",112),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.district=t})),b.Xb(),b.Xb(),b.Yb(58,"td",29),b.Wc(59,"Email"),b.Xb(),b.Yb(60,"td",106),b.Yb(61,"input",113),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.email=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(62,"tr"),b.Yb(63,"td",29),b.Wc(64,"City"),b.Xb(),b.Yb(65,"td",106),b.Yb(66,"input",114),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.city=t})),b.Xb(),b.Xb(),b.Yb(67,"td",29),b.Wc(68,"Web"),b.Xb(),b.Yb(69,"td",106),b.Yb(70,"input",115),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.web=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(71,"tr"),b.Yb(72,"td",29),b.Wc(73,"Status"),b.Xb(),b.Yb(74,"td",30),b.Yb(75,"select",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).address.statu=t})),b.Yb(76,"option",35),b.Wc(77,"Active"),b.Xb(),b.Yb(78,"option",36),b.Wc(79,"Inactive"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(80,"tr"),b.Yb(81,"td",37),b.Uc(82,qt,2,0,"button",116),b.Uc(83,Bt,2,0,"button",116),b.Uc(84,Et,2,0,"button",117),b.Yb(85,"button",118),b.kc("click",(function(){return b.Mc(i),b.oc(2).closeAddress()})),b.Wc(86,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(12),b.vc("ngModel",n.address.nam),b.Db(5),b.vc("ngModel",n.address.addr),b.Db(4),b.vc("ngModel",n.address.zip),b.Db(7),b.vc("ngModel",n.address.mobile),b.Db(5),b.vc("ngModel",n.address.country),b.Db(3),b.vc("ngForOf",n.countries),b.Db(4),b.vc("ngModel",n.address.tel),b.Db(5),b.vc("ngModel",n.address.stat),b.Db(3),b.vc("ngForOf",n.selectedstates),b.Db(4),b.vc("ngModel",n.address.fax),b.Db(5),b.vc("ngModel",n.address.district),b.Db(4),b.vc("ngModel",n.address.email),b.Db(5),b.vc("ngModel",n.address.city),b.Db(4),b.vc("ngModel",n.address.web),b.Db(5),b.vc("ngModel",n.address.statu),b.Db(7),b.vc("ngIf",0==n.address.id),b.Db(1),b.vc("ngIf",0!=n.address.id),b.Db(1),b.vc("ngIf",0!=n.address.id)}}function zt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",2),b.Yb(6,"div",3),b.Yb(7,"div",4),b.Yb(8,"h4",5),b.Wc(9,"Select Group"),b.Xb(),b.Xb(),b.Yb(10,"div",6),b.Yb(11,"div",7),b.Yb(12,"div",8),b.Uc(13,Dt,8,4,"span",9),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(14,"td",10),b.Yb(15,"div",3),b.Yb(16,"div",4),b.Yb(17,"h4",5),b.Wc(18,"Customer Details"),b.Xb(),b.Xb(),b.Yb(19,"div",6),b.Yb(20,"div",7),b.Yb(21,"div",8),b.Yb(22,"ngb-tabset",11),b.Yb(23,"ngb-tab",12),b.Uc(24,It,161,29,"ng-template",13),b.Xb(),b.Yb(25,"ngb-tab",14),b.Uc(26,At,16,1,"ng-template",13),b.Xb(),b.Yb(27,"ngb-tab",15),b.Uc(28,Ut,99,16,"ng-template",13),b.Xb(),b.Yb(29,"ngb-tab",16),b.Uc(30,Pt,26,3,"ng-template",13),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(31,"tr"),b.Yb(32,"td",17),b.Yb(33,"button",18),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(34),b.Xb(),b.Uc(35,Ft,2,1,"button",19),b.Yb(36,"button",20),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(37,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Uc(38,Gt,87,18,"ng-template",null,21,b.Vc),b.Xb()}if(2&t){var n=b.oc();b.Db(2),b.Yc("",n.actype," Details"),b.Db(11),b.vc("ngForOf",n.treeObj),b.Db(20),b.vc("disabled",!n.crecheck),b.Db(1),b.Xc(n.savestr),b.Db(1),b.vc("ngIf",0!=n.recordid)}}function $t(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",130),b.kc("click",(function(){return b.Mc(i),b.oc(2).openNew()})),b.Wc(1,"New"),b.Xb()}}function Zt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",132),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(2).openOld(t)})),b.Xb()}}function _t(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",79),b.Wc(2),b.Xb(),b.Yb(3,"td",2),b.Wc(4),b.Xb(),b.Yb(5,"td",128),b.Wc(6),b.Xb(),b.Yb(7,"td",63),b.Wc(8),b.Xb(),b.Yb(9,"td",129),b.Wc(10),b.Xb(),b.Yb(11,"td",129),b.Wc(12),b.Xb(),b.Yb(13,"td",75),b.Uc(14,Zt,1,0,"i",131),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index,r=b.oc(2);b.Db(2),b.Xc(n+1+(r.pageno-1)*r.PAGESIZE),b.Db(2),b.Xc(i.partyName),b.Db(2),b.Xc(i.partyGroupName),b.Db(2),b.Xc(i.contactPerson),b.Db(2),b.Xc(i.contactMobile),b.Db(2),b.Xc(i.status),b.Db(2),b.vc("ngIf",!r.opened)}}function jt(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Customers "),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",121),b.Uc(6,$t,2,0,"button",122),b.Xb(),b.Yb(7,"td",123),b.Yb(8,"div",124),b.Tb(9,"span",125),b.Yb(10,"input",126),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().searchtext=t}))("input",(function(){return b.Mc(i),b.oc().searchParties()})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(11,"ngb-pagination",127),b.kc("pageChange",(function(t){return b.Mc(i),b.oc().loadPage(t)}))("pageChange",(function(t){return b.Mc(i),b.oc().page4=t})),b.Xb(),b.Yb(12,"table",73),b.Yb(13,"thead",74),b.Yb(14,"tr"),b.Yb(15,"th",75),b.Wc(16,"#"),b.Xb(),b.Yb(17,"th",2),b.Wc(18),b.Xb(),b.Yb(19,"th",128),b.Wc(20,"Group"),b.Xb(),b.Yb(21,"th",63),b.Wc(22,"Contact Person"),b.Xb(),b.Yb(23,"th",129),b.Wc(24,"Contact Mobile"),b.Xb(),b.Yb(25,"th",129),b.Wc(26,"Status"),b.Xb(),b.Tb(27,"th",75),b.Xb(),b.Xb(),b.Yb(28,"tbody"),b.Uc(29,_t,15,7,"tr",9),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(6),b.vc("ngIf",!n.opened),b.Db(4),b.vc("ngModel",n.searchtext),b.Db(1),b.vc("collectionSize",n.totalpages)("page",n.page4)("maxSize",5)("rotate",!0)("boundaryLinks",!0),b.Db(7),b.Xc(n.actype),b.Db(11),b.vc("ngForOf",n.parties)}}var Vt=function(){function t(t,e,i,n,r,o,c,a){var s=this;this.adm=t,this.modalService=e,this.spinner=i,this.router=n,this.crm=r,this.par=o,this.cou=c,this.hrd=a,this.actype="Customer",this.authCheck=!1,this.partytype="CUS",this.tracheck=1,this.prevchk=!0,this.opened=!1,this.RestrictMode=0,this.BankForSecurity=0,this.country=0,this.defaultcountry="",this.eximcheck=!1,this.crecheck=!0,this.delcheck=!0,this.supcuschk=!1,this.pageno=1,this.PAGESIZE=15,this.totalpages=1,this.page4=1,this.savestr="Save",this.empno=0,this.empdet={mobile:"",department:"",designation:""},this.supplier={RecordId:0,PartyName:null,PartyGroup:0,Statu:1,ContactPerson:null,ContactDesignation:null,ContactMobile:null,ContactEmail:null,LeadTime:null,CrDaysCheck:0,CrDay:null,CrAmtCheck:0,CrAmt:null,RestrictMode:0,PartyType:this.partytype,Pricelist:" ",Discountlist:" ",DualType:0,EximCheck:0,AirDestination:null,SeaDestination:null,BankForSecurity:0,MainCustomer:0,PartyCode:null,PartyUserName:"",PrefLanguage:"",OrderReminder1:null,OrderReminder2:null,OrderReminder3:null,DefaultPurchaseorSaleType:" ",PaymentReminder1:null,PaymentReminder2:null,PaymentReminder3:null,DefaultPaymentMode:"CASH",KycAcnumber:"",KycAcbank:"",KycAcbranch:"",KycAcholder:"",KycAcifsc:""},this.recordid=0,this.partygrp="",this.parties=[],this.totaladdresses=[],this.totaldepartments=[],this.addresses=[],this.address={id:0,nam:"",addr:"",country:"",stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",web:"",statu:1},this.addressname="",this.departments=[],this.department="",this.departmentid="",this.totalparties=[],this.searchtext="",this.banks=[],this.countries=[],this.adm.screenCheck(7,1,4,0)?(this.authCheck=!0,this.delcheck=this.adm.screenCheck(7,1,4,3),this.listAdd(),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.hrd.getHRDEmployees().subscribe((function(t){s.employees=t,s.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.cou.getAdmActiveCountries().subscribe((function(t){s.countries=t;var e=s.countries.filter((function(t){return 2==t.statu}));e.length>0&&(s.defaultcountry=e[0].cntname),s.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.cou.getTotalStates().subscribe((function(t){s.states=t,s.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getRxPriceListNames().subscribe((function(t){s.pricelists=t,s.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getRxDiscountListNames().subscribe((function(t){s.discountlists=t,s.spinner.hide()}))):(this.router.navigateByUrl("crm/crmunauthorize"),this.authCheck=!1)}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.par.GetPartyCompleteDetails("CUS").subscribe((function(e){var i=e;t.treeObj=i.partygroups,t.totalparties=i.parties,t.totaladdresses=i.addresses,t.totaldepartments=i.departments,t.banks=i.banks,t.searchParties(),t.spinner.hide()}))},t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.crecheck=this.adm.screenCheck(7,1,4,1),this.makeCle(),this.opened=!0,this.recordid=0,this.savestr="Save",this.prevchk=!0},t.prototype.openOld=function(t){this.crecheck=this.adm.screenCheck(7,1,4,2),this.recordid=t.recordId,this.opened=!0,this.savestr="Modify",this.empno=+t.employee,this.supplier={RecordId:t.recordId,PartyName:t.partyName,PartyGroup:t.partyGroup,Addr:t.addr,Country:t.country,Stat:t.stat,District:t.district,City:t.city,Zip:t.zip,Mobile:t.mobile,Tel:t.tel,Fax:t.fax,Email:t.email,Web:t.web,Statu:"Active"==t.status?1:2,ContactPerson:t.contactPerson,ContactDesignation:t.contactDesignation,ContactMobile:t.contactMobile,ContactEmail:t.contactEmail,LeadTime:t.leadTime,CrDaysCheck:t.crDaysCheck,CrDay:t.crDay,CrAmtCheck:t.CrAmtCheck,CrAmt:t.crAmt,RestrictMode:t.restrictMode,Gst:t.gst,Cin:t.cin,Pan:t.pan,Din:t.din,PartyType:this.partytype,DualType:t.dualType,EximCheck:t.eximCheck,AirDestination:t.airDestination,SeaDestination:t.seaDestination,BankForSecurity:t.bankForSecurity,MainCustomer:t.mainCustomer,Pricelist:t.pricelist,Discountlist:t.discountlist,PartyCode:t.partyCode,PartyUserName:t.partyUserName,PrefLanguage:t.prefLanguage,OrderReminder1:t.orderReminder1,OrderReminder2:t.orderReminder2,OrderReminder3:t.orderReminder3,DefaultPurchaseorSaleType:t.defaultPurchaseorSaleType,PaymentReminder1:t.paymentReminder1,PaymentReminder2:t.paymentReminder2,PaymentReminder3:t.paymentReminder3,DefaultPaymentMode:t.defaultPaymentMode,KycAcnumber:t.kycAcnumber,KycAcbank:t.kycAcbank,KycAcbranch:t.kycAcbranch,KycAcholder:t.kycAcholder,KycAcifsc:t.kycAcifsc},this.partygrp=t.partyGroupName,this.prevchk=!t.partyUserName||null==t.partyUserName.trim(),this.addresses=[];var e=this.totaladdresses.filter((function(e){return e.recordId==+t.recordId}));if(e)for(var i=0;i<e.length;i++)this.addresses.push({AddressName:e[i].addressName,Addres:e[i].addres,Country:e[i].country,Stat:e[i].stat,District:e[i].district,City:e[i].city,Zip:e[i].zip,Mobile:e[i].mobile,Tel:e[i].tel,Fax:e[i].fax,Email:e[i].email,Webid:e[i].webid,Statu:+e[i].statu});this.departments=[];var n=this.totaldepartments.filter((function(e){return e.recordId==+t.recordId}));if(n)for(i=0;i<n.length;i++)this.departments.push({Department:n[i].department,DepartmentDetails:n[i].departmentDetails})},t.prototype.close=function(){this.opened=!1},t.prototype.makeCle=function(){this.partygrp="",this.supplier={RecordId:0,PartyName:null,PartyGroup:0,Statu:1,ContactPerson:null,ContactDesignation:null,ContactMobile:null,ContactEmail:null,LeadTime:null,CrDaysCheck:0,CrDay:null,CrAmtCheck:0,CrAmt:null,RestrictMode:0,PartyType:this.partytype,DualType:0,EximCheck:0,Pricelist:" ",Discountlist:" ",MainCustomer:0,AirDestination:null,SeaDestination:null,BankForSecurity:0,PartyCode:null,PartyUserName:null,PrefLanguage:"",OrderReminder1:null,OrderReminder2:null,OrderReminder3:null,DefaultPurchaseorSaleType:" ",PaymentReminder1:null,PaymentReminder2:null,PaymentReminder3:null,DefaultPaymentMode:"CASH",KycAcnumber:"",KycAcbank:"",KycAcbranch:"",KycAcholder:"",KycAcifsc:""},this.addresses=[],this.departments=[]},t.prototype.toggleVisible=function(t){t.openCheck=!t.openCheck},t.prototype.toggleVisiblePlus=function(t){t.openCheck=!t.openCheck,this.partygrp=t.subGroup,this.supplier.PartyGroup=t.recordId},t.prototype.getParties=function(){var t=this;this.par.getPartyDetails(this.partytype).subscribe((function(e){t.totalparties=e,t.searchParties()}))},t.prototype.searchParties=function(){this.loadPage(1)},t.prototype.loadPage=function(t){this.pageno=t,this.page4=t,this.searchDetails()},t.prototype.searchDetails=function(){var t,e=this;t=""==this.searchtext.trim()?this.totalparties:this.totalparties.filter((function(t){return t.partyName.toUpperCase().includes(e.searchtext.toUpperCase())})),this.totalpages=t.length/this.PAGESIZE*10,this.parties=[];for(var i=(this.pageno-1)*this.PAGESIZE,n=i+this.PAGESIZE-1,r=i;r<=n;r++){if(r==t.length)return;this.parties.push(t[r])}},t.prototype.valChk=function(){return this.supplier.PartyName?""==this.supplier.PartyName.trim()?(this.adm.showMessage("No "+this.actype+" Selected","Warning",3),!1):""!=this.partygrp.trim()||(this.adm.showMessage(this.actype+" group not Selected","Warning",3),!1):(this.adm.showMessage("No "+this.actype+" Selected","Warning",3),!1)},t.prototype.save=function(){var t=this;this.valChk()&&(this.supplier.CrDaysCheck=1==this.supplier.CrDaysCheck?1:0,this.supplier.CrAmtCheck=1==this.supplier.CrAmtCheck?1:0,this.supplier.EximCheck=1==this.supplier.EximCheck?1:0,this.supplier.Employee=+this.empno>0?+this.empno:null,this.supplier.DualType=this.supcuschk?1:0,this.supplier.RestrictMode=+this.supplier.RestrictMode,this.supplier.Statu=+this.supplier.Statu,g.a.fire({title:0==this.recordid?"Confirms "+this.actype+" Details":"Modifies "+this.actype+" details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.supplier.BankForSecurity=+t.BankForSecurity,t.tracheck=0==t.recordid?1:2,t.par.setPartyDetail(t.supplier,t.addresses,t.departments,t.tracheck).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Customer Details Saved.","success"),t.listAdd(),t.makeCle(),t.recordid>0&&(t.opened=!1)):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()})))})))},t.prototype.delete=function(){var t=this;this.supplier.CrDaysCheck=1==this.supplier.CrDaysCheck?1:0,this.supplier.CrAmtCheck=1==this.supplier.CrAmtCheck?1:0,this.supplier.EximCheck=1==this.supplier.EximCheck?1:0,this.supplier.Country=+this.supplier.Country,this.supplier.RestrictMode=+this.supplier.RestrictMode,this.supplier.Statu=+this.supplier.Statu,console.log(this.supplier,"supplier"),g.a.fire({title:"Deletes "+this.actype+" Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.supplier.BankForSecurity=+t.BankForSecurity,t.par.setPartyDetail(t.supplier,t.addresses,t.departments,3).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Customer Details Deleted.","success"),t.listAdd(),t.makeCle(),t.recordid>0&&(t.opened=!1)):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()})))}))},t.prototype.changeCountry=function(){var t=this,e=this.countries.filter((function(e){return e.cntname==t.address.country}));if(e.length>0){var i=+e[0].recordId;this.selectedstates=this.states.filter((function(t){return t.cntname==i}))}},t.prototype.valCheckAddress=function(t){var e=this;if(""==this.address.nam.trim())return this.adm.showMessage("Address name not mentioned","Warning",3),!1;if(""==this.address.addr.trim())return this.adm.showMessage("Address not mentioned","Warning",3),!1;if(1==t){if(this.addresses.filter((function(t){return t.AddressName.toUpperCase()==e.address.nam.toUpperCase()})).length>0)return this.adm.showMessage("This name is already existed","Warning",3),!1}else if(this.addresses.filter((function(t){return t.AddressName.toUpperCase()==e.address.nam.toUpperCase()&&t.AddressName.toUpperCase()!=e.showaddress.AddressName.toUpperCase()})).length>0)return this.adm.showMessage("This name is already existed","Warning",3),!1;return!0},t.prototype.addAddress=function(){this.valCheckAddress(1)&&(this.addresses.push({AddressName:this.address.nam,Addres:this.address.addr,Country:this.address.country,Stat:this.address.stat,District:this.address.district,City:this.address.city,Zip:this.address.zip,Mobile:this.address.mobile,Tel:this.address.tel,Fax:this.address.fax,Email:this.address.email,Webid:this.address.web,Statu:+this.address.statu}),this.address={id:0,nam:"",addr:"",country:"",stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",web:"",statu:1})},t.prototype.updateAddress=function(){var t=this;if(this.valCheckAddress(2)){var e=this.addresses.filter((function(e){return e.AddressName==t.addressname}));e&&(e.length>0&&(e[0].AddressName=this.address.nam,e[0].Addres=this.address.addr,e[0].Country=this.address.country,e[0].Stat=this.address.stat,e[0].District=this.address.district,e[0].City=this.address.city,e[0].Zip=this.address.zip,e[0].Mobile=this.address.mobile,e[0].Tel=this.address.tel,e[0].Fax=this.address.fax,e[0].Email=this.address.email,e[0].Webid=this.address.web,e[0].Statu=+this.address.statu),this.modalService.dismissAll())}},t.prototype.deleteAddress=function(){var t=this.addresses.indexOf(this.showaddress);t>=0&&(this.addresses.splice(t,1),this.modalService.dismissAll())},t.prototype.closeAddress=function(){this.modalService.dismissAll()},t.prototype.valCheckDepartment=function(){var t=this;return""==this.department.trim()?(this.adm.showMessage("Department name not mentioned","Warning",3),!1):""==this.departmentid.trim()?(this.adm.showMessage("Department Detail not mentioned","Warning",3),!1):!(this.departments.filter((function(e){return e.Department==t.department})).length>0&&(this.adm.showMessage("This department already added","Warning",3),1))},t.prototype.addDepartment=function(){this.valCheckDepartment()&&(this.departments.push({Department:this.department,DepartmentDetails:this.departmentid}),this.department="",this.departmentid="")},t.prototype.deleteDepartment=function(t){var e=this.departments.indexOf(t);e>=0&&this.departments.splice(e,1)},t.prototype.openModal=function(t,e,i){1==e?(this.address={id:0,nam:"",addr:"",country:this.defaultcountry,stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",web:"",statu:1},this.changeCountry()):(this.showaddress=i,this.addressname=i.AddressName,this.address={id:1,nam:i.AddressName,addr:i.Addres,country:i.Country,stat:i.Stat,district:i.District,city:i.City,zip:i.Zip,mobile:i.Mobile,tel:i.Tel,fax:i.Fax,email:i.Email,web:i.Webid,statu:+i.Statu}),this.modalService.open(t,{backdrop:"static",keyboard:!1})},t.prototype.getEmployeeDet=function(){var t=this;this.empdet={mobile:"",department:"",designation:""};var e=this.employees.filter((function(e){return e.recordId==+t.empno}));e.length>0&&(this.empdet={mobile:e[0].mobile,department:e[0].department,designation:e[0].designation})},t.\u0275fac=function(e){return new(e||t)(b.Sb(a.a),b.Sb(X.r),b.Sb(r.c),b.Sb(o.c),b.Sb(ht),b.Sb(O.a),b.Sb(ut.a),b.Sb(pt.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-customers"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","100%"],[2,"width","30%"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-content"],[1,"card-body"],[2,"width","100%","border-color","black","border-style","solid","border-width","thin","height","720px","overflow-y","scroll"],[4,"ngFor","ngForOf"],[2,"width","70%"],["type","pills"],["title","General Profile"],["ngbTabContent",""],["title","Addresses Info"],["title","Payment Info"],["title","Department Info"],["colspan","2"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"disabled","click"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-dark","mr-1","mb-1",3,"click"],["customContent",""],["class","ft-chevron-right font-medium-1",3,"click",4,"ngIf"],["class","ft-chevron-down font-medium-1",3,"click",4,"ngIf"],[3,"click"],[1,"ft-chevron-right","font-medium-1",3,"click"],[1,"ft-chevron-down","font-medium-1",3,"click"],["style","left: 32px; position: relative;",4,"ngFor","ngForOf"],[2,"left","32px","position","relative"],["align","right",2,"width","9%"],["colspan","3"],["type","text","id","basicInput","placeholder","Customer Code",1,"form-control",2,"width","40%",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Customer",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Customer Group","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["colspan","4"],["colspan","4",2,"background-color","lightgray"],["type","text","id","basicInput","placeholder","Contact Person",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","24%"],["type","text","id","basicInput","placeholder","Designation",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","basicInput","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","25%"],["type","text","id","basicInput","placeholder","Mobile",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Prefereable Language",1,"form-control",3,"ngModel","ngModelChange"],["colspan","6"],[2,"width","9%"],[1,"custom-control","custom-checkbox"],["type","checkbox","id","checkbox4",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Air Destination",1,"form-control",3,"disabled","ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Sea Destination",1,"form-control",3,"disabled","ngModel","ngModelChange"],["colspan","6",2,"background-color","lightgray"],["type","number","id","basicInput","placeholder","Lead Time",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","basicInput","placeholder","Reminder-1 in days",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","basicInput","placeholder","Reminder-2 in days",1,"form-control",3,"ngModel","ngModelChange"],["colspan","5"],["id","basicInput",1,"form-control",3,"ngModel","ngModelChange","change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["align","right",2,"width","13%"],[2,"width","20%"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","21%"],["id","basicInput",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","User Code",1,"form-control",3,"ngModel","ngModelChange"],["value"," "],["value","GEN"],["value","CEN"],["value","IMP"],["type","checkbox","id","checkbox3",3,"ngModel","ngModelChange"],[3,"value"],[2,"width","100%","height","450px","overflow-y","scroll"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[2,"width","5%"],[2,"width","85%"],[2,"width","10%"],["type","button",1,"btn-sm","btn-info",2,"width","100%",3,"click"],["scope","row",2,"width","5%"],["type","button",1,"btn-sm","btn-success",2,"width","100%",3,"click"],["align","right",2,"width","15%"],[2,"width","35%"],["type","number","id","basicInput","placeholder","Credit Amount",1,"form-control",3,"ngModel","ngModelChange"],["value","3"],["type","number","id","basicInput","placeholder","Credit Days",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Payment first reminder in days",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Payment second reminder in days",1,"form-control",3,"ngModel","ngModelChange"],["type","number","placeholder","Payment third reminder in days",1,"form-control",3,"ngModel","ngModelChange"],["value","CASH"],["value","CHEQUE"],["value","ONLINE"],["value","CREDIT"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["align","right",2,"width","10%"],[2,"width","100%","height","400px","overflow-y","scroll"],["scope","row"],[1,"ft-trash","font-medium-1",3,"click"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["rowspan","2",2,"width","41%"],["id","projectinput8","rows","3","name","comment","placeholder","Address",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","41%"],["type","text","id","basicInput","placeholder","Zip",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","-1"],["type","text","id","basicInput","placeholder","Telephone",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Fax",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","District",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","City",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Web",1,"form-control",3,"ngModel","ngModelChange"],["class","btn btn-info",3,"click",4,"ngIf"],["class","btn btn-danger",3,"click",4,"ngIf"],[1,"btn","btn-dark",3,"click"],[1,"btn","btn-info",3,"click"],[1,"btn","btn-danger",3,"click"],["align","left",2,"width","50%"],["type","button","class","btn-lg btn-success mr-1 mb-1",3,"click",4,"ngIf"],["align","right",2,"width","50%"],[1,"form-group","has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","input"],[3,"collectionSize","page","maxSize","rotate","boundaryLinks","pageChange"],[2,"width","15%"],[2,"width","12%"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],["class","ft-edit font-medium-1",3,"click",4,"ngIf"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,zt,40,5,"div",0),b.Uc(2,jt,30,9,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,n.o,X.O,X.L,X.M,d.c,d.q,d.t,d.z,d.u,d.B,d.b,d.v,X.A],styles:[""]}),t}(),Kt=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getCRMDashboard=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMDashboard/GetCRMDashboard",t,this.adm.makeConfig())},t.prototype.getPendingCalls=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMDashboard/GetPendingCalls",t,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Qt=i("jHP8");function Jt(t,e){if(1&t&&(b.Yb(0,"span"),b.Wc(1),b.pc(2,"number"),b.Xb()),2&t){var i=b.oc(2);b.Db(1),b.Yc(" ",b.rc(2,1,(i.target1+i.target2)/i.target*100,"0.2")," ")}}function Ht(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",28),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Yc(" ",i.customer," "),b.Db(2),b.Xc(i.mobile),b.Db(2),b.Xc(i.customercomments)}}function te(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",28),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Yc(" ",i.customer," "),b.Db(2),b.Xc(i.mobile),b.Db(2),b.Xc(i.customercomments)}}function ee(t,e){if(1&t&&(b.Yb(0,"div"),b.Yb(1,"div",1),b.Yb(2,"div",2),b.Yb(3,"div",3),b.Wc(4,"CRM Dashboard"),b.Xb(),b.Xb(),b.Xb(),b.Yb(5,"div",1),b.Yb(6,"div",4),b.Yb(7,"div",5),b.Yb(8,"div",6),b.Yb(9,"div",7),b.Yb(10,"div",8),b.Yb(11,"div",9),b.Yb(12,"h3",10),b.Wc(13),b.pc(14,"number"),b.Xb(),b.Yb(15,"span"),b.Wc(16),b.pc(17,"number"),b.Xb(),b.Tb(18,"br"),b.Yb(19,"span"),b.Wc(20),b.pc(21,"number"),b.Xb(),b.Xb(),b.Yb(22,"div",11),b.Tb(23,"i",12),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(24,"div",4),b.Yb(25,"div",13),b.Yb(26,"div",6),b.Yb(27,"div",7),b.Yb(28,"div",8),b.Yb(29,"div",9),b.Yb(30,"h3",10),b.Wc(31),b.Xb(),b.Yb(32,"span"),b.Wc(33),b.Xb(),b.Tb(34,"br"),b.Yb(35,"span"),b.Wc(36),b.Xb(),b.Xb(),b.Yb(37,"div",11),b.Tb(38,"i",14),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(39,"div",4),b.Yb(40,"div",5),b.Yb(41,"div",6),b.Yb(42,"div",7),b.Yb(43,"div",8),b.Yb(44,"div",9),b.Yb(45,"h3",10),b.Uc(46,Jt,3,4,"span",0),b.Wc(47," % Achieved"),b.Xb(),b.Yb(48,"span"),b.Wc(49),b.pc(50,"number"),b.Xb(),b.Tb(51,"br"),b.Yb(52,"span"),b.Wc(53),b.Xb(),b.Xb(),b.Yb(54,"div",11),b.Tb(55,"i",14),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(56,"div",4),b.Yb(57,"div",13),b.Yb(58,"div",6),b.Yb(59,"div",7),b.Yb(60,"div",8),b.Yb(61,"div",9),b.Yb(62,"h3",10),b.Wc(63),b.pc(64,"number"),b.Xb(),b.Yb(65,"span"),b.Wc(66),b.pc(67,"number"),b.Xb(),b.Tb(68,"br"),b.Yb(69,"span"),b.Wc(70),b.pc(71,"number"),b.Xb(),b.Xb(),b.Yb(72,"div",11),b.Tb(73,"i",12),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(74,"section",15),b.Yb(75,"div",1),b.Yb(76,"div",16),b.Yb(77,"div",17),b.Yb(78,"div",18),b.Yb(79,"h4",19),b.Wc(80,"Orders Chart"),b.Xb(),b.Xb(),b.Yb(81,"div",6),b.Yb(82,"div",7),b.Tb(83,"apx-chart",20),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(84,"div",21),b.Yb(85,"div",17),b.Yb(86,"div",18),b.Yb(87,"h4",19),b.Wc(88,"Employee wise Orders"),b.Xb(),b.Xb(),b.Yb(89,"div",6),b.Yb(90,"div",7),b.Tb(91,"apx-chart",20),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(92,"div",1),b.Yb(93,"div",22),b.Yb(94,"div",17),b.Yb(95,"div",18),b.Yb(96,"h4",19),b.Wc(97,"Todays Calls"),b.Xb(),b.Xb(),b.Yb(98,"div",6),b.Yb(99,"div",1),b.Yb(100,"div",23),b.Yb(101,"div",17),b.Yb(102,"div",6),b.Yb(103,"div",7),b.Yb(104,"div",24),b.Yb(105,"table",25),b.Yb(106,"thead",26),b.Yb(107,"tr"),b.Yb(108,"th"),b.Wc(109,"#"),b.Xb(),b.Yb(110,"th"),b.Wc(111,"Customer"),b.Xb(),b.Yb(112,"th"),b.Wc(113,"Mobile"),b.Xb(),b.Yb(114,"th"),b.Wc(115,"Prev Comments"),b.Xb(),b.Xb(),b.Xb(),b.Yb(116,"tbody"),b.Uc(117,Ht,9,4,"tr",27),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(118,"div",22),b.Yb(119,"div",17),b.Yb(120,"div",18),b.Yb(121,"h4",19),b.Wc(122,"Todays Enquiries"),b.Xb(),b.Xb(),b.Yb(123,"div",6),b.Yb(124,"div",1),b.Yb(125,"div",23),b.Yb(126,"div",17),b.Yb(127,"div",6),b.Yb(128,"div",7),b.Yb(129,"div",24),b.Yb(130,"table",25),b.Yb(131,"thead",26),b.Yb(132,"tr"),b.Yb(133,"th"),b.Wc(134,"#"),b.Xb(),b.Yb(135,"th"),b.Wc(136,"Customer"),b.Xb(),b.Yb(137,"th"),b.Wc(138,"Mobile"),b.Xb(),b.Yb(139,"th"),b.Wc(140,"Prev Comments"),b.Xb(),b.Xb(),b.Xb(),b.Yb(141,"tbody"),b.Uc(142,te,9,4,"tr",27),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(13),b.Xc(b.rc(14,48,i.target1+i.target2,"0.2")),b.Db(3),b.Yc("Direct Business ",b.rc(17,51,i.target1,"0.2"),""),b.Db(4),b.Yc("Team Business ",b.rc(21,54,i.target2,"0.2"),""),b.Db(11),b.Xc(i.calls1+i.calls2),b.Db(2),b.Yc("Direct Calls ",i.calls1,""),b.Db(3),b.Yc("Team Calls ",i.calls2,""),b.Db(10),b.vc("ngIf",i.target>0),b.Db(3),b.Yc("Pending Target ",b.rc(50,57,i.target-(i.target1+i.target2),"0.2"),""),b.Db(4),b.Yc("Pending Calls ",i.calls-(i.calls1+i.calls2),""),b.Db(10),b.Xc(b.rc(64,60,i.credits1+i.credits2,"0.2")),b.Db(3),b.Yc("Immediate Credit ",b.rc(67,63,i.credits1,"0.2"),""),b.Db(4),b.Yc("Longterm Credit ",b.rc(71,66,i.credits2,"0.2"),""),b.Db(13),b.vc("series",i.barChartOptions.series)("colors",i.barChartOptions.colors)("chart",i.barChartOptions.chart)("xaxis",i.barChartOptions.xaxis)("yaxis",i.barChartOptions.yaxis)("title",i.barChartOptions.title)("dataLabels",i.barChartOptions.dataLabels)("stroke",i.barChartOptions.stroke)("grid",i.barChartOptions.grid)("tooltip",i.barChartOptions.tooltip)("plotOptions",i.barChartOptions.plotOptions)("fill",i.barChartOptions.fill)("legend",i.barChartOptions.legend)("labels",i.barChartOptions.labels)("markers",i.barChartOptions.markers)("theme",i.barChartOptions.theme)("responsive",i.barChartOptions.responsive),b.Db(8),b.vc("series",i.pieChartOptions.series)("colors",i.pieChartOptions.colors)("chart",i.pieChartOptions.chart)("xaxis",i.pieChartOptions.xaxis)("yaxis",i.pieChartOptions.yaxis)("title",i.pieChartOptions.title)("dataLabels",i.pieChartOptions.dataLabels)("stroke",i.pieChartOptions.stroke)("grid",i.pieChartOptions.grid)("tooltip",i.pieChartOptions.tooltip)("plotOptions",i.pieChartOptions.plotOptions)("fill",i.pieChartOptions.fill)("legend",i.pieChartOptions.legend)("labels",i.pieChartOptions.labels)("markers",i.pieChartOptions.markers)("theme",i.pieChartOptions.theme)("responsive",i.pieChartOptions.responsive),b.Db(26),b.vc("ngForOf",i.telecalls),b.Db(25),b.vc("ngForOf",i.enquiries)}}function ie(t,e){1&t&&(b.Yb(0,"div"),b.Yb(1,"table",29),b.Yb(2,"tr"),b.Yb(3,"td",30),b.Wc(4,"\xa0"),b.Xb(),b.Yb(5,"td",31),b.Tb(6,"img",32),b.Xb(),b.Yb(7,"td",30),b.Wc(8,"\xa0"),b.Xb(),b.Xb(),b.Xb(),b.Xb())}var ne=["#975AFF","#F55252","#40C057","#F55252","#2F8BE6"],re=["#F55252","#40C057","#2F8BE6","#F77E17","#E6EAEE","#F77E17"],oe=function(){function t(t,e,i){var n=this;this.crm=t,this.adm=e,this.spinner=i,this.turnoverLabels=["Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Jan","Feb","Mar"],this.turnoverData=[3,4,5,6,7,8,9,10,11,12,13,14],this.piedata=[1500,1400,1700,1e3],this.pielabels=["Emp1","Emp2","Emp3","Emp4"],this.target1=0,this.target2=0,this.target=0,this.calls1=0,this.calls2=0,this.calls=0,this.credits1=0,this.credits2=0,this.authCheck=!1,this.adm.screenCheck(2,0,0,1)?(this.makeDash(),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getPendingCalls().subscribe((function(t){var e=t;n.telecalls=e.filter((function(t){return"1"==t.mode})),n.enquiries=e.filter((function(t){return"2"==t.mode})),console.log(e,"pendings"),n.spinner.hide()})),this.authCheck=!0):this.authCheck=!1}return t.prototype.makeDash=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getCRMDashboard().subscribe((function(e){var i=e;if(console.log(i),i){for(var n=i.filter((function(t){return t.typ<10})),r=0;r<n.length;r++)switch(n[r].typ){case 1:t.target1=n[r].fir,t.target2=n[r].sec;break;case 2:t.calls1=n[r].fir,t.calls2=n[r].sec;break;case 3:t.target=n[r].fir,t.calls=n[r].sec;break;case 4:t.credits1=n[r].fir,t.credits2=n[r].sec}t.turnoverLabels=[],t.turnoverData=[];var o=i.filter((function(t){return t.typ>100&&t.typ<200}));for(r=0;r<o.length;r++)t.turnoverLabels.push(o[r].descr),t.turnoverData.push(o[r].fir);t.pielabels=[],t.piedata=[];var c=i.filter((function(t){return t.typ>200&&t.typ<300}));for(r=0;r<c.length;r++)t.pielabels.push(c[r].descr),t.piedata.push(c[r].fir);t.makeDash1()}else t.makeDash1();t.spinner.hide()}))},t.prototype.ngOnInit=function(){},t.prototype.makeDash1=function(){this.barChartOptions={chart:{height:350,type:"line"},colors:ne,plotOptions:{bar:{horizontal:!1}},dataLabels:{enabled:!1},series:[{name:"Orders",data:this.turnoverData}],xaxis:{categories:this.turnoverLabels,tickAmount:5}},this.pieInformation()},t.prototype.pieInformation=function(){this.pieChartOptions={chart:{type:"pie",height:320},colors:re,labels:this.pielabels,series:this.piedata,legend:{itemMargin:{horizontal:2}},responsive:[{breakpoint:576,options:{chart:{width:300},legend:{position:"bottom"}}}]}},t.\u0275fac=function(e){return new(e||t)(b.Sb(Kt),b.Sb(a.a),b.Sb(r.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-dashboard"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"row"],[1,"col-sm-12"],[1,"content-header"],[1,"col-xl-3","col-lg-6","col-12"],[1,"card","card-inverse","bg-primary"],[1,"card-content"],[1,"card-body"],[1,"media"],[1,"media-body","text-left"],[1,"card-text"],[1,"media-right","align-self-center"],[1,"ft-arrow-up","font-large-2","float-right"],[1,"card","card-inverse","bg-warning"],[1,"ft-arrow-down","font-large-2","float-right"],["id","apexchart"],[1,"col-xl-8","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[3,"series","colors","chart","xaxis","yaxis","title","dataLabels","stroke","grid","tooltip","plotOptions","fill","legend","labels","markers","theme","responsive"],[1,"col-lg-4","col-12"],[1,"col-lg-6","col-12"],[1,"col-12"],[1,"table-responsive"],[1,"table","m-0"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"],[2,"width","100%"],[2,"width","15%"],[2,"width","70%"],["src","../../../assets/img/modules/purchases.png",2,"width","100%"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,ee,143,69,"div",0),b.Uc(2,ie,9,0,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,Qt.a,n.o],pipes:[n.f],styles:[""]}),t}(),ce=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getDiscountListRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMDiscountList/GetDiscountListRequirements",t,this.adm.makeConfig())},t.prototype.getPriceListRxRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMPriceLists/GetPriceListRequirementsRx",t,this.adm.makeConfig())},t.prototype.getDiscountLists=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMDiscountList/GetCRMDiscountLists",t,this.adm.makeConfig())},t.prototype.getDiscountListInfo=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMDiscountList/GetCRMDiscountListDetails",e,this.adm.makeConfig())},t.prototype.setDiscountList=function(t,e,i){var n={header:t,lines:e,traCheck:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMDiscountList/setCRMDiscountList",n,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function ae(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1," Active"),b.Xb())}function se(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1," Default"),b.Xb())}function be(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1," Inactive"),b.Xb())}function de(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",8),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.pc(7,"date"),b.Xb(),b.Yb(8,"td"),b.Uc(9,ae,2,0,"span",0),b.Uc(10,se,2,0,"span",0),b.Uc(11,be,2,0,"span",0),b.Xb(),b.Yb(12,"td"),b.Yb(13,"i",9),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).openOld(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.discountListName),b.Db(2),b.Xc(b.rc(7,6,n.effectiveDate,"dd-MMM-yy")),b.Db(3),b.vc("ngIf",1==n.pos),b.Db(1),b.vc("ngIf",2==n.pos),b.Db(1),b.vc("ngIf",3==n.pos)}}function le(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Discount Lists "),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",2),b.Yb(6,"button",3),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(7,"New"),b.Xb(),b.Xb(),b.Yb(8,"td",4),b.Wc(9," \xa0 "),b.Xb(),b.Xb(),b.Xb(),b.Yb(10,"table",5),b.Yb(11,"thead",6),b.Yb(12,"tr"),b.Yb(13,"th"),b.Wc(14,"#"),b.Xb(),b.Yb(15,"th"),b.Wc(16,"Discount List"),b.Xb(),b.Yb(17,"th"),b.Wc(18,"Effect From"),b.Xb(),b.Yb(19,"th"),b.Wc(20,"Status"),b.Xb(),b.Tb(21,"th"),b.Xb(),b.Xb(),b.Yb(22,"tbody"),b.Uc(23,de,14,9,"tr",7),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(23),b.vc("ngForOf",n.discountlists)}}function ue(t,e){if(1&t){var i=b.Zb();b.Yb(0,"td",13),b.Yb(1,"button",26),b.kc("click",(function(){return b.Mc(i),b.oc(2).makeReset()})),b.Wc(2,"Make as new"),b.Xb(),b.Xb()}}function he(t,e){1&t&&(b.Yb(0,"td",13),b.Wc(1,"\xa0"),b.Xb())}function pe(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",27),b.Wc(2),b.Xb(),b.Yb(3,"td",11),b.Wc(4),b.Xb(),b.Yb(5,"td",25),b.Wc(6),b.Xb(),b.Yb(7,"td",12),b.Yb(8,"input",28),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.discount=t})),b.Xb(),b.Xb(),b.Yb(9,"td",24),b.Wc(10,"% "),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.grpname),b.Db(2),b.Xc(n.product),b.Db(2),b.vc("ngModel",n.discount)}}function me(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," Discount Details"),b.Xb(),b.Yb(3,"table",10),b.Yb(4,"tr"),b.Yb(5,"td",11),b.Wc(6,"Discount List Name"),b.Xb(),b.Yb(7,"td",12),b.Wc(8,"Effective From"),b.Xb(),b.Yb(9,"td",12),b.Wc(10,"Status"),b.Xb(),b.Yb(11,"td",13),b.Wc(12,"\xa0"),b.Xb(),b.Yb(13,"td",13),b.Wc(14,"\xa0"),b.Xb(),b.Yb(15,"td",13),b.Wc(16,"\xa0"),b.Xb(),b.Xb(),b.Yb(17,"tr"),b.Yb(18,"td",11),b.Yb(19,"input",14),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.DiscountListName=t})),b.Xb(),b.Xb(),b.Yb(20,"td",12),b.Yb(21,"input",15),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.header.EffectiveDate=e.parseDate(t.target.value)})),b.pc(22,"date"),b.Xb(),b.Xb(),b.Yb(23,"td",12),b.Yb(24,"select",16),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.Pos=t})),b.Yb(25,"option",17),b.Wc(26,"Active"),b.Xb(),b.Yb(27,"option",18),b.Wc(28,"Defualt"),b.Xb(),b.Yb(29,"option",19),b.Wc(30,"Inactive"),b.Xb(),b.Xb(),b.Xb(),b.Yb(31,"td",13),b.Yb(32,"button",20),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(33,"Save"),b.Xb(),b.Xb(),b.Yb(34,"td",13),b.Yb(35,"button",21),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(36,"Close"),b.Xb(),b.Xb(),b.Uc(37,ue,3,0,"td",22),b.Uc(38,he,2,0,"td",22),b.Xb(),b.Xb(),b.Yb(39,"table",23),b.Yb(40,"thead",6),b.Yb(41,"tr"),b.Yb(42,"th",24),b.Wc(43,"#"),b.Xb(),b.Yb(44,"th",11),b.Wc(45,"Group"),b.Xb(),b.Yb(46,"th",25),b.Wc(47,"Product"),b.Xb(),b.Yb(48,"th",12),b.Wc(49,"Discount"),b.Xb(),b.Yb(50,"th",24),b.Wc(51,"\xa0"),b.Xb(),b.Xb(),b.Xb(),b.Yb(52,"tbody"),b.Uc(53,pe,11,4,"tr",7),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(19),b.vc("ngModel",n.header.DiscountListName),b.Db(2),b.vc("value",b.rc(22,6,n.header.EffectiveDate,"yyyy-MM-dd")),b.Db(3),b.vc("ngModel",n.header.Pos),b.Db(13),b.vc("ngIf",n.recordId>0),b.Db(1),b.vc("ngIf",0==n.recordId),b.Db(15),b.vc("ngForOf",n.discountdetails)}}var fe=function(){function t(t,e,i,n){var r=this;this.crm=t,this.adm=e,this.router=i,this.spinner=n,this.header={DiscountListName:"",EffectiveDate:new Date,Pos:1},this.recordId=0,this.opened=!1,this.adm.screenCheck(7,1,2,0)?(this.listAdd(),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getDiscountListRequirements().subscribe((function(t){r.discountdetails=t}))):this.router.navigateByUrl("crm/crmunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.opened=!0},t.prototype.openOld=function(t){var e=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getDiscountListInfo(t.recordId).subscribe((function(i){var n=i;e.header={DiscountListName:n.header.discountListName,EffectiveDate:n.header.effectiveDate,Pos:n.header.pos},e.recordId=t.recordId,e.discountdetails=n.discountdetails,e.spinner.hide(),e.opened=!0}))},t.prototype.makeCle=function(){this.recordId=0,this.header={DiscountListName:"",EffectiveDate:new Date,Pos:1};for(var t=0;t<this.discountdetails.length;t++)this.discountdetails[t].discount=0},t.prototype.makeReset=function(){this.recordId=0,this.header={DiscountListName:"",EffectiveDate:new Date,Pos:1,MrpCheck:0}},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getDiscountLists().subscribe((function(e){t.discountlists=e,t.spinner.hide()}))},t.prototype.valChk=function(){return""!=this.header.DiscountListName.trim()||(this.adm.showMessage("Discount list not mentioned","Warning",3),!1)},t.prototype.save=function(){var t=this;this.valChk()&&g.a.fire({title:0==this.recordId?"Confirms Discount Details":"Modifies Discount Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var i=[],n=0;t.recordId>0?(t.header.RecordId=t.recordId,n=2):n=1,t.header.Pos=+t.header.Pos;for(var r=0;r<t.discountdetails.length;r++)i.push({ProductId:+t.discountdetails[r].productid,Discount:+t.discountdetails[r].discount});t.crm.setDiscountList(t.header,i,n).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Price Details saved.","success"),t.listAdd(),t.close()):g.a.fire(i.result,"Error in transaction.","error"),t.spinner.hide()}))}}))},t.prototype.close=function(){this.opened=!1},t.prototype.parseDate=function(t){return t?new Date(t):null},t.\u0275fac=function(e){return new(e||t)(b.Sb(ce),b.Sb(a.a),b.Sb(o.c),b.Sb(r.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-discount-list"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","80%"],["align","left",2,"width","50%"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],["align","right",2,"width","50%"],[1,"table","m-0",2,"width","80%"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"ft-edit","font-medium-1",3,"click"],[2,"width","100%"],[2,"width","30%"],[2,"width","20%"],[2,"width","10%"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","date",1,"form-control",3,"value","input"],[1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["type","button",1,"btn-lg","btn-primary",2,"width","100%",3,"click"],["type","button",1,"btn-lg","btn-dark",2,"width","100%",3,"click"],["style","width: 10%;",4,"ngIf"],[1,"table","m-0",2,"width","100%"],[2,"width","5%"],[2,"width","40%"],["type","button",1,"btn-lg","btn-warning",2,"width","100%",3,"click"],["scope","row",2,"width","5%"],["type","number",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,le,24,1,"div",0),b.Uc(2,me,54,9,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",!e.opened),b.Db(1),b.vc("ngIf",e.opened))},directives:[r.a,n.p,n.o,d.c,d.q,d.t,d.z,d.u,d.B,d.v],pipes:[n.e],styles:[""]}),t}(),ge=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.gerCompleteEnquiryRxRequirements=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/CRMRx/GetCRMRxEnquiryRequirements",this.userdetails.usr,this.adm.makeConfig())},t.prototype.gerCompleteTeleCallRxRequirements=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/CRMRx/GetCRMRxTelecallRequirements",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getListOfTeleCalls=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={frmDate:t,toDate:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRx/GetCRMRxTelecalls",i,this.adm.makeConfig())},t.prototype.getListOfRXEnquiries=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={frmDate:t,toDate:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRx/GetCRMRxEnquiries",i,this.adm.makeConfig())},t.prototype.getListOfRXOrders=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={frmDate:t,toDate:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRx/GetCRMRxOrders",i,this.adm.makeConfig())},t.prototype.getTeleCallDetailById=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={recordId:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRx/GetCRMRxTelecallById",e,this.adm.makeConfig())},t.prototype.setTeleCall=function(t,e){var i={call:t,traCheck:e,usr:this.adm.getUserCompleteInformation().usr};return console.log("tot",i),this.http.post(this.adm.getActualURL()+"api/CRMRx/SetCRMRXTeleCall",i,this.adm.makeConfig())},t.prototype.setEnquiryRX=function(t,e){var i={call:t,traCheck:e,usr:this.adm.getUserCompleteInformation().usr};return console.log(i),this.http.post(this.adm.getActualURL()+"api/CRMRx/SetCRMRXEnquiry",i,this.adm.makeConfig())},t.prototype.getQuotationRXRequirements=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/CRMRx/GetCRMRxQuotationsRequirements",this.userdetails.usr,this.adm.makeConfig())},t.prototype.setQuotation=function(t){return this.http.post(this.adm.getActualURL()+"api/CRMRx/SetCRMRxQuotation",t,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Xe(t,e){if(1&t&&(b.Yb(0,"option",44),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Yc(" ",i.cntname," ")}}function Ye(t,e){if(1&t&&(b.Yb(0,"option",44),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.stateName),b.Db(1),b.Yc(" ",i.stateName," ")}}function ve(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",45),b.kc("click",(function(){return b.Mc(i),b.oc(2).deleteCall()})),b.Wc(1,"Delete"),b.Xb()}if(2&t){var n=b.oc(2);b.vc("disabled",!n.delCheck)}}function ye(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Yb(9,"td"),b.Yb(10,"i",54),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(3).openPending(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.customer),b.Db(2),b.Xc(n.mobile),b.Db(2),b.Xc(n.mode)}}function Ce(t,e){if(1&t&&(b.Yb(0,"div",46),b.Yb(1,"h6",47),b.Wc(2,"Pending Calls"),b.Xb(),b.Yb(3,"button",48),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(4,"span",49),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",50),b.Yb(7,"table",51),b.Yb(8,"thead",52),b.Yb(9,"tr"),b.Yb(10,"th"),b.Wc(11,"#"),b.Xb(),b.Yb(12,"th"),b.Wc(13,"Customer"),b.Xb(),b.Yb(14,"th"),b.Wc(15,"Mobile"),b.Xb(),b.Yb(16,"th"),b.Wc(17,"Mode"),b.Xb(),b.Yb(18,"th"),b.Wc(19,"Open"),b.Xb(),b.Xb(),b.Xb(),b.Yb(20,"tbody"),b.Uc(21,ye,11,4,"tr",53),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc(2);b.Db(21),b.vc("ngForOf",i.completeDet.pendings)}}function Me(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," Sale Enquiry Details "),b.Xb(),b.Tb(3,"br"),b.Yb(4,"table",1),b.Yb(5,"tr"),b.Yb(6,"td",2),b.Wc(7,"Customer"),b.Xb(),b.Yb(8,"td",3),b.Yb(9,"input",4),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Customer=t})),b.Xb(),b.Xb(),b.Yb(10,"td",5),b.Wc(11,"\nSeq\n"),b.Xb(),b.Yb(12,"td",6),b.Yb(13,"input",7),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Seq=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(14,"tr"),b.Yb(15,"td",8),b.Wc(16,"Address"),b.Xb(),b.Yb(17,"td",9),b.Yb(18,"textarea",10),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Addr=t})),b.Xb(),b.Xb(),b.Yb(19,"td",5),b.Wc(20,"ZIP"),b.Xb(),b.Yb(21,"td",6),b.Yb(22,"input",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Zip=t})),b.Xb(),b.Xb(),b.Yb(23,"td",5),b.Wc(24," Transaction Date "),b.Xb(),b.Yb(25,"td",6),b.Tb(26,"input",12),b.Xb(),b.Xb(),b.Yb(27,"tr"),b.Yb(28,"td",5),b.Wc(29,"Mobile"),b.Xb(),b.Yb(30,"td",13),b.Yb(31,"input",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Mobile=t})),b.Xb(),b.Xb(),b.Yb(32,"td",5),b.Wc(33," Type "),b.Xb(),b.Yb(34,"td",6),b.Yb(35,"select",14),b.Yb(36,"option",15),b.Wc(37,"--Select Type--"),b.Xb(),b.Yb(38,"option",16),b.Wc(39,"Enquiry "),b.Xb(),b.Yb(40,"option",17),b.Wc(41,"Presentation "),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(42,"tr"),b.Yb(43,"td",2),b.Wc(44," Country "),b.Xb(),b.Yb(45,"td",13),b.Yb(46,"select",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Country=t}))("change",(function(){return b.Mc(i),b.oc().makeStates()})),b.Yb(47,"option",19),b.Wc(48,"--select--"),b.Xb(),b.Uc(49,Xe,2,2,"option",20),b.Xb(),b.Xb(),b.Yb(50,"td",5),b.Wc(51," Tel "),b.Xb(),b.Yb(52,"td",6),b.Yb(53,"input",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Tel=t})),b.Xb(),b.Xb(),b.Yb(54,"td",5),b.Wc(55," Reference "),b.Xb(),b.Yb(56,"td",6),b.Yb(57,"table",1),b.Yb(58,"tr"),b.Yb(59,"td",1),b.Tb(60,"input",21),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(61,"tr"),b.Yb(62,"td",2),b.Wc(63," State "),b.Xb(),b.Yb(64,"td",13),b.Yb(65,"select",22),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Stat=t})),b.Yb(66,"option",19),b.Wc(67,"--select--"),b.Xb(),b.Uc(68,Ye,2,2,"option",20),b.Xb(),b.Xb(),b.Yb(69,"td",5),b.Wc(70," Fax "),b.Xb(),b.Yb(71,"td",6),b.Yb(72,"input",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Fax=t})),b.Xb(),b.Xb(),b.Yb(73,"td",5),b.Wc(74," Position "),b.Xb(),b.Yb(75,"td",6),b.Yb(76,"select",22),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.CallPosition=t})),b.Yb(77,"option",15),b.Wc(78,"--Select--"),b.Xb(),b.Yb(79,"option",16),b.Wc(80,"Hot"),b.Xb(),b.Yb(81,"option",17),b.Wc(82,"Warm"),b.Xb(),b.Yb(83,"option",23),b.Wc(84,"Cool"),b.Xb(),b.Yb(85,"option",24),b.Wc(86,"Declined"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(87,"tr"),b.Yb(88,"td",2),b.Wc(89," District "),b.Xb(),b.Yb(90,"td",13),b.Tb(91,"input",21),b.Xb(),b.Yb(92,"td",5),b.Wc(93," Email "),b.Xb(),b.Yb(94,"td",6),b.Tb(95,"input",21),b.Xb(),b.Yb(96,"td",5),b.Wc(97," Next Call Date"),b.Xb(),b.Yb(98,"td",6),b.Yb(99,"div",25),b.Yb(100,"input",26,27),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.NextCallDate=t}))("ngModelChange",(function(t){return b.Mc(i),b.oc().nextdate=t})),b.Xb(),b.Yb(102,"div",28),b.Yb(103,"div",29),b.kc("click",(function(){return b.Mc(i),b.Jc(101).toggle()})),b.Tb(104,"i",30),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(105,"tr"),b.Yb(106,"td",2),b.Wc(107," City "),b.Xb(),b.Yb(108,"td",13),b.Yb(109,"input",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.City=t})),b.Xb(),b.Xb(),b.Yb(110,"td",5),b.Wc(111," Web "),b.Xb(),b.Yb(112,"td",6),b.Yb(113,"input",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Web=t})),b.Xb(),b.Xb(),b.Yb(114,"td",5),b.Wc(115," Next Call Mode "),b.Xb(),b.Yb(116,"td",6),b.Yb(117,"select",22),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.NextCallMode=t})),b.Yb(118,"option",15),b.Wc(119,"--Select--"),b.Xb(),b.Yb(120,"option",16),b.Wc(121,"Tele Call"),b.Xb(),b.Yb(122,"option",17),b.Wc(123,"Enquiry"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(124,"table",1),b.Yb(125,"tr"),b.Yb(126,"td",2),b.Wc(127,"Prev Enquiry"),b.Xb(),b.Yb(128,"td",31),b.Yb(129,"input",32),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().pendinginfo.seq=t})),b.Xb(),b.Xb(),b.Yb(130,"td",33),b.Yb(131,"input",34),b.kc("click",(function(){b.Mc(i);var t=b.Jc(186);return b.oc().openModal(t)})),b.Xb(),b.Xb(),b.Yb(132,"td",2),b.Wc(133,"Date"),b.Xb(),b.Yb(134,"td",31),b.Tb(135,"input",35),b.pc(136,"date"),b.Xb(),b.Xb(),b.Yb(137,"tr"),b.Yb(138,"td",2),b.Wc(139,"Prev Mode"),b.Xb(),b.Yb(140,"td",36),b.Yb(141,"input",32),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().pendinginfo.mode=t})),b.Xb(),b.Xb(),b.Yb(142,"td",2),b.Wc(143,"Mobile"),b.Xb(),b.Yb(144,"td",31),b.Yb(145,"input",32),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().pendinginfo.mobile=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(146,"tr"),b.Yb(147,"td",2),b.Wc(148,"Prev Handled"),b.Xb(),b.Yb(149,"td",36),b.Yb(150,"input",32),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().pendinginfo.username=t})),b.Xb(),b.Xb(),b.Yb(151,"td",2),b.Wc(152,"Prev User"),b.Xb(),b.Yb(153,"td",31),b.Yb(154,"input",32),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().pendinginfo.username=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(155,"tr"),b.Yb(156,"td",2),b.Wc(157,"Prev Comments"),b.Xb(),b.Yb(158,"td",37),b.Tb(159,"textarea",38),b.Xb(),b.Xb(),b.Yb(160,"tr"),b.Yb(161,"td",2),b.Wc(162,"Customer Comments"),b.Xb(),b.Yb(163,"td",37),b.Yb(164,"textarea",39),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.CustomerComments=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(165,"tr"),b.Yb(166,"td",2),b.Wc(167,"Employee Comments"),b.Xb(),b.Yb(168,"td",37),b.Yb(169,"textarea",39),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.CallerComments=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(170,"table"),b.Yb(171,"tr"),b.Yb(172,"td"),b.Wc(173," \xa0 "),b.Xb(),b.Yb(174,"td"),b.Wc(175," \xa0 "),b.Xb(),b.Xb(),b.Yb(176,"tr"),b.Yb(177,"td",2),b.Wc(178," \xa0"),b.Xb(),b.Yb(179,"td",37),b.Uc(180,ve,2,1,"button",40),b.Yb(181,"button",41),b.kc("click",(function(){return b.Mc(i),b.oc().saveCall()})),b.Wc(182),b.Xb(),b.Yb(183,"button",42),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(184,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Uc(185,Ce,22,1,"ng-template",null,43,b.Vc),b.Xb()}if(2&t){var n=b.oc();b.Db(9),b.vc("ngModel",n.call.Customer),b.Db(4),b.vc("ngModel",n.call.Seq),b.Db(5),b.vc("ngModel",n.call.Addr),b.Db(4),b.vc("ngModel",n.call.Zip),b.Db(4),b.wc("value",n.tradates),b.Db(5),b.vc("ngModel",n.call.Mobile),b.Db(15),b.vc("ngModel",n.call.Country),b.Db(3),b.vc("ngForOf",n.completeDet.countries),b.Db(4),b.vc("ngModel",n.call.Tel),b.Db(12),b.vc("ngModel",n.call.Stat),b.Db(3),b.vc("ngForOf",n.states),b.Db(4),b.vc("ngModel",n.call.Fax),b.Db(4),b.vc("ngModel",n.call.CallPosition),b.Db(24),b.vc("ngModel",n.call.NextCallDate)("ngModel",n.nextdate),b.Db(9),b.vc("ngModel",n.call.City),b.Db(4),b.vc("ngModel",n.call.Web),b.Db(4),b.vc("ngModel",n.call.NextCallMode),b.Db(12),b.vc("ngModel",n.pendinginfo.seq),b.Db(6),b.wc("value",b.rc(136,30,n.pendinginfo.dat,"short")),b.Db(6),b.vc("ngModel",n.pendinginfo.mode),b.Db(4),b.vc("ngModel",n.pendinginfo.mobile),b.Db(5),b.vc("ngModel",n.pendinginfo.username),b.Db(4),b.vc("ngModel",n.pendinginfo.username),b.Db(5),b.wc("value",n.pendinginfo.customercomments),b.Db(5),b.vc("ngModel",n.call.CustomerComments),b.Db(5),b.vc("ngModel",n.call.CallerComments),b.Db(11),b.vc("ngIf",n.delVisible),b.Db(1),b.vc("disabled",!n.creCheck),b.Db(1),b.Xc(n.saveStr)}}function ke(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",58),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Yb(9,"td"),b.Wc(10),b.Xb(),b.Yb(11,"td"),b.Wc(12),b.Xb(),b.Yb(13,"td"),b.Yb(14,"i",54),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).openOld(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.recordId),b.Db(2),b.Xc(n.customer),b.Db(2),b.Xc(n.caller),b.Db(2),b.Xc(n.mobile),b.Db(2),b.Xc(n.statu)}}function De(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Enquiries "),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",55),b.Yb(6,"button",56),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(7,"New"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(8,"table",57),b.Yb(9,"thead",52),b.Yb(10,"tr"),b.Yb(11,"th"),b.Wc(12,"#"),b.Xb(),b.Yb(13,"th"),b.Wc(14,"Seq"),b.Xb(),b.Yb(15,"th"),b.Wc(16,"Customer"),b.Xb(),b.Yb(17,"th"),b.Wc(18,"Enquiry by"),b.Xb(),b.Yb(19,"th"),b.Wc(20,"Mobile"),b.Xb(),b.Yb(21,"th"),b.Wc(22,"Status"),b.Xb(),b.Yb(23,"th"),b.Wc(24,"Open"),b.Xb(),b.Xb(),b.Xb(),b.Yb(25,"tbody"),b.Uc(26,ke,15,6,"tr",53),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(26),b.vc("ngForOf",n.details)}}var We=new Date,we=function(){function t(t,e,i,n,r,o){var c=this;this.crm=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.modalService=o,this.creCheck=!1,this.delCheck=!1,this.delVisible=!1,this.country="",this.saveStr="",this.employees=[],this.tradate={year:We.getFullYear(),month:We.getMonth()+1,day:We.getDate()},this.tradates="",this.listdate={year:We.getFullYear(),month:We.getMonth()+1,day:We.getDate()},this.nextdate={year:We.getFullYear(),month:We.getMonth()+1,day:We.getDate()},this.call={RecordId:0,Seq:"aa",Dat:"",Callerid:0,Customer:"",Addr:"",Country:"",Stat:"",District:"",City:"",Zip:"",Mobile:"",Tel:"",Fax:"",Email:"",Webid:"",PrevcallId:null,PrevCallMode:"",CustomerComments:"",CallerComments:"",CallPosition:0,NextCallDate:"",NextCallMode:0},this.pendinginfo={id:null,seq:"",callerid:0,callername:"",customer:"",mobile:"",mode:"",dat:null,customercomments:"",username:""},this.recordID=0,this.opened=!1,this.details=[],this.adm.screenCheck(7,2,1,0)?(this.tradates=this.adm.stringData(new Date),this.crm.gerCompleteEnquiryRxRequirements().subscribe((function(t){c.completeDet=t,console.log(c.completeDet),c.call.Seq=c.completeDet.seq})),this.delCheck=this.adm.screenCheck(7,2,1,3),this.listAdd()):this.router.navigateByUrl("pages/unAuthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openPending=function(t){console.log(t),this.pendinginfo.callername="",this.pendinginfo.id=t.id,this.pendinginfo.seq=t.seq,this.pendinginfo.callerid=t.callerId,this.pendinginfo.customer=t.customer,this.pendinginfo.mobile=t.mobile,this.pendinginfo.mode=t.mode,this.pendinginfo.dat=t.dat,this.pendinginfo.customercomments=t.customercomments,this.pendinginfo.username=t.username,this.call.Customer=t.customer,this.call.Mobile=t.mobile,this.modalService.dismissAll("Work over")},t.prototype.openNew=function(){this.makeCle(),this.creCheck=this.adm.screenCheck(7,2,1,1),this.saveStr="Save",this.opened=!0},t.prototype.makeCle=function(){this.delVisible=!1,this.recordID=0,this.call={RecordId:0,Dat:"",Callerid:0,Customer:"",Mobile:"",Email:"",PrevcallId:null,PrevCallMode:"",CustomerComments:"",CallerComments:"",CallPosition:0,NextCallDate:"",NextCallMode:0}},t.prototype.openOld=function(t){console.log(t),this.recordID=t.recordId,this.delVisible=!0,this.creCheck=this.adm.screenCheck(7,2,1,2),this.saveStr="Modify",this.opened=!0},t.prototype.makeStates=function(){var t=this;this.states=this.completeDet.states.filter((function(e){return e.cntname==t.call.Country}))},t.prototype.deleteCall=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.call.RecordId=this.recordID,this.call.Dat=this.adm.strDate(this.tradate),this.crm.setTeleCall(this.call,3).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return t=e,this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),"OK"==t.result?(this.toastr.success("Call Deleted Successfully","Success"),this.listAdd(),this.makeCle(),this.opened=!1,this.spinner.hide()):(this.toastr.error(t.result,"Error"),this.spinner.hide()),[2]}))}))}))},t.prototype.valChk=function(){return this.call.Customer?""==this.call.Customer.trim()?(this.adm.showMessage("Customer not entered","Warning",3),!1):this.call.Mobile?""==this.call.Mobile.trim()?(this.adm.showMessage("Mobile not entered","Warning",3),!1):this.call.CustomerComments?""==this.call.CustomerComments.trim()?(this.adm.showMessage("Customer comments not entered","Warning",3),!1):this.call.CallerComments?""==this.call.CallerComments.trim()?(this.adm.showMessage("Caller comments not entered","Warning",3),!1):!(this.call.CallPosition<=0&&(this.adm.showMessage("Call Position not selected","Warning",3),1)):(this.adm.showMessage("Caller comments not entered","Warning",3),!1):(this.adm.showMessage("Customer comments not entered","Warning",3),!1):(this.adm.showMessage("Mobile not entered","Warning",3),!1):(this.adm.showMessage("Customer not entered","Warning",3),!1)},t.prototype.saveCall=function(){var t=this;this.valChk()&&g.a.fire({title:0==this.recordID?"Confirms Enquiry Details":"Modifies Enquiry Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.call.CallPosition=+t.call.CallPosition,t.call.Dat=t.adm.makePresentDate(t.tradate),t.call.NextCallDate=t.adm.makePresentDate(t.nextdate),t.call.NextCallMode=+t.call.NextCallMode,t.crm.setEnquiryRX(t.call,0==t.recordID?1:2).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return"OK"==(t=e).result?(g.a.fire("Transaction Completed Successfully!","Enquiry Details saved.","success"),0==this.recordID?(this.makeCle(),this.opened=!0):(this.makeCle(),this.opened=!1),this.listAdd()):g.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))})))}))},t.prototype.close=function(){this.opened=!1},t.prototype.openModal=function(t){this.modalService.open(t,{windowClass:"terms-modal"})},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var e=this.adm.strDate(this.listdate);this.crm.getListOfRXEnquiries(e,e).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t,i;return Object(G.__generator)(this,(function(n){for(console.log(e),t=e,this.details=[],i=0;i<t.length;i++)this.details.push({recordId:t[i].recordId,seq:t[i].seq,customer:t[i].customer,caller:t[i].username,mobile:t[i].mobile,statu:this.findstatus(t[i].stau)});return console.log(this.details),this.spinner.hide(),[2]}))}))}))},t.prototype.findcaller=function(t){var e=this.employees.filter((function(e){return e.empid==t}));return e.length>0?e[0].empname:""},t.prototype.findstatus=function(t){return 1==t?"Active":"Inactive"},t.\u0275fac=function(e){return new(e||t)(b.Sb(ge),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b),b.Sb(X.r))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-enquiries-rx"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","100%"],["align","right",2,"width","15%"],["colspan","3"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["align","right",2,"width","10%"],[2,"width","20%"],["type","text","disabled","",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["rowspan","2","align","right",2,"width","15%"],["rowspan","2",2,"width","25%"],[2,"width","100%","height","50px",3,"ngModel","ngModelChange"],["type","text",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["type","text","disabled","",3,"value"],[2,"width","25%"],[1,"form-control",2,"width","100%"],["value","0"],["value","1"],["value","2"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text",1,"form-control",2,"width","100%"],[1,"form-control",3,"ngModel","ngModelChange"],["value","3"],["value","4"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["align","right",2,"width","30%"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","10%"],["type","button","value","Add",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],["type","text","disabled","",1,"form-control",3,"value"],["colspan","2","align","right"],["colspan","4"],["rows","3","disabled","",1,"form-control",3,"value"],["rows","3",1,"form-control",3,"ngModel","ngModelChange"],["type","button","class","btn btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-info","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn","btn-dark","mb-1",3,"click"],["customContent",""],[3,"value"],["type","button",1,"btn","btn-danger","mr-1","mb-1",3,"disabled","click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table","m-0",2,"width","99%"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"ft-edit","font-medium-1",3,"click"],["align","left"],["type","button",1,"btn","btn-success","mr-1","mb-1",3,"click"],[1,"table","m-0",2,"width","90%"],["scope","row"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Me,187,33,"div",0),b.Uc(2,De,27,1,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,d.c,d.q,d.t,d.u,d.B,d.z,n.o,X.q],pipes:[n.e],styles:["ng-sidebar-container{height:100vh}::ng-deep .ng-sidebar{background-color:#fff;width:95%}.has-search .form-control{padding-left:2.375rem}.has-search .form-control-feedback{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}#content{width:95%}.terms-modal .modal-content{width:900px;position:absolute;left:-200px}.terms-modal .close,.terms-modal .modal-title{color:#000}.dark-modal .modal-content{background-color:#292b2c;width:190%;color:#fff;position:absolute;left:-300px}.dark-modal .close,.dark-modal .modal-title{color:#fff}"],encapsulation:2}),t}(),xe=function(){function t(t,e){this.adm=t,this.http=e}return t.prototype.getCustomerGroupsReport=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMKeyReports/crmeyRepCustomerGroups",t,this.adm.makeConfig())},t.prototype.getCustomerDetailsReport=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMKeyReports/CRMKeyRepCustomerDetails",t,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Ie(t,e){1&t&&(b.Yb(0,"td"),b.Wc(1," Active"),b.Xb())}function Se(t,e){1&t&&(b.Yb(0,"td"),b.Wc(1," Inactive"),b.Xb())}function Ae(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",20),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Uc(7,Ie,2,0,"td",1),b.Uc(8,Se,2,0,"td",1),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.sGrp),b.Db(2),b.Xc(i.mGrp),b.Db(1),b.vc("ngIf",1==i.statu),b.Db(1),b.vc("ngIf",1!=i.statu)}}function Re(t,e){if(1&t&&(b.Yb(0,"section",2),b.Yb(1,"div",3),b.Yb(2,"div",4),b.Yb(3,"div",5),b.Yb(4,"div",6),b.Yb(5,"h4",7),b.Wc(6,"List of Customer Groups"),b.Xb(),b.Yb(7,"div",8),b.Yb(8,"div",9),b.Tb(9,"i",10),b.Yb(10,"div",11),b.Yb(11,"a",12),b.Wc(12,"Download Pdf"),b.Xb(),b.Yb(13,"a",13),b.Wc(14,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"div",14),b.Yb(16,"div",15),b.Yb(17,"div",16),b.Yb(18,"table",17),b.Yb(19,"thead",18),b.Yb(20,"tr"),b.Yb(21,"th"),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th"),b.Wc(24,"Group Name"),b.Xb(),b.Yb(25,"th"),b.Wc(26,"Main Group"),b.Xb(),b.Yb(27,"th"),b.Wc(28,"Status"),b.Xb(),b.Xb(),b.Xb(),b.Yb(29,"tbody"),b.Uc(30,Ae,9,5,"tr",19),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(11),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc),b.Db(17),b.vc("ngForOf",i.grps)}}function Oe(t,e){1&t&&(b.Yb(0,"span"),b.Yb(1,"h2"),b.Wc(2,"Please verify your authorization"),b.Xb(),b.Xb())}var Ue=function(){function t(t,e,i,n,r){this.ckey=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.searchtext="",this.authCheck=!1,this.adm.screenCheck(7,9,1,0)?(this.listAdd(),this.authCheck=!0):(this.authCheck=!1,this.router.navigateByUrl("crm/crmunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.ckey.getCustomerGroupsReport().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return this.grps=(t=e).groups,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile,this.spinner.hide(),[2]}))}))}))},t.prototype.makePdf=function(){this.adm.makePdf(this.pdffile)},t.prototype.makeExcel=function(){this.adm.makeExcel(this.excelfile)},t.\u0275fac=function(e){return new(e||t)(b.Sb(xe),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-key-rep-customer-groups"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Re,31,3,"section",0),b.Uc(2,Oe,3,0,"span",1)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}();function Te(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",24),b.Wc(2),b.Xb(),b.Yb(3,"td",20),b.Wc(4),b.Xb(),b.Yb(5,"td",20),b.Wc(6),b.Xb(),b.Yb(7,"td",20),b.Wc(8),b.Xb(),b.Yb(9,"td",21),b.Wc(10),b.Xb(),b.Yb(11,"td",22),b.Wc(12),b.Xb(),b.Yb(13,"td",21),b.Wc(14),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.partyname),b.Db(2),b.Xc(i.partgroup),b.Db(2),b.Xc(i.partycontact),b.Db(2),b.Xc(i.mobile),b.Db(2),b.Xc(i.email),b.Db(2),b.Xc(i.statu)}}function Pe(t,e){if(1&t&&(b.Yb(0,"section",2),b.Yb(1,"div",3),b.Yb(2,"div",4),b.Yb(3,"div",5),b.Yb(4,"div",6),b.Yb(5,"h4",7),b.Wc(6,"List of Customers"),b.Xb(),b.Yb(7,"div",8),b.Yb(8,"div",9),b.Tb(9,"i",10),b.Yb(10,"div",11),b.Yb(11,"a",12),b.Wc(12,"Download Pdf"),b.Xb(),b.Yb(13,"a",13),b.Wc(14,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"div",14),b.Yb(16,"div",15),b.Yb(17,"div",16),b.Yb(18,"table",17),b.Yb(19,"thead",18),b.Yb(20,"tr"),b.Yb(21,"th",19),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th",20),b.Wc(24,"Customer"),b.Xb(),b.Yb(25,"th",20),b.Wc(26,"Group"),b.Xb(),b.Yb(27,"th",20),b.Wc(28,"Contact"),b.Xb(),b.Yb(29,"th",21),b.Wc(30,"Mobile"),b.Xb(),b.Yb(31,"th",22),b.Wc(32,"E-Mail"),b.Xb(),b.Yb(33,"th",21),b.Wc(34,"Status"),b.Xb(),b.Xb(),b.Xb(),b.Yb(35,"tbody"),b.Uc(36,Te,15,7,"tr",23),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(11),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc),b.Db(23),b.vc("ngForOf",i.parties)}}function Fe(t,e){1&t&&(b.Yb(0,"span"),b.Yb(1,"h2"),b.Wc(2,"Please verify your authorization"),b.Xb(),b.Xb())}var Le=function(){function t(t,e,i,n,r){this.ckey=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.searchtext="",this.authCheck=!1,this.adm.screenCheck(2,11,1,0)?(this.listAdd(),this.authCheck=!0):(this.authCheck=!1,this.router.navigateByUrl("crm/crmunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.ckey.getCustomerDetailsReport().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return this.parties=(t=e).customers,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile,this.spinner.hide(),console.log(t),[2]}))}))}))},t.prototype.makePdf=function(){this.adm.makePdf(this.pdffile)},t.prototype.makeExcel=function(){this.adm.makeExcel(this.excelfile)},t.\u0275fac=function(e){return new(e||t)(b.Sb(xe),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-key-rep-customers"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"width","5%"],[2,"width","20%"],[2,"width","10%"],[2,"width","15%"],[4,"ngFor","ngForOf"],["scope","row",2,"width","5%"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Pe,37,3,"section",0),b.Uc(2,Fe,3,0,"span",1)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}();function Ne(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",53),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(2).toggleVisible(t)})),b.Xb()}}function qe(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",54),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(2).toggleVisible(t)})),b.Xb()}}function Be(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",53),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(4).toggleVisible(t)})),b.Xb()}}function Ee(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",54),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(4).toggleVisible(t)})),b.Xb()}}function Ge(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",53),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(6).toggleVisible(t)})),b.Xb()}}function ze(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",54),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(6).toggleVisible(t)})),b.Xb()}}function $e(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span",56),b.Uc(1,Ge,1,0,"i",50),b.Uc(2,ze,1,0,"i",51),b.Yb(3,"a"),b.Yb(4,"span",52),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(6).toggleVisible(t)})),b.Wc(5),b.Xb(),b.Xb(),b.Tb(6,"br"),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(3),b.Yc(" ",n.subGroup," ")}}function Ze(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,$e,7,3,"span",55),b.Xb()),2&t){var i=b.oc().$implicit;b.Db(1),b.vc("ngForOf",i.children)}}function _e(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span",56),b.Uc(1,Be,1,0,"i",50),b.Uc(2,Ee,1,0,"i",51),b.Yb(3,"a"),b.Yb(4,"span",52),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(4).toggleVisiblePlus(t)})),b.Wc(5),b.Xb(),b.Xb(),b.Tb(6,"br"),b.Uc(7,Ze,2,1,"div",0),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(3),b.Yc(" ",n.subGroup," "),b.Db(2),b.vc("ngIf",n.openCheck)}}function je(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,_e,8,4,"span",55),b.Xb()),2&t){var i=b.oc().$implicit;b.Db(1),b.vc("ngForOf",i.children)}}function Ve(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span"),b.Uc(1,Ne,1,0,"i",50),b.Uc(2,qe,1,0,"i",51),b.Yb(3,"a"),b.Yb(4,"span",52),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).toggleVisiblePlus(t)})),b.Wc(5),b.Xb(),b.Xb(),b.Tb(6,"br"),b.Uc(7,je,2,1,"div",0),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(3),b.Yc(" ",n.subGroup," "),b.Db(2),b.vc("ngIf",n.openCheck)}}function Ke(t,e){if(1&t&&(b.Yb(0,"option",57),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.cntname),b.Db(1),b.Xc(i.cntname)}}function Qe(t,e){if(1&t&&(b.Yb(0,"option",57),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.stateName),b.Db(1),b.Xc(i.stateName)}}function Je(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",58),b.kc("click",(function(){return b.Mc(i),b.oc(2).delete()})),b.Wc(1,"Delete"),b.Xb()}if(2&t){var n=b.oc(2);b.vc("disabled",!n.delcheck)}}function He(t,e){1&t&&(b.Yb(0,"div",59),b.Yb(1,"h6",60),b.Wc(2,"Address"),b.Xb(),b.Yb(3,"button",61),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(4,"span",62),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Tb(6,"div",63))}function ti(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",2),b.Yb(6,"div",3),b.Yb(7,"div",4),b.Yb(8,"h4",5),b.Wc(9,"Select Group"),b.Xb(),b.Xb(),b.Yb(10,"div",6),b.Yb(11,"div",7),b.Yb(12,"div",8),b.Uc(13,Ve,8,4,"span",9),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(14,"td",10),b.Yb(15,"div",3),b.Yb(16,"div",4),b.Yb(17,"h4",5),b.Wc(18,"Lead Details"),b.Xb(),b.Xb(),b.Yb(19,"div",6),b.Yb(20,"div",7),b.Yb(21,"div",8),b.Yb(22,"table",1),b.Yb(23,"tr"),b.Yb(24,"td",11),b.Wc(25,"Code"),b.Xb(),b.Yb(26,"td",12),b.Yb(27,"input",13),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supplier.PartyCode=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(28,"tr"),b.Yb(29,"td",11),b.Wc(30,"Customer"),b.Xb(),b.Yb(31,"td",12),b.Yb(32,"input",14),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supplier.PartyName=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(33,"tr"),b.Yb(34,"td",11),b.Wc(35,"Group"),b.Xb(),b.Yb(36,"td",12),b.Yb(37,"input",15),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().partygrp=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(38,"tr"),b.Yb(39,"td",11),b.Wc(40,"Status"),b.Xb(),b.Yb(41,"td",12),b.Yb(42,"select",16),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supplier.Statu=t})),b.Yb(43,"option",17),b.Wc(44,"Active"),b.Xb(),b.Yb(45,"option",18),b.Wc(46,"Inactive"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(47,"tr"),b.Yb(48,"td",19),b.Wc(49,"\xa0"),b.Xb(),b.Xb(),b.Yb(50,"tr"),b.Yb(51,"td",20),b.Wc(52,"Contact Information"),b.Xb(),b.Xb(),b.Yb(53,"tr"),b.Yb(54,"td",11),b.Wc(55,"Contact"),b.Xb(),b.Yb(56,"td",12),b.Yb(57,"input",21),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supplier.ContactPerson=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(58,"table",1),b.Yb(59,"tr"),b.Yb(60,"td",11),b.Wc(61,"Designation"),b.Xb(),b.Yb(62,"td",22),b.Yb(63,"input",23),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supplier.ContactDesignation=t})),b.Xb(),b.Xb(),b.Yb(64,"td",11),b.Wc(65,"Email"),b.Xb(),b.Yb(66,"td",22),b.Yb(67,"input",24),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supplier.ContactEmail=t})),b.Xb(),b.Xb(),b.Yb(68,"td",11),b.Wc(69,"Mobile"),b.Xb(),b.Yb(70,"td",25),b.Yb(71,"input",26),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supplier.ContactMobile=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(72,"tr"),b.Yb(73,"td",11),b.Wc(74,"Pref Language"),b.Xb(),b.Yb(75,"td",22),b.Yb(76,"input",27),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supplier.PrefLanguage=t})),b.Xb(),b.Xb(),b.Yb(77,"td",19),b.Wc(78,"\xa0 "),b.Xb(),b.Xb(),b.Yb(79,"tr"),b.Yb(80,"td",28),b.Wc(81,"\xa0"),b.Xb(),b.Xb(),b.Yb(82,"tr"),b.Yb(83,"td",29),b.Wc(84,"Address Details"),b.Xb(),b.Xb(),b.Yb(85,"tr"),b.Yb(86,"td",28),b.Yb(87,"table",1),b.Yb(88,"tr"),b.Yb(89,"td",11),b.Wc(90,"Address Name"),b.Xb(),b.Yb(91,"td",12),b.Yb(92,"input",30),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.nam=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(93,"tr"),b.Yb(94,"td",11),b.Wc(95,"Address"),b.Xb(),b.Yb(96,"td",31),b.Yb(97,"textarea",32),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.addr=t})),b.Xb(),b.Xb(),b.Yb(98,"td",11),b.Wc(99,"ZIP"),b.Xb(),b.Yb(100,"td",33),b.Yb(101,"input",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.zip=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(102,"tr"),b.Yb(103,"td",11),b.Wc(104,"\xa0"),b.Xb(),b.Yb(105,"td",11),b.Wc(106,"Mobile"),b.Xb(),b.Yb(107,"td",33),b.Yb(108,"input",26),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.mobile=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(109,"tr"),b.Yb(110,"td",11),b.Wc(111,"Country"),b.Xb(),b.Yb(112,"td",33),b.Yb(113,"select",35),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.country=t}))("change",(function(){return b.Mc(i),b.oc().changeCountry()})),b.Yb(114,"option",36),b.Wc(115,"--Select Country--"),b.Xb(),b.Uc(116,Ke,2,2,"option",37),b.Xb(),b.Xb(),b.Yb(117,"td",11),b.Wc(118,"Tel"),b.Xb(),b.Yb(119,"td",33),b.Yb(120,"input",38),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.tel=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(121,"tr"),b.Yb(122,"td",11),b.Wc(123,"State"),b.Xb(),b.Yb(124,"td",33),b.Yb(125,"select",16),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.stat=t})),b.Yb(126,"option",39),b.Wc(127,"--Select State--"),b.Xb(),b.Uc(128,Qe,2,2,"option",37),b.Xb(),b.Xb(),b.Yb(129,"td",11),b.Wc(130,"Fax"),b.Xb(),b.Yb(131,"td",33),b.Yb(132,"input",40),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.fax=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(133,"tr"),b.Yb(134,"td",11),b.Wc(135,"District"),b.Xb(),b.Yb(136,"td",33),b.Yb(137,"input",41),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.district=t})),b.Xb(),b.Xb(),b.Yb(138,"td",11),b.Wc(139,"Email"),b.Xb(),b.Yb(140,"td",33),b.Yb(141,"input",42),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.email=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(142,"tr"),b.Yb(143,"td",11),b.Wc(144,"City"),b.Xb(),b.Yb(145,"td",33),b.Yb(146,"input",43),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.city=t})),b.Xb(),b.Xb(),b.Yb(147,"td",11),b.Wc(148,"Web"),b.Xb(),b.Yb(149,"td",33),b.Yb(150,"input",44),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().address.web=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(151,"tr"),b.Yb(152,"td",45),b.Yb(153,"button",46),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(154),b.Xb(),b.Uc(155,Je,2,1,"button",47),b.Yb(156,"button",48),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(157,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Uc(158,He,7,0,"ng-template",null,49,b.Vc),b.Xb()}if(2&t){var n=b.oc();b.Db(2),b.Yc("",n.actype," Details"),b.Db(11),b.vc("ngForOf",n.treeObj),b.Db(14),b.vc("ngModel",n.supplier.PartyCode),b.Db(5),b.vc("ngModel",n.supplier.PartyName),b.Db(5),b.vc("ngModel",n.partygrp),b.Db(5),b.vc("ngModel",n.supplier.Statu),b.Db(15),b.vc("ngModel",n.supplier.ContactPerson),b.Db(6),b.vc("ngModel",n.supplier.ContactDesignation),b.Db(4),b.vc("ngModel",n.supplier.ContactEmail),b.Db(4),b.vc("ngModel",n.supplier.ContactMobile),b.Db(5),b.vc("ngModel",n.supplier.PrefLanguage),b.Db(16),b.vc("ngModel",n.address.nam),b.Db(5),b.vc("ngModel",n.address.addr),b.Db(4),b.vc("ngModel",n.address.zip),b.Db(7),b.vc("ngModel",n.address.mobile),b.Db(5),b.vc("ngModel",n.address.country),b.Db(3),b.vc("ngForOf",n.countries),b.Db(4),b.vc("ngModel",n.address.tel),b.Db(5),b.vc("ngModel",n.address.stat),b.Db(3),b.vc("ngForOf",n.selectedstates),b.Db(4),b.vc("ngModel",n.address.fax),b.Db(5),b.vc("ngModel",n.address.district),b.Db(4),b.vc("ngModel",n.address.email),b.Db(5),b.vc("ngModel",n.address.city),b.Db(4),b.vc("ngModel",n.address.web),b.Db(3),b.vc("disabled",!n.crecheck),b.Db(1),b.Xc(n.savestr),b.Db(1),b.vc("ngIf",0!=n.recordid)}}function ei(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",77),b.kc("click",(function(){return b.Mc(i),b.oc(2).openNew()})),b.Wc(1,"New"),b.Xb()}}function ii(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",80),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(2).openOld(t)})),b.Xb()}}function ni(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",78),b.Wc(2),b.Xb(),b.Yb(3,"td",2),b.Wc(4),b.Xb(),b.Yb(5,"td",74),b.Wc(6),b.Xb(),b.Yb(7,"td",75),b.Wc(8),b.Xb(),b.Yb(9,"td",76),b.Wc(10),b.Xb(),b.Yb(11,"td",76),b.Wc(12),b.Xb(),b.Yb(13,"td",73),b.Uc(14,ii,1,0,"i",79),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index,r=b.oc(2);b.Db(2),b.Xc(n+1+(r.pageno-1)*r.PAGESIZE),b.Db(2),b.Xc(i.partyName),b.Db(2),b.Xc(i.partyGroupName),b.Db(2),b.Xc(i.contactPerson),b.Db(2),b.Xc(i.contactMobile),b.Db(2),b.Xc(i.status),b.Db(2),b.vc("ngIf",!r.opened)}}function ri(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Leads "),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",64),b.Uc(6,ei,2,0,"button",65),b.Xb(),b.Yb(7,"td",66),b.Yb(8,"div",67),b.Tb(9,"span",68),b.Yb(10,"input",69),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().searchtext=t}))("input",(function(){return b.Mc(i),b.oc().searchParties()})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(11,"ngb-pagination",70),b.kc("pageChange",(function(t){return b.Mc(i),b.oc().loadPage(t)}))("pageChange",(function(t){return b.Mc(i),b.oc().page4=t})),b.Xb(),b.Yb(12,"table",71),b.Yb(13,"thead",72),b.Yb(14,"tr"),b.Yb(15,"th",73),b.Wc(16,"#"),b.Xb(),b.Yb(17,"th",2),b.Wc(18),b.Xb(),b.Yb(19,"th",74),b.Wc(20,"Group"),b.Xb(),b.Yb(21,"th",75),b.Wc(22,"Contact Person"),b.Xb(),b.Yb(23,"th",76),b.Wc(24,"Contact Mobile"),b.Xb(),b.Yb(25,"th",76),b.Wc(26,"Status"),b.Xb(),b.Tb(27,"th",73),b.Xb(),b.Xb(),b.Yb(28,"tbody"),b.Uc(29,ni,15,7,"tr",9),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(6),b.vc("ngIf",!n.opened),b.Db(4),b.vc("ngModel",n.searchtext),b.Db(1),b.vc("collectionSize",n.totalpages)("page",n.page4)("maxSize",5)("rotate",!0)("boundaryLinks",!0),b.Db(7),b.Xc(n.actype),b.Db(11),b.vc("ngForOf",n.parties)}}var oi=function(){function t(t,e,i,n,r,o,c){var a=this;this.adm=t,this.modalService=e,this.spinner=i,this.router=n,this.crm=r,this.par=o,this.cou=c,this.actype="Lead",this.authCheck=!1,this.partytype="LEA",this.tracheck=1,this.prevchk=!0,this.opened=!1,this.RestrictMode=0,this.BankForSecurity=0,this.country=0,this.defaultcountry="",this.eximcheck=!1,this.crecheck=!0,this.delcheck=!0,this.supcuschk=!1,this.pageno=1,this.PAGESIZE=15,this.totalpages=1,this.page4=1,this.savestr="Save",this.supplier={RecordId:0,PartyName:null,PartyGroup:0,Statu:1,ContactPerson:null,ContactDesignation:null,ContactMobile:null,ContactEmail:null,LeadTime:null,CrDaysCheck:0,CrDay:null,CrAmtCheck:0,CrAmt:null,RestrictMode:0,PartyType:this.partytype,Pricelist:" ",Discountlist:" ",DualType:0,EximCheck:0,AirDestination:null,SeaDestination:null,BankForSecurity:0,MainCustomer:0,PartyCode:null,PartyUserName:"",PrefLanguage:"",OrderReminder1:null,OrderReminder2:null,OrderReminder3:null,DefaultPurchaseorSaleType:" ",PaymentReminder1:null,PaymentReminder2:null,PaymentReminder3:null,DefaultPaymentMode:"CASH",KycAcnumber:"",KycAcbank:"",KycAcbranch:"",KycAcholder:"",KycAcifsc:""},this.recordid=0,this.partygrp="",this.parties=[],this.totaladdresses=[],this.totaldepartments=[],this.addresses=[],this.address={id:0,nam:"",addr:"",country:"",stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",web:"",statu:1},this.addressname="",this.departments=[],this.department="",this.departmentid="",this.totalparties=[],this.searchtext="",this.banks=[],this.countries=[],this.adm.screenCheck(7,1,5,0)?(this.authCheck=!0,this.delcheck=this.adm.screenCheck(7,1,5,3),this.listAdd(),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.cou.getAdmActiveCountries().subscribe((function(t){a.countries=t;var e=a.countries.filter((function(t){return 2==t.statu}));e.length>0&&(a.defaultcountry=e[0].cntname),a.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.cou.getTotalStates().subscribe((function(t){a.states=t,a.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getRxPriceListNames().subscribe((function(t){a.pricelists=t,a.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getRxDiscountListNames().subscribe((function(t){a.discountlists=t,a.spinner.hide()}))):(this.router.navigateByUrl("crm/crmunauthorize"),this.authCheck=!1)}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.par.GetPartyCompleteDetails("LEA").subscribe((function(e){var i=e;t.treeObj=i.partygroups,t.totalparties=i.parties,t.totaladdresses=i.addresses,t.totaldepartments=i.departments,t.banks=i.banks,t.searchParties(),t.spinner.hide()}))},t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.crecheck=this.adm.screenCheck(7,1,5,1),this.makeCle(),this.opened=!0,this.recordid=0,this.savestr="Save",this.prevchk=!0},t.prototype.openOld=function(t){this.crecheck=this.adm.screenCheck(7,1,5,2),this.recordid=t.recordId,this.opened=!0,this.savestr="Modify",this.supplier={RecordId:t.recordId,PartyName:t.partyName,PartyGroup:t.partyGroup,Addr:t.addr,Country:t.country,Stat:t.stat,District:t.district,City:t.city,Zip:t.zip,Mobile:t.mobile,Tel:t.tel,Fax:t.fax,Email:t.email,Web:t.web,Statu:"Active"==t.status?1:2,ContactPerson:t.contactPerson,ContactDesignation:t.contactDesignation,ContactMobile:t.contactMobile,ContactEmail:t.contactEmail,LeadTime:t.leadTime,CrDaysCheck:t.crDaysCheck,CrDay:t.crDay,CrAmtCheck:t.CrAmtCheck,CrAmt:t.crAmt,RestrictMode:t.restrictMode,Gst:t.gst,Cin:t.cin,Pan:t.pan,Din:t.din,PartyType:this.partytype,DualType:t.dualType,EximCheck:t.eximCheck,AirDestination:t.airDestination,SeaDestination:t.seaDestination,BankForSecurity:t.bankForSecurity,MainCustomer:t.mainCustomer,Pricelist:t.pricelist,Discountlist:t.discountlist,PartyCode:t.partyCode,PartyUserName:t.partyUserName,PrefLanguage:t.prefLanguage,OrderReminder1:t.orderReminder1,OrderReminder2:t.orderReminder2,OrderReminder3:t.orderReminder3,DefaultPurchaseorSaleType:t.defaultPurchaseorSaleType,PaymentReminder1:t.paymentReminder1,PaymentReminder2:t.paymentReminder2,PaymentReminder3:t.paymentReminder3,DefaultPaymentMode:t.defaultPaymentMode,KycAcnumber:t.kycAcnumber,KycAcbank:t.kycAcbank,KycAcbranch:t.kycAcbranch,KycAcholder:t.kycAcholder,KycAcifsc:t.kycAcifsc},this.partygrp=t.partyGroupName,this.prevchk=!t.partyUserName||null==t.partyUserName.trim(),this.addresses=[];var e=this.totaladdresses.filter((function(e){return e.recordId==+t.recordId}));if(e)for(var i=0;i<e.length;i++)this.addresses.push({AddressName:e[i].addressName,Addres:e[i].addres,Country:e[i].country,Stat:e[i].stat,District:e[i].district,City:e[i].city,Zip:e[i].zip,Mobile:e[i].mobile,Tel:e[i].tel,Fax:e[i].fax,Email:e[i].email,Webid:e[i].webid,Statu:+e[i].statu});this.departments=[];var n=this.totaldepartments.filter((function(e){return e.recordId==+t.recordId}));if(n)for(i=0;i<n.length;i++)this.departments.push({Department:n[i].department,DepartmentDetails:n[i].departmentDetails})},t.prototype.close=function(){this.opened=!1},t.prototype.makeCle=function(){this.partygrp="",this.supplier={RecordId:0,PartyName:null,PartyGroup:0,Statu:1,ContactPerson:null,ContactDesignation:null,ContactMobile:null,ContactEmail:null,LeadTime:null,CrDaysCheck:0,CrDay:null,CrAmtCheck:0,CrAmt:null,RestrictMode:0,PartyType:this.partytype,DualType:0,EximCheck:0,Pricelist:" ",Discountlist:" ",MainCustomer:0,AirDestination:null,SeaDestination:null,BankForSecurity:0,PartyCode:null,PartyUserName:null,PrefLanguage:"",OrderReminder1:null,OrderReminder2:null,OrderReminder3:null,DefaultPurchaseorSaleType:" ",PaymentReminder1:null,PaymentReminder2:null,PaymentReminder3:null,DefaultPaymentMode:"CASH",KycAcnumber:"",KycAcbank:"",KycAcbranch:"",KycAcholder:"",KycAcifsc:""},this.addresses=[],this.departments=[]},t.prototype.toggleVisible=function(t){t.openCheck=!t.openCheck},t.prototype.toggleVisiblePlus=function(t){t.openCheck=!t.openCheck,this.partygrp=t.subGroup,this.supplier.PartyGroup=t.recordId},t.prototype.getParties=function(){var t=this;this.par.getPartyDetails(this.partytype).subscribe((function(e){t.totalparties=e,t.searchParties()}))},t.prototype.searchParties=function(){this.loadPage(1)},t.prototype.loadPage=function(t){this.pageno=t,this.page4=t,this.searchDetails()},t.prototype.searchDetails=function(){var t,e=this;t=""==this.searchtext.trim()?this.totalparties:this.totalparties.filter((function(t){return t.partyName.toUpperCase().includes(e.searchtext.toUpperCase())})),this.totalpages=t.length/this.PAGESIZE*10,this.parties=[];for(var i=(this.pageno-1)*this.PAGESIZE,n=i+this.PAGESIZE-1,r=i;r<=n;r++){if(r==t.length)return;this.parties.push(t[r])}},t.prototype.valChk=function(){return this.supplier.PartyName?""==this.supplier.PartyName.trim()?(this.adm.showMessage("No "+this.actype+" Selected","Warning",3),!1):""!=this.partygrp.trim()||(this.adm.showMessage(this.actype+" group not Selected","Warning",3),!1):(this.adm.showMessage("No "+this.actype+" Selected","Warning",3),!1)},t.prototype.save=function(){var t=this;this.valChk()&&(this.addAddress(),this.supplier.CrDaysCheck=1==this.supplier.CrDaysCheck?1:0,this.supplier.CrAmtCheck=1==this.supplier.CrAmtCheck?1:0,this.supplier.EximCheck=1==this.supplier.EximCheck?1:0,this.supplier.DualType=this.supcuschk?1:0,this.supplier.RestrictMode=+this.supplier.RestrictMode,this.supplier.Statu=+this.supplier.Statu,g.a.fire({title:0==this.recordid?"Confirms "+this.actype+" Details":"Modifies "+this.actype+" details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.supplier.BankForSecurity=+t.BankForSecurity,t.tracheck=0==t.recordid?1:2,t.par.setPartyDetail(t.supplier,t.addresses,t.departments,t.tracheck).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Lead Details Saved.","success"),t.listAdd(),t.makeCle(),t.recordid>0&&(t.opened=!1)):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()})))})))},t.prototype.delete=function(){var t=this;this.supplier.CrDaysCheck=1==this.supplier.CrDaysCheck?1:0,this.supplier.CrAmtCheck=1==this.supplier.CrAmtCheck?1:0,this.supplier.EximCheck=1==this.supplier.EximCheck?1:0,this.supplier.Country=+this.supplier.Country,this.supplier.RestrictMode=+this.supplier.RestrictMode,this.supplier.Statu=+this.supplier.Statu,console.log(this.supplier,"supplier"),g.a.fire({title:"Deletes "+this.actype+" Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.supplier.BankForSecurity=+t.BankForSecurity,t.par.setPartyDetail(t.supplier,t.addresses,t.departments,3).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Lead Details Deleted.","success"),t.listAdd(),t.makeCle(),t.recordid>0&&(t.opened=!1)):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()})))}))},t.prototype.changeCountry=function(){var t=this,e=this.countries.filter((function(e){return e.cntname==t.address.country}));if(e.length>0){var i=+e[0].recordId;this.selectedstates=this.states.filter((function(t){return t.cntname==i}))}},t.prototype.valCheckAddress=function(t){return""!=this.address.nam.trim()&&""!=this.address.addr.trim()},t.prototype.addAddress=function(){this.valCheckAddress(1)&&(this.addresses.push({AddressName:this.address.nam,Addres:this.address.addr,Country:this.address.country,Stat:this.address.stat,District:this.address.district,City:this.address.city,Zip:this.address.zip,Mobile:this.address.mobile,Tel:this.address.tel,Fax:this.address.fax,Email:this.address.email,Webid:this.address.web,Statu:+this.address.statu}),this.address={id:0,nam:"",addr:"",country:"",stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",web:"",statu:1})},t.prototype.updateAddress=function(){var t=this;if(this.valCheckAddress(2)){var e=this.addresses.filter((function(e){return e.AddressName==t.addressname}));e&&(e.length>0&&(e[0].AddressName=this.address.nam,e[0].Addres=this.address.addr,e[0].Country=this.address.country,e[0].Stat=this.address.stat,e[0].District=this.address.district,e[0].City=this.address.city,e[0].Zip=this.address.zip,e[0].Mobile=this.address.mobile,e[0].Tel=this.address.tel,e[0].Fax=this.address.fax,e[0].Email=this.address.email,e[0].Webid=this.address.web,e[0].Statu=+this.address.statu),this.modalService.dismissAll())}},t.prototype.deleteAddress=function(){var t=this.addresses.indexOf(this.showaddress);t>=0&&(this.addresses.splice(t,1),this.modalService.dismissAll())},t.prototype.closeAddress=function(){this.modalService.dismissAll()},t.prototype.valCheckDepartment=function(){var t=this;return""==this.department.trim()?(this.adm.showMessage("Department name not mentioned","Warning",3),!1):""==this.departmentid.trim()?(this.adm.showMessage("Department Detail not mentioned","Warning",3),!1):!(this.departments.filter((function(e){return e.Department==t.department})).length>0&&(this.adm.showMessage("This department already added","Warning",3),1))},t.prototype.addDepartment=function(){this.valCheckDepartment()&&(this.departments.push({Department:this.department,DepartmentDetails:this.departmentid}),this.department="",this.departmentid="")},t.prototype.deleteDepartment=function(t){var e=this.departments.indexOf(t);e>=0&&this.departments.splice(e,1)},t.prototype.openModal=function(t,e,i){1==e?(this.address={id:0,nam:"",addr:"",country:this.defaultcountry,stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",web:"",statu:1},this.changeCountry()):(this.showaddress=i,this.addressname=i.AddressName,this.address={id:1,nam:i.AddressName,addr:i.Addres,country:i.Country,stat:i.Stat,district:i.District,city:i.City,zip:i.Zip,mobile:i.Mobile,tel:i.Tel,fax:i.Fax,email:i.Email,web:i.Webid,statu:+i.Statu}),this.modalService.open(t,{backdrop:"static",keyboard:!1})},t.\u0275fac=function(e){return new(e||t)(b.Sb(a.a),b.Sb(X.r),b.Sb(r.c),b.Sb(o.c),b.Sb(ht),b.Sb(O.a),b.Sb(ut.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-leads-management"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","100%"],[2,"width","30%"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-content"],[1,"card-body"],[2,"width","100%","border-color","black","border-style","solid","border-width","thin","height","720px","overflow-y","scroll"],[4,"ngFor","ngForOf"],[2,"width","70%"],["align","right",2,"width","9%"],["colspan","3"],["type","text","id","basicInput","placeholder","Customer Code",1,"form-control",2,"width","40%",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Customer",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Customer Group","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["colspan","4"],["colspan","4",2,"background-color","lightgray"],["type","text","id","basicInput","placeholder","Contact Person",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","24%"],["type","text","id","basicInput","placeholder","Designation",1,"form-control",3,"ngModel","ngModelChange"],["type","email","id","basicInput","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","25%"],["type","text","id","basicInput","placeholder","Mobile",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Prefereable Language",1,"form-control",3,"ngModel","ngModelChange"],["colspan","6"],["colspan","6",2,"background-color","lightgrey"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["rowspan","2",2,"width","41%"],["id","projectinput8","rows","3","name","comment","placeholder","Address",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","41%"],["type","text","id","basicInput","placeholder","Zip",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","basicInput","placeholder","Telephone",1,"form-control",3,"ngModel","ngModelChange"],["value"," "],["type","text","id","basicInput","placeholder","Fax",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","District",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","City",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Web",1,"form-control",3,"ngModel","ngModelChange"],["colspan","2"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"disabled","click"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-dark","mr-1","mb-1",3,"click"],["customContent",""],["class","ft-chevron-right font-medium-1",3,"click",4,"ngIf"],["class","ft-chevron-down font-medium-1",3,"click",4,"ngIf"],[3,"click"],[1,"ft-chevron-right","font-medium-1",3,"click"],[1,"ft-chevron-down","font-medium-1",3,"click"],["style","left: 32px; position: relative;",4,"ngFor","ngForOf"],[2,"left","32px","position","relative"],[3,"value"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["align","left",2,"width","50%"],["type","button","class","btn-lg btn-success mr-1 mb-1",3,"click",4,"ngIf"],["align","right",2,"width","50%"],[1,"form-group","has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","input"],[3,"collectionSize","page","maxSize","rotate","boundaryLinks","pageChange"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[2,"width","5%"],[2,"width","15%"],[2,"width","21%"],[2,"width","12%"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],["scope","row",2,"width","5%"],["class","ft-edit font-medium-1",3,"click",4,"ngIf"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,ti,160,28,"div",0),b.Uc(2,ri,30,9,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,n.o,d.c,d.q,d.t,d.z,d.u,d.B,X.A],styles:[""]}),t}(),ci=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-marketing"]],decls:2,vars:0,template:function(t,e){1&t&&(b.Yb(0,"p"),b.Wc(1,"crm-marketing works!"),b.Xb())},styles:[""]}),t}();function ai(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",28),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td",26),b.Wc(6),b.Xb(),b.Yb(7,"td",26),b.Wc(8),b.Xb(),b.Yb(9,"td",26),b.Wc(10),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Yc(" ",i.name," "),b.Db(2),b.Xc(i.busi),b.Db(2),b.Xc(i.prev),b.Db(2),b.Xc(i.mod)}}function si(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",28),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td",26),b.Wc(6),b.Xb(),b.Yb(7,"td",26),b.Wc(8),b.Xb(),b.Yb(9,"td",26),b.Wc(10),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Yc(" ",i.name," "),b.Db(2),b.Xc(i.busi),b.Db(2),b.Xc(i.prev),b.Db(2),b.Xc(i.mod)}}var bi=["#2F8BE6","#40C057","#40C057","#F55252","#2F8BE6"],di=function(){function t(){this.turnoverLabels=["Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Jan","Feb","Mar"],this.creditData=[30,30,40,50,60,30,70,80,90,30,50,60],this.clearanceData=[20,20,30,70,40,40,50,10,100,30,50,60],this.customers=[],this.makeCharts()}return t.prototype.ngOnInit=function(){},t.prototype.makeCharts=function(){this.barChartOptions={chart:{height:350,type:"bar",toolbar:{show:!0,offsetX:0,offsetY:0,tools:{download:!0,selection:!0,zoom:!1,zoomin:!1,zoomout:!1,pan:!1,customIcons:[]}}},colors:bi,plotOptions:{bar:{horizontal:!1}},dataLabels:{enabled:!1},series:[{name:"Credit",data:this.creditData},{name:"Clearances",data:this.clearanceData}],xaxis:{categories:this.turnoverLabels,tickAmount:5}}},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-minndash"]],decls:120,vars:19,consts:[[1,"row"],[1,"col-sm-12"],[1,"content-header"],[1,"col-xl-3","col-lg-6","col-12"],[1,"card","card-inverse","bg-primary"],[1,"card-content"],[1,"card-body"],[1,"media"],[1,"media-body","text-left"],[1,"card-text"],[1,"media-right","align-self-center"],[1,"ft-arrow-up","font-large-2","float-right"],[1,"card","card-inverse","bg-warning"],[1,"ft-arrow-down","font-large-2","float-right"],["id","apexchart"],[1,"col-xl-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[3,"series","colors","chart","xaxis","yaxis","title","dataLabels","stroke","grid","tooltip","plotOptions","fill","legend","labels","markers","theme","responsive"],[1,"col-xl-4","col-12"],[1,"col-lg-6","col-12"],[1,"col-12"],[1,"table-responsive"],[1,"table","m-0"],[1,"thead-light"],["align","right"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Yb(1,"div",0),b.Yb(2,"div",1),b.Yb(3,"div",2),b.Wc(4,"CRM Dashboard"),b.Xb(),b.Xb(),b.Xb(),b.Yb(5,"div",0),b.Yb(6,"div",3),b.Yb(7,"div",4),b.Yb(8,"div",5),b.Yb(9,"div",6),b.Yb(10,"div",7),b.Yb(11,"div",8),b.Yb(12,"h3",9),b.Wc(13,"100"),b.Xb(),b.Yb(14,"span"),b.Wc(15,"Total Customers"),b.Xb(),b.Xb(),b.Yb(16,"div",10),b.Tb(17,"i",11),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"div",3),b.Yb(19,"div",12),b.Yb(20,"div",5),b.Yb(21,"div",6),b.Yb(22,"div",7),b.Yb(23,"div",8),b.Yb(24,"h3",9),b.Wc(25,"16"),b.Xb(),b.Yb(26,"span"),b.Wc(27,"Bills to be submitted"),b.Xb(),b.Xb(),b.Yb(28,"div",10),b.Tb(29,"i",13),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(30,"div",3),b.Yb(31,"div",4),b.Yb(32,"div",5),b.Yb(33,"div",6),b.Yb(34,"div",7),b.Yb(35,"div",8),b.Yb(36,"h3",9),b.Wc(37,"55%"),b.Xb(),b.Yb(38,"span"),b.Wc(39,"Target Month"),b.Xb(),b.Xb(),b.Yb(40,"div",10),b.Tb(41,"i",13),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(42,"div",3),b.Yb(43,"div",12),b.Yb(44,"div",5),b.Yb(45,"div",6),b.Yb(46,"div",7),b.Yb(47,"div",8),b.Yb(48,"h3",9),b.Wc(49,"29%"),b.Xb(),b.Yb(50,"span"),b.Wc(51,"Target Year"),b.Xb(),b.Xb(),b.Yb(52,"div",10),b.Tb(53,"i",11),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(54,"section",14),b.Yb(55,"div",0),b.Yb(56,"div",15),b.Yb(57,"div",16),b.Yb(58,"div",17),b.Yb(59,"h4",18),b.Wc(60,"Credits to Clearances"),b.Xb(),b.Xb(),b.Yb(61,"div",5),b.Yb(62,"div",6),b.Tb(63,"apx-chart",19),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Tb(64,"div",20),b.Xb(),b.Xb(),b.Yb(65,"div",0),b.Yb(66,"div",21),b.Yb(67,"div",16),b.Yb(68,"div",17),b.Yb(69,"h4",18),b.Wc(70,"Top Business"),b.Xb(),b.Xb(),b.Yb(71,"div",5),b.Yb(72,"div",0),b.Yb(73,"div",22),b.Yb(74,"div",16),b.Yb(75,"div",5),b.Yb(76,"div",6),b.Yb(77,"div",23),b.Yb(78,"table",24),b.Yb(79,"thead",25),b.Yb(80,"tr"),b.Yb(81,"th"),b.Wc(82,"#"),b.Xb(),b.Yb(83,"th"),b.Wc(84,"Customer"),b.Xb(),b.Yb(85,"th",26),b.Wc(86,"Mobile"),b.Xb(),b.Yb(87,"th",26),b.Wc(88,"prevdate"),b.Xb(),b.Yb(89,"th",26),b.Wc(90,"prevmode"),b.Xb(),b.Xb(),b.Xb(),b.Yb(91,"tbody"),b.Uc(92,ai,11,5,"tr",27),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(93,"div",21),b.Yb(94,"div",16),b.Yb(95,"div",17),b.Yb(96,"h4",18),b.Wc(97,"Top Credits"),b.Xb(),b.Xb(),b.Yb(98,"div",5),b.Yb(99,"div",0),b.Yb(100,"div",22),b.Yb(101,"div",16),b.Yb(102,"div",5),b.Yb(103,"div",6),b.Yb(104,"div",23),b.Yb(105,"table",24),b.Yb(106,"thead",25),b.Yb(107,"tr"),b.Yb(108,"th"),b.Wc(109,"#"),b.Xb(),b.Yb(110,"th"),b.Wc(111,"Customer"),b.Xb(),b.Yb(112,"th",26),b.Wc(113,"Mobile"),b.Xb(),b.Yb(114,"th",26),b.Wc(115,"prevdate"),b.Xb(),b.Yb(116,"th",26),b.Wc(117,"prevmode"),b.Xb(),b.Xb(),b.Xb(),b.Yb(118,"tbody"),b.Uc(119,si,11,5,"tr",27),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t&&(b.Db(63),b.vc("series",e.barChartOptions.series)("colors",e.barChartOptions.colors)("chart",e.barChartOptions.chart)("xaxis",e.barChartOptions.xaxis)("yaxis",e.barChartOptions.yaxis)("title",e.barChartOptions.title)("dataLabels",e.barChartOptions.dataLabels)("stroke",e.barChartOptions.stroke)("grid",e.barChartOptions.grid)("tooltip",e.barChartOptions.tooltip)("plotOptions",e.barChartOptions.plotOptions)("fill",e.barChartOptions.fill)("legend",e.barChartOptions.legend)("labels",e.barChartOptions.labels)("markers",e.barChartOptions.markers)("theme",e.barChartOptions.theme)("responsive",e.barChartOptions.responsive),b.Db(29),b.vc("ngForOf",e.customers),b.Db(27),b.vc("ngForOf",e.customers))},directives:[r.a,Qt.a,n.o],styles:[""]}),t}();function li(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",5),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Yb(8,"input",6),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.debit=t})),b.Xb(),b.Xb(),b.Yb(9,"td"),b.Yb(10,"input",6),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.credit=t})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.suppliername),b.Db(2),b.Xc(n.suppliergroup),b.Db(2),b.vc("disabled",n.credit>0)("ngModel",n.debit),b.Db(2),b.vc("disabled",n.debit>0)("ngModel",n.credit)}}function ui(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2,"Customer Opening Balances"),b.Xb(),b.Yb(3,"button",1),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(4,"Save"),b.Xb(),b.Yb(5,"table",2),b.Yb(6,"thead",3),b.Yb(7,"tr"),b.Yb(8,"th"),b.Wc(9,"#"),b.Xb(),b.Yb(10,"th"),b.Wc(11,"Customer"),b.Xb(),b.Yb(12,"th"),b.Wc(13,"Group"),b.Xb(),b.Yb(14,"th"),b.Wc(15,"Debit"),b.Xb(),b.Yb(16,"th"),b.Wc(17,"Credit"),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"tbody"),b.Uc(19,li,11,7,"tr",4),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(19),b.vc("ngForOf",n.parties)}}function hi(t,e){1&t&&(b.Yb(0,"span"),b.Yb(1,"h2"),b.Wc(2,"Please verify your authorization"),b.Xb(),b.Xb())}var pi=function(){function t(t,e,i,n){var r=this;this.par=t,this.router=e,this.spinner=i,this.adm=n,this.parties=[],this.authCheck=!1,this.adm.screenCheck(7,1,6,0)?(this.authCheck=!0,this.par.GetPartyOpeningBalances("CUS").subscribe((function(t){for(var e=t,i=0;i<e.length;i++)r.parties.push({supplierid:e[i].partyId,suppliername:e[i].partyName,suppliergroup:e[i].descriptio,debit:e[i].pendingAmount>=0?Math.abs(e[i].pendingAmount):0,credit:e[i].pendingAmount>=0?0:Math.abs(e[i].pendingAmount)})}))):(this.router.navigateByUrl("crm/crmunauthorize"),this.authCheck=!1)}return t.prototype.save=function(){var t=this;g.a.fire({title:"Confirms Opening Balance Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});for(var i=[],n=0;n<t.parties.length;n++){var r=0,o=0;(t.parties[n].debit>0||t.parties[n].credit>0)&&i.push({TransactionType:"OPC",PartyId:t.parties[n].supplierid,PartyName:t.parties[n].suppliername,TransactionAmt:(o=t.parties[n].debit?t.parties[n].debit:0)-(r=t.parties[n].credit?t.parties[n].credit:0),PendingAmount:o-r,ReturnAmount:0,CreditNote:0,PaymentAmount:0,Descriptio:"Opening Balance"})}t.par.SetPartyOpeningBalances(i).subscribe((function(e){var i=e;"OK"==i.result?g.a.fire("Transaction Completed Successfully!","Opening Balances saved.","success"):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()}))}}))},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(b.Sb(O.a),b.Sb(o.c),b.Sb(r.c),b.Sb(a.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-opening-balances"]],decls:3,vars:2,consts:[[4,"ngIf"],[1,"btn-lg","btn-primary",3,"click"],[1,"table","m-0",2,"width","80%"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"],["type","number",1,"form-control",3,"disabled","ngModel","ngModelChange"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,ui,20,1,"div",0),b.Uc(2,hi,3,0,"span",0)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,n.o,d.v,d.c,d.q,d.t],styles:[""]}),t}(),mi=i("Y7It"),fi=i("ool6"),gi=i("1PnN");function Xi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",42),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc().toggleVisible(t)})),b.Xb()}}function Yi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",43),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc().toggleVisible(t)})),b.Xb()}}function vi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",42),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(3).toggleVisible(t)})),b.Xb()}}function yi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",43),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(3).toggleVisible(t)})),b.Xb()}}function Ci(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",42),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(5).toggleVisible(t)})),b.Xb()}}function Mi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",43),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(5).toggleVisible(t)})),b.Xb()}}function ki(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span",45),b.Uc(1,Ci,1,0,"i",38),b.Uc(2,Mi,1,0,"i",39),b.Yb(3,"span",40),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(5).toggleVisible(t)})),b.Wc(4),b.Xb(),b.Tb(5,"br"),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(2),b.Yc(" ",n.subGroup," ")}}function Di(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,ki,6,3,"span",44),b.Xb()),2&t){var i=b.oc().$implicit;b.Db(1),b.vc("ngForOf",i.children)}}function Wi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span",45),b.Uc(1,vi,1,0,"i",38),b.Uc(2,yi,1,0,"i",39),b.Yb(3,"span",40),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(3).toggleVisiblePlus(t)})),b.Wc(4),b.Xb(),b.Tb(5,"br"),b.Uc(6,Di,2,1,"div",41),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(2),b.Yc(" ",n.subGroup," "),b.Db(2),b.vc("ngIf",n.openCheck)}}function wi(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,Wi,7,4,"span",44),b.Xb()),2&t){var i=b.oc().$implicit;b.Db(1),b.vc("ngForOf",i.children)}}function xi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span"),b.Uc(1,Xi,1,0,"i",38),b.Uc(2,Yi,1,0,"i",39),b.Yb(3,"span",40),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc().toggleVisiblePlus(t)})),b.Wc(4),b.Xb(),b.Tb(5,"br"),b.Uc(6,wi,2,1,"div",41),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(2),b.Yc(" ",n.subGroup," "),b.Db(2),b.vc("ngIf",n.openCheck)}}function Ii(t,e){if(1&t&&(b.Yb(0,"option",46),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.cntname),b.Db(1),b.Xc(i.cntname)}}function Si(t,e){if(1&t&&(b.Yb(0,"option",46),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.stateName),b.Db(1),b.Xc(i.stateName)}}function Ai(t,e){if(1&t&&(b.Yb(0,"option",46),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Xc(i.empname)}}function Ri(t,e){if(1&t&&(b.Yb(0,"option",46),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function Oi(t,e){if(1&t&&(b.Yb(0,"option",46),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}var Ui=function(){function t(t,e,i,n,r,o){var c=this;this.par=t,this.cou=e,this.adm=i,this.spinner=n,this.hrd=r,this.crm=o,this.notify=new b.n,this.actype="Customer",this.partytype="CUS",this.country=0,this.supplier={RecordId:0,PartyName:null,PartyGroup:0,Statu:1,ContactPerson:null,ContactDesignation:null,ContactMobile:null,ContactEmail:null,LeadTime:null,CrDaysCheck:0,CrDay:null,CrAmtCheck:0,CrAmt:null,RestrictMode:0,PartyType:this.partytype,DualType:0,EximCheck:0,AirDestination:null,SeaDestination:null,BankForSecurity:0,PartyCode:null,PartyUserName:"",PrefLanguage:"",OrderReminder1:null,OrderReminder2:null,OrderReminder3:null,DefaultPurchaseorSaleType:" ",PaymentReminder1:null,PaymentReminder2:null,PaymentReminder3:null,DefaultPaymentMode:"CREDIT",Pricelist:"",Discountlist:"",Employee:null,KycAcnumber:"",KycAcbank:"",KycAcbranch:"",KycAcholder:"",KycAcifsc:""},this.partygrp="",this.countries=[],this.address={id:0,nam:"",addr:"",country:"",stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",web:"",statu:1},this.adm.screenCheck(7,1,4,0)&&(this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.hrd.getHRDEmployees().subscribe((function(t){c.employees=t,c.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.cou.getAdmActiveCountries().subscribe((function(t){c.countries=t,c.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.cou.getTotalStates().subscribe((function(t){c.states=t,c.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.par.GetPartyCompleteDetails("CUS").subscribe((function(t){var e=t;console.log(e,"requirements"),c.treeObj=e.partygroups,c.spinner.hide()})),this.crm.getRxPriceListNames().subscribe((function(t){c.pricelists=t,c.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getRxDiscountListNames().subscribe((function(t){c.discountlists=t,c.spinner.hide()})))}return t.prototype.makeCle=function(){this.supplier={RecordId:0,PartyName:null,PartyGroup:0,Statu:1,ContactPerson:null,ContactDesignation:null,ContactMobile:null,ContactEmail:null,LeadTime:null,CrDaysCheck:0,CrDay:null,CrAmtCheck:0,CrAmt:null,RestrictMode:0,PartyType:this.partytype,DualType:0,EximCheck:0,AirDestination:null,SeaDestination:null,BankForSecurity:0,PartyCode:null,PartyUserName:"",Pricelist:"",Discountlist:"",Employee:null,PrefLanguage:"",OrderReminder1:null,OrderReminder2:null,OrderReminder3:null,DefaultPurchaseorSaleType:" ",PaymentReminder1:null,PaymentReminder2:null,PaymentReminder3:null,DefaultPaymentMode:"CREDIT",KycAcnumber:"",KycAcbank:"",KycAcbranch:"",KycAcholder:"",KycAcifsc:""},this.address={id:0,nam:"",addr:"",country:"",stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",web:"",statu:1}},t.prototype.ngOnInit=function(){},t.prototype.toggleVisible=function(t){t.openCheck=!t.openCheck},t.prototype.toggleVisiblePlus=function(t){t.openCheck=!t.openCheck,this.partygrp=t.subGroup,this.supplier.PartyGroup=t.recordId},t.prototype.changeCountry=function(){var t=this,e=this.countries.filter((function(e){return e.cntname==t.address.country}));if(e.length>0){var i=+e[0].recordId;this.selectedstates=this.states.filter((function(t){return t.cntname==i}))}},t.prototype.valChk=function(){return this.supplier.PartyName?""==this.supplier.PartyName.trim()?(this.adm.showMessage("No "+this.actype+" Selected","Warning",3),!1):""!=this.partygrp.trim()||(this.adm.showMessage(this.actype+" group not Selected","Warning",3),!1):(this.adm.showMessage("No "+this.actype+" Selected","Warning",3),!1)},t.prototype.saveSupplier=function(){var t=this;this.valChk()&&(this.supplier.CrDaysCheck=1==this.supplier.CrDaysCheck?1:0,this.supplier.CrAmtCheck=1==this.supplier.CrAmtCheck?1:0,this.supplier.EximCheck=1==this.supplier.EximCheck?1:0,this.supplier.DualType=0,this.supplier.RestrictMode=+this.supplier.RestrictMode,this.supplier.Statu=+this.supplier.Statu,this.supplier.Employee=+this.supplier.Employee>0?+this.supplier.Employee:null,g.a.fire({title:"Confirms "+this.actype+" Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var i=[];i.push({AddressName:t.address.nam,Addres:t.address.addr,Country:t.address.country,Stat:t.address.stat,District:t.address.district,City:t.address.city,Zip:t.address.zip,Mobile:t.address.mobile,Tel:t.address.tel,Fax:t.address.fax,Email:t.address.email,Webid:t.address.web,Statu:+t.address.statu}),t.par.setPartyDetail(t.supplier,i,[],1).subscribe((function(e){var n=e;"OK"==n.result?(g.a.fire("Transaction Completed Successfully!","Supplier Details Saved.","success"),t.notify.emit({recordid:n.recordId,supplier:t.supplier,addresses:i,grp:t.partygrp}),t.makeCle()):g.a.fire(n.result,"Some error in transaction","error"),t.spinner.hide()}))}})))},t.\u0275fac=function(e){return new(e||t)(b.Sb(O.a),b.Sb(ut.a),b.Sb(a.a),b.Sb(r.c),b.Sb(pt.a),b.Sb(ht))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-customers-child"]],outputs:{notify:"notify"},decls:131,vars:24,consts:[[2,"width","100%"],[2,"width","30%"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-content"],[1,"card-body"],[2,"width","100%","border-color","black","border-style","solid","border-width","thin","height","450px","overflow-y","scroll"],[4,"ngFor","ngForOf"],[2,"width","70%"],["align","right",2,"width","9%"],["colspan","3"],["type","text","id","basicInput","placeholder","Supplier",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Supplier Group","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["rowspan","2",2,"width","41%"],["id","projectinput8","rows","3","name","comment","placeholder","Address",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","41%"],["type","text","id","basicInput","placeholder","Zip",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Mobile",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],["type","text","id","basicInput","placeholder","Telephone",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value"," "],["type","text","id","basicInput","placeholder","Fax",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","District",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","City",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Web",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["id","basicInput",1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value",""],["colspan","2"],[1,"btn-lg","btn-primary",3,"click"],["class","ft-chevron-right font-medium-1",3,"click",4,"ngIf"],["class","ft-chevron-down font-medium-1",3,"click",4,"ngIf"],[3,"click"],[4,"ngIf"],[1,"ft-chevron-right","font-medium-1",3,"click"],[1,"ft-chevron-down","font-medium-1",3,"click"],["style","left: 32px; position: relative;",4,"ngFor","ngForOf"],[2,"left","32px","position","relative"],[3,"value"]],template:function(t,e){1&t&&(b.Yb(0,"h2"),b.Wc(1,"New Customer Details"),b.Xb(),b.Yb(2,"table",0),b.Yb(3,"tr"),b.Yb(4,"td",1),b.Yb(5,"div",2),b.Yb(6,"div",3),b.Yb(7,"h4",4),b.Wc(8,"Select Group"),b.Xb(),b.Xb(),b.Yb(9,"div",5),b.Yb(10,"div",6),b.Yb(11,"div",7),b.Uc(12,xi,7,4,"span",8),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(13,"td",9),b.Yb(14,"div",2),b.Yb(15,"div",3),b.Yb(16,"h4",4),b.Wc(17,"Customer Details"),b.Xb(),b.Xb(),b.Yb(18,"div",5),b.Yb(19,"div",6),b.Yb(20,"div",7),b.Yb(21,"table",0),b.Yb(22,"tr"),b.Yb(23,"td",10),b.Wc(24,"Customer"),b.Xb(),b.Yb(25,"td",11),b.Yb(26,"input",12),b.kc("ngModelChange",(function(t){return e.supplier.PartyName=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(27,"tr"),b.Yb(28,"td",10),b.Wc(29,"Group"),b.Xb(),b.Yb(30,"td",11),b.Yb(31,"input",13),b.kc("ngModelChange",(function(t){return e.partygrp=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(32,"tr"),b.Yb(33,"td",10),b.Wc(34,"Name"),b.Xb(),b.Yb(35,"td",11),b.Yb(36,"input",14),b.kc("ngModelChange",(function(t){return e.address.nam=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(37,"tr"),b.Yb(38,"td",10),b.Wc(39,"Address"),b.Xb(),b.Yb(40,"td",15),b.Yb(41,"textarea",16),b.kc("ngModelChange",(function(t){return e.address.addr=t})),b.Xb(),b.Xb(),b.Yb(42,"td",10),b.Wc(43,"ZIP"),b.Xb(),b.Yb(44,"td",17),b.Yb(45,"input",18),b.kc("ngModelChange",(function(t){return e.address.zip=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(46,"tr"),b.Yb(47,"td",10),b.Wc(48,"\xa0"),b.Xb(),b.Yb(49,"td",10),b.Wc(50,"Mobile"),b.Xb(),b.Yb(51,"td",17),b.Yb(52,"input",19),b.kc("ngModelChange",(function(t){return e.address.mobile=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(53,"tr"),b.Yb(54,"td",10),b.Wc(55,"Country"),b.Xb(),b.Yb(56,"td",17),b.Yb(57,"select",20),b.kc("ngModelChange",(function(t){return e.address.country=t}))("change",(function(){return e.changeCountry()})),b.Yb(58,"option",21),b.Wc(59,"--Select Country--"),b.Xb(),b.Uc(60,Ii,2,2,"option",22),b.Xb(),b.Xb(),b.Yb(61,"td",10),b.Wc(62,"Tel"),b.Xb(),b.Yb(63,"td",17),b.Yb(64,"input",23),b.kc("ngModelChange",(function(t){return e.address.tel=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(65,"tr"),b.Yb(66,"td",10),b.Wc(67,"State"),b.Xb(),b.Yb(68,"td",17),b.Yb(69,"select",24),b.kc("ngModelChange",(function(t){return e.address.stat=t})),b.Yb(70,"option",25),b.Wc(71,"--Select State--"),b.Xb(),b.Uc(72,Si,2,2,"option",22),b.Xb(),b.Xb(),b.Yb(73,"td",10),b.Wc(74,"Fax"),b.Xb(),b.Yb(75,"td",17),b.Yb(76,"input",26),b.kc("ngModelChange",(function(t){return e.address.fax=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(77,"tr"),b.Yb(78,"td",10),b.Wc(79,"District"),b.Xb(),b.Yb(80,"td",17),b.Yb(81,"input",27),b.kc("ngModelChange",(function(t){return e.address.district=t})),b.Xb(),b.Xb(),b.Yb(82,"td",10),b.Wc(83,"Email"),b.Xb(),b.Yb(84,"td",17),b.Yb(85,"input",28),b.kc("ngModelChange",(function(t){return e.address.email=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(86,"tr"),b.Yb(87,"td",10),b.Wc(88,"City"),b.Xb(),b.Yb(89,"td",17),b.Yb(90,"input",29),b.kc("ngModelChange",(function(t){return e.address.city=t})),b.Xb(),b.Xb(),b.Yb(91,"td",10),b.Wc(92,"Web"),b.Xb(),b.Yb(93,"td",17),b.Yb(94,"input",30),b.kc("ngModelChange",(function(t){return e.address.web=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(95,"tr"),b.Yb(96,"td",10),b.Wc(97,"Status"),b.Xb(),b.Yb(98,"td",11),b.Yb(99,"select",24),b.kc("ngModelChange",(function(t){return e.address.statu=t})),b.Yb(100,"option",31),b.Wc(101,"Active"),b.Xb(),b.Yb(102,"option",32),b.Wc(103,"Inactive"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(104,"tr"),b.Yb(105,"td",10),b.Wc(106,"Employee"),b.Xb(),b.Yb(107,"td",11),b.Yb(108,"select",33),b.kc("ngModelChange",(function(t){return e.supplier.Employee=t})),b.Yb(109,"option",34),b.Wc(110,"Select Employee"),b.Xb(),b.Uc(111,Ai,2,2,"option",22),b.Xb(),b.Xb(),b.Xb(),b.Yb(112,"tr"),b.Yb(113,"td",10),b.Wc(114,"Price List "),b.Xb(),b.Yb(115,"td",17),b.Yb(116,"select",24),b.kc("ngModelChange",(function(t){return e.supplier.Pricelist=t})),b.Yb(117,"option",35),b.Wc(118,"--Select Price--"),b.Xb(),b.Uc(119,Ri,2,2,"option",22),b.Xb(),b.Xb(),b.Yb(120,"td",10),b.Wc(121,"Discount List "),b.Xb(),b.Yb(122,"td",17),b.Yb(123,"select",24),b.kc("ngModelChange",(function(t){return e.supplier.Discountlist=t})),b.Yb(124,"option",35),b.Wc(125,"--Select Discount--"),b.Xb(),b.Uc(126,Oi,2,2,"option",22),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(127,"tr"),b.Yb(128,"td",36),b.Yb(129,"button",37),b.kc("click",(function(){return e.saveSupplier()})),b.Wc(130,"Save Customer"),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t&&(b.Db(12),b.vc("ngForOf",e.treeObj),b.Db(14),b.vc("ngModel",e.supplier.PartyName),b.Db(5),b.vc("ngModel",e.partygrp),b.Db(5),b.vc("ngModel",e.address.nam),b.Db(5),b.vc("ngModel",e.address.addr),b.Db(4),b.vc("ngModel",e.address.zip),b.Db(7),b.vc("ngModel",e.address.mobile),b.Db(5),b.vc("ngModel",e.address.country),b.Db(3),b.vc("ngForOf",e.countries),b.Db(4),b.vc("ngModel",e.address.tel),b.Db(5),b.vc("ngModel",e.address.stat),b.Db(3),b.vc("ngForOf",e.selectedstates),b.Db(4),b.vc("ngModel",e.address.fax),b.Db(5),b.vc("ngModel",e.address.district),b.Db(4),b.vc("ngModel",e.address.email),b.Db(5),b.vc("ngModel",e.address.city),b.Db(4),b.vc("ngModel",e.address.web),b.Db(5),b.vc("ngModel",e.address.statu),b.Db(9),b.vc("ngModel",e.supplier.Employee),b.Db(3),b.vc("ngForOf",e.employees),b.Db(5),b.vc("ngModel",e.supplier.Pricelist),b.Db(3),b.vc("ngForOf",e.pricelists),b.Db(4),b.vc("ngModel",e.supplier.Discountlist),b.Db(3),b.vc("ngForOf",e.discountlists))},directives:[n.o,d.c,d.q,d.t,d.z,d.u,d.B,n.p],styles:[""]}),t}(),Ti=i("ow0m"),Pi=i("1hga");function Fi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",48),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(2).toggleVisible(t)})),b.Xb()}}function Li(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",49),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(2).toggleVisible(t)})),b.Xb()}}function Ni(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",48),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(4).toggleVisible(t)})),b.Xb()}}function qi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",49),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(4).toggleVisible(t)})),b.Xb()}}function Bi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",48),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(6).toggleVisible(t)})),b.Xb()}}function Ei(t,e){if(1&t){var i=b.Zb();b.Yb(0,"i",49),b.kc("click",(function(){b.Mc(i);var t=b.oc().$implicit;return b.oc(6).toggleVisible(t)})),b.Xb()}}function Gi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span",51),b.Uc(1,Bi,1,0,"i",45),b.Uc(2,Ei,1,0,"i",46),b.Yb(3,"span",47),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(6).toggleVisiblePlus(t)})),b.Wc(4),b.Xb(),b.Tb(5,"br"),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(2),b.Yc(" ",n.subGroup," ")}}function zi(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,Gi,6,3,"span",50),b.Xb()),2&t){var i=b.oc().$implicit;b.Db(1),b.vc("ngForOf",i.children)}}function $i(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span",51),b.Uc(1,Ni,1,0,"i",45),b.Uc(2,qi,1,0,"i",46),b.Yb(3,"span",47),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(4).toggleVisiblePlus(t)})),b.Wc(4),b.Xb(),b.Tb(5,"br"),b.Uc(6,zi,2,1,"div",0),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(2),b.Yc(" ",n.subGroup," "),b.Db(2),b.vc("ngIf",n.openCheck)}}function Zi(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,$i,7,4,"span",50),b.Xb()),2&t){var i=b.oc().$implicit;b.Db(1),b.vc("ngForOf",i.children)}}function _i(t,e){if(1&t){var i=b.Zb();b.Yb(0,"span"),b.Uc(1,Fi,1,0,"i",45),b.Uc(2,Li,1,0,"i",46),b.Yb(3,"span",47),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).toggleVisible(t)})),b.Wc(4),b.Xb(),b.Tb(5,"br"),b.Uc(6,Zi,2,1,"div",0),b.Xb()}if(2&t){var n=e.$implicit;b.Db(1),b.vc("ngIf",!n.openCheck),b.Db(1),b.vc("ngIf",n.openCheck),b.Db(2),b.Yc(" ",n.subGroup," "),b.Db(2),b.vc("ngIf",n.openCheck)}}function ji(t,e){if(1&t&&(b.Yb(0,"option",52),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Xc(i.um)}}function Vi(t,e){if(1&t&&(b.Yb(0,"option",52),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Xc(i.um)}}function Ki(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td",42),b.Wc(2),b.Xb(),b.Yb(3,"td",43),b.Wc(4),b.Xb(),b.Yb(5,"td",43),b.Wc(6),b.Xb(),b.Yb(7,"td",43),b.Wc(8),b.Xb(),b.Yb(9,"td",42),b.Yb(10,"i",53),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).deleteUM(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.mainum),b.Db(2),b.Xc(n.conve),b.Db(2),b.Xc(n.stdum)}}function Qi(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2,"Material Details"),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",2),b.Yb(6,"div",3),b.Yb(7,"div",4),b.Yb(8,"h5",5),b.Wc(9,"Select Material Group"),b.Xb(),b.Xb(),b.Yb(10,"div",6),b.Yb(11,"div",7),b.Yb(12,"div",8),b.Uc(13,_i,7,4,"span",9),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(14,"td",10),b.Yb(15,"div",3),b.Yb(16,"div",4),b.Yb(17,"h5",5),b.Wc(18,"Details"),b.Xb(),b.Xb(),b.Yb(19,"div",6),b.Yb(20,"div",7),b.Yb(21,"div",11),b.Yb(22,"table",12),b.Yb(23,"tr"),b.Yb(24,"td",13),b.Yb(25,"span"),b.Wc(26," Material Code"),b.Xb(),b.Xb(),b.Yb(27,"td",14),b.Yb(28,"input",15),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().item.Itemid=t}))("input",(function(){return b.Mc(i),b.oc().findDuplicate(1)})),b.Xb(),b.Xb(),b.Yb(29,"td",16),b.Yb(30,"span"),b.Yb(31,"font",17),b.Yb(32,"b"),b.Wc(33),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(34,"tr"),b.Yb(35,"td",18),b.Yb(36,"span"),b.Wc(37," Material Name "),b.Xb(),b.Xb(),b.Yb(38,"td",19),b.Yb(39,"input",15),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().item.ItemName=t}))("input",(function(){return b.Mc(i),b.oc().findDuplicate(2)})),b.Xb(),b.Xb(),b.Xb(),b.Yb(40,"tr"),b.Yb(41,"td",13),b.Yb(42,"span"),b.Wc(43," Material Group"),b.Xb(),b.Xb(),b.Yb(44,"td",19),b.Yb(45,"input",20),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().grop=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(46,"tr"),b.Yb(47,"td",13),b.Yb(48,"span"),b.Wc(49," Std Price"),b.Xb(),b.Xb(),b.Yb(50,"td",14),b.Yb(51,"input",21),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().item.StdRate=t})),b.Xb(),b.Xb(),b.Yb(52,"td",13),b.Yb(53,"span"),b.Wc(54," Reorder Qty"),b.Xb(),b.Xb(),b.Yb(55,"td",14),b.Yb(56,"input",21),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().item.ReOrderQty=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(57,"tr"),b.Yb(58,"td",22),b.Wc(59," \xa0 "),b.Xb(),b.Yb(60,"td",14),b.Yb(61,"div",23),b.Yb(62,"input",24),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().shelflife=t})),b.Xb(),b.Yb(63,"label",25),b.Yb(64,"span"),b.Wc(65,"Shelf Life"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(66,"td",14),b.Wc(67," \xa0 "),b.Xb(),b.Yb(68,"td",22),b.Yb(69,"div",23),b.Yb(70,"input",26),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().invreqd=t})),b.Xb(),b.Yb(71,"label",27),b.Yb(72,"span"),b.Wc(73,"Inventory"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(74,"tr"),b.Yb(75,"td",13),b.Wc(76,"Status"),b.Xb(),b.Yb(77,"td",22),b.Yb(78,"select",28),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().item.Statu=t})),b.Yb(79,"option",29),b.Wc(80,"Active"),b.Xb(),b.Yb(81,"option",30),b.Wc(82,"Inactive"),b.Xb(),b.Xb(),b.Xb(),b.Yb(83,"td",13),b.Wc(84,"Costing type"),b.Xb(),b.Yb(85,"td",22),b.Yb(86,"select",31),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().item.CostingType=t})),b.Yb(87,"option",32),b.Wc(88,"--Select--"),b.Xb(),b.Yb(89,"option",29),b.Wc(90,"Allow Negative"),b.Xb(),b.Yb(91,"option",30),b.Wc(92,"FIFO"),b.Xb(),b.Yb(93,"option",33),b.Wc(94,"LIFO"),b.Xb(),b.Yb(95,"option",34),b.Wc(96,"Batch System"),b.Xb(),b.Yb(97,"option",35),b.Wc(98,"GIN System"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(99,"tr"),b.Yb(100,"td",36),b.Yb(101,"table",12),b.Yb(102,"tr"),b.Yb(103,"td",22),b.Yb(104,"span"),b.Wc(105," Unit"),b.Xb(),b.Xb(),b.Yb(106,"td",22),b.Yb(107,"span"),b.Wc(108," Conversion Factor"),b.Xb(),b.Xb(),b.Yb(109,"td",22),b.Yb(110,"span"),b.Wc(111," Std UM"),b.Xb(),b.Xb(),b.Yb(112,"td",22),b.Wc(113," \xa0 "),b.Xb(),b.Xb(),b.Yb(114,"tr"),b.Yb(115,"td",22),b.Yb(116,"select",28),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().mainum=t})),b.Uc(117,ji,2,2,"option",37),b.Xb(),b.Xb(),b.Yb(118,"td",22),b.Yb(119,"input",21),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().conve=t})),b.Xb(),b.Xb(),b.Yb(120,"td",22),b.Yb(121,"select",38),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().stdum=t})),b.Uc(122,Vi,2,2,"option",37),b.Xb(),b.Xb(),b.Yb(123,"td",22),b.Yb(124,"button",39),b.kc("click",(function(){return b.Mc(i),b.oc().addUM()})),b.Wc(125,"Add"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(126,"tr"),b.Yb(127,"td",36),b.Yb(128,"div",40),b.Yb(129,"table",12),b.Yb(130,"tr",41),b.Yb(131,"td",42),b.Wc(132,"#"),b.Xb(),b.Yb(133,"td",43),b.Wc(134,"Unit"),b.Xb(),b.Yb(135,"td",43),b.Wc(136,"Conversion"),b.Xb(),b.Yb(137,"td",43),b.Wc(138,"Std UM"),b.Xb(),b.Tb(139,"td",42),b.Xb(),b.Uc(140,Ki,11,4,"tr",9),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(141,"tr"),b.Yb(142,"td",16),b.Yb(143,"button",44),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(144,"Save"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(13),b.vc("ngForOf",n.treeObj),b.Db(15),b.vc("ngModel",n.item.Itemid),b.Db(5),b.Yc(" ",n.checkDup," "),b.Db(6),b.vc("ngModel",n.item.ItemName),b.Db(6),b.vc("ngModel",n.grop),b.Db(6),b.vc("ngModel",n.item.StdRate),b.Db(5),b.vc("ngModel",n.item.ReOrderQty),b.Db(6),b.vc("ngModel",n.shelflife),b.Db(8),b.vc("ngModel",n.invreqd),b.Db(8),b.vc("ngModel",n.item.Statu),b.Db(8),b.vc("disabled",!n.costingtypecheck)("ngModel",n.item.CostingType),b.Db(30),b.vc("ngModel",n.mainum),b.Db(1),b.vc("ngForOf",n.ums),b.Db(2),b.vc("ngModel",n.conve),b.Db(2),b.vc("ngModel",n.stdum)("disabled",n.umslist.length>0),b.Db(1),b.vc("ngForOf",n.ums),b.Db(18),b.vc("ngForOf",n.umslist)}}function Ji(t,e){1&t&&(b.Yb(0,"div"),b.Yb(1,"h1"),b.Wc(2,"You are not authorised to view this page"),b.Xb(),b.Xb())}var Hi=function(){function t(t,e,i,n,r,o,c,a){var s=this;this.inm=t,this.inu=e,this.inv=i,this.adm=n,this.spinner=r,this.router=o,this.toastr=c,this.gen=a,this.notify=new b.n,this.mainum=-1,this.stdum=-1,this.stdumchk=!0,this.umslist=[],this.grop="",this.item={Itemid:"",ItemName:"",Grp:0,StdRate:0,ReOrderQty:0,ShelfLifeReqd:0,InventoryReqd:1,Statu:1,costingType:0},this.costingtype=0,this.costingtypecheck=!0,this.shelflife=!1,this.invreqd=!0,this.authcheck=!1,this.checkDup="",this.adm.screenCheck(3,1,4,1)?(this.authcheck=!0,this.treeAdd(),this.listAdd(),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInventoryCostingInfo().subscribe((function(t){s.spinner.hide();var e=t;s.costingtype=+e.setupValue,s.item.costingType=+e.setupValue}))):this.authcheck=!1}return t.prototype.ngOnInit=function(){},t.prototype.makeCle=function(){this.shelflife=!1,this.invreqd=!0,this.item={Itemid:"",ItemName:"",Grp:0,StdRate:0,ReOrderQty:0,ShelfLifeReqd:0,InventoryReqd:1,Statu:1,CostingType:this.costingtype},this.grop="",this.umslist=[],this.stdumchk=!0},t.prototype.valChk=function(){return""==this.item.Itemid.trim()?(this.gen.showMessage("Material code not mentioned","Warming",3),!1):""==this.item.ItemName.trim()?(this.gen.showMessage("Material name not mentioned","Warming",3),!1):""==this.grop.trim()?(this.gen.showMessage("Material Group not selected","Warming",3),!1):this.item.CostingType<=0?(this.gen.showMessage("Costing type not selected","Warming",3),!1):""!=this.checkDup.trim()?(this.gen.showMessage("Item code or name should not be duplicated","Warming",3),!1):!(this.umslist.length<=0&&(this.gen.showMessage("Material Unites not entered","Warming",3),1))},t.prototype.save=function(){var t=this;this.valChk()&&g.a.fire({title:"Confirms Material Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.item.ShelfLifeReqd=t.shelflife?1:0,t.item.InventoryReqd=t.invreqd?1:0;for(var i=[],n=0,r=0;r<t.umslist.length;r++)t.umslist[r].mainid==t.umslist[r].stdid&&n++;for(r=0;r<t.umslist.length;r++)i.push({Um:+t.umslist[r].mainid,StdUm:+t.umslist[r].stdid,ConversionFactor:t.umslist[r].conve});0==n&&i.push({Um:+t.umslist[0].stdid,StdUm:+t.umslist[0].stdid,ConversionFactor:1}),0==n&&t.umslist.push({mainid:+t.umslist[0].stdid,mainum:t.getUM(+t.umslist[0].stdid),conve:1,stdid:+t.umslist[0].stdid,stdum:t.getUM(+t.umslist[0].stdid)}),t.item.CostingType=+t.item.CostingType,t.inm.setInventoryItem(t.item,i,1).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Material Details saved.","success"),t.notify.emit({recordid:i.recordId,item:t.item,itemgroup:t.grop,units:t.umslist}),t.makeCle()):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()}))}}))},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inu.getInvUms().subscribe((function(e){t.ums=e,t.spinner.hide()}))},t.prototype.addUM=function(){var t=this;this.mainum<=0?this.gen.showMessage("Main Unit not mentioned","Warning",3):this.stdum<=0?this.gen.showMessage("Std Unit not mentioned","Warning",3):this.conve?this.conve<=0?this.gen.showMessage("Conversion of unit not mentioned","Warning",3):this.umslist.filter((function(e){return e.mainid==t.mainum})).length>0?this.gen.showMessage("These details are already specified","Warning",3):(this.umslist.push({mainid:this.mainum,mainum:this.getUM(this.mainum),conve:this.conve,stdid:this.stdum,stdum:this.getUM(this.stdum)}),this.mainum=-1,this.conve=0,this.stdumchk=!1):this.gen.showMessage("Conversion of unit not mentioned","Warning",3)},t.prototype.deleteUM=function(t){var e=this.umslist.indexOf(t);this.umslist.splice(e,1),0==this.umslist.length&&(this.stdumchk=!0)},t.prototype.getUM=function(t){var e="",i=this.ums.filter((function(e){return e.recordId==t}));return i.length>0&&(e=i[0].um),e},t.prototype.treeAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inm.getInvGroupsTreeWise().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){return Object(G.__generator)(this,(function(t){return this.treeObj=e,console.log(this.treeObj),this.spinner.hide(),[2]}))}))}))},t.prototype.toggleVisible=function(t){t.openCheck=!t.openCheck,this.item.Grp=t.recordId,this.grop=t.subGroup},t.prototype.toggleVisiblePlus=function(t){t.openCheck=!t.openCheck,this.item.Grp=t.recordId,this.grop=t.subGroup},t.\u0275fac=function(e){return new(e||t)(b.Sb(mi.a),b.Sb(Ti.a),b.Sb(Pi.a),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b),b.Sb(a.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-materials-child"]],outputs:{notify:"notify"},decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","99%"],[2,"width","40%"],[1,"card",2,"height","530px"],[1,"card-header"],[1,"card-title"],[1,"card-content"],[1,"card-body"],[2,"width","100%","height","450px","border-color","black","border-style","solid","border-width","thin","height","450px","overflow-y","scroll"],[4,"ngFor","ngForOf"],[2,"width","60%"],[2,"width","100%","height","445px","border-color","black","border-style","solid","border-width","thin"],[2,"width","100%"],["align","right",2,"width","25%"],["align","left",2,"width","25%"],["type","text",1,"form-control",3,"ngModel","ngModelChange","input"],["colspan","2"],["color","red"],["align","right","valigh","middle",2,"width","25%"],["colspan","3","align","left"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","25%"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","customCheck","id","custom-check-2",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","custom-check-2",1,"custom-control-label"],["type","checkbox","checked","","name","customCheck","id","custom-check-1",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","custom-check-1",1,"custom-control-label"],[1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],[1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","-1"],["value","3"],["value","4"],["value","5"],["colspan","4"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-success","round","mr-1","mb-1",3,"click"],[2,"overflow-y","scroll","width","100%","height","120px"],[2,"background-color","navy","color","yellow"],[2,"width","5%"],[2,"width","30%"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"click"],["class","ft-chevron-right font-medium-1",3,"click",4,"ngIf"],["class","ft-chevron-down font-medium-1",3,"click",4,"ngIf"],[3,"click"],[1,"ft-chevron-right","font-medium-1",3,"click"],[1,"ft-chevron-down","font-medium-1",3,"click"],["style","left: 32px; position: relative;",4,"ngFor","ngForOf"],[2,"left","32px","position","relative"],[3,"value"],[1,"ft-trash-2","font-medium-1",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Qi,145,19,"div",0),b.Uc(2,Ji,3,0,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.authcheck),b.Db(1),b.vc("ngIf",!e.authcheck))},directives:[r.a,n.p,n.o,d.c,d.q,d.t,d.v,d.b,d.z,d.u,d.B],styles:[""]}),t}();function tn(t,e){if(1&t&&(b.Yb(0,"ng-option",53),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.vc("value",i.recordId),b.Db(1),b.Xc(i.partyName)}}function en(t,e){if(1&t&&(b.Yb(0,"option",53),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.addressName),b.Db(1),b.Xc(i.addressName)}}function nn(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1,"Terms"),b.Xb())}function rn(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1,"Customers"),b.Xb())}function on(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1,"Materials"),b.Xb())}function cn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td",61),b.Wc(2),b.Xb(),b.Yb(3,"td",62),b.Yb(4,"i",63),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(4).delTerm(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit;b.Db(2),b.Yc(" ",n," ")}}function an(t,e){if(1&t){var i=b.Zb();b.Yb(0,"table",28),b.Yb(1,"tr"),b.Yb(2,"td",61),b.Yb(3,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(3).term=t})),b.Xb(),b.Xb(),b.Yb(4,"td",62),b.Yb(5,"button",25),b.kc("click",(function(){return b.Mc(i),b.oc(3).addTerm()})),b.Wc(6,"Add"),b.Xb(),b.Xb(),b.Xb(),b.Uc(7,cn,5,1,"tr",45),b.Xb()}if(2&t){var n=b.oc(3);b.Db(3),b.vc("ngModel",n.term),b.Db(4),b.vc("ngForOf",n.terms)}}function sn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"app-crm-customers-child",64),b.kc("notify",(function(t){return b.Mc(i),b.oc(3).getNewSupplier(t)})),b.Xb()}}function bn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"app-crm-materials-child",64),b.kc("notify",(function(t){return b.Mc(i),b.oc(3).getNewMaterial(t)})),b.Xb()}}function dn(t,e){if(1&t&&(b.Yb(0,"div",54),b.Yb(1,"h6",55),b.Uc(2,nn,2,0,"span",0),b.Uc(3,rn,2,0,"span",0),b.Uc(4,on,2,0,"span",0),b.Xb(),b.Yb(5,"button",56),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(6,"span",57),b.Wc(7,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(8,"div",58),b.Uc(9,an,8,2,"table",59),b.Uc(10,sn,1,0,"app-crm-customers-child",60),b.Uc(11,bn,1,0,"app-crm-materials-child",60),b.Xb()),2&t){var i=b.oc(2);b.Db(2),b.vc("ngIf",4==i.modeltype),b.Db(1),b.vc("ngIf",1==i.modeltype),b.Db(1),b.vc("ngIf",2==i.modeltype),b.Db(5),b.vc("ngIf",4==i.modeltype),b.Db(1),b.vc("ngIf",1==i.modeltype),b.Db(1),b.vc("ngIf",2==i.modeltype)}}function ln(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Xb()),2&t){var i=e.$implicit;b.Db(2),b.Xc(i.itemname),b.Db(2),b.Xc(i.taxcode),b.Db(2),b.Xc(i.taxper),b.Db(2),b.Xc(i.taxvalu)}}function un(t,e){if(1&t&&(b.Yb(0,"div"),b.Yb(1,"table",41),b.Yb(2,"thead",42),b.Yb(3,"tr"),b.Yb(4,"th"),b.Wc(5,"Item"),b.Xb(),b.Yb(6,"th"),b.Wc(7,"Tax"),b.Xb(),b.Yb(8,"th"),b.Wc(9,"Tax%"),b.Xb(),b.Yb(10,"th"),b.Wc(11,"Tax"),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"tbody"),b.Uc(13,ln,9,4,"tr",45),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc(3);b.Db(13),b.vc("ngForOf",i.taxes)}}function hn(t,e){if(1&t&&(b.Yb(0,"div",54),b.Yb(1,"h6",55),b.Wc(2),b.Xb(),b.Yb(3,"button",56),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(4,"span",57),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",58),b.Uc(7,un,14,1,"div",0),b.Xb()),2&t){var i=b.oc(2);b.Db(2),b.Xc(i.title),b.Db(5),b.vc("ngIf","Taxes"==i.title)}}function pn(t,e){if(1&t&&(b.Yb(0,"ng-option",53),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.vc("value",i.recordId),b.Db(1),b.Xc(i.itemname)}}function mn(t,e){if(1&t&&(b.Yb(0,"option",53),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.umid),b.Db(1),b.Xc(i.um)}}function fn(t,e){if(1&t&&(b.Yb(0,"option",53),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.taxid),b.Db(1),b.Xc(i.taxname)}}function gn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td",43),b.Wc(2),b.Xb(),b.Yb(3,"td",44),b.Wc(4),b.Xb(),b.Yb(5,"td",31),b.Yb(6,"input",65),b.kc("input",(function(){return b.Mc(i),b.oc(2).makeCalcu()}))("ngModelChange",(function(t){return b.Mc(i),e.$implicit.qty=t})),b.Xb(),b.Xb(),b.Yb(7,"td",31),b.Wc(8),b.Xb(),b.Yb(9,"td",31),b.Wc(10),b.pc(11,"date"),b.Xb(),b.Yb(12,"td",31),b.Yb(13,"input",65),b.kc("input",(function(){return b.Mc(i),b.oc(2).makeCalcu()}))("ngModelChange",(function(t){return b.Mc(i),e.$implicit.rat=t})),b.Xb(),b.Xb(),b.Yb(14,"th",31),b.Wc(15),b.pc(16,"number"),b.Xb(),b.Yb(17,"td",31),b.Wc(18),b.pc(19,"number"),b.Xb(),b.Yb(20,"td",43),b.Yb(21,"i",63),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).deleteItem(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Yc(" ",n.itemname,""),b.Db(2),b.vc("ngModel",n.qty),b.Db(2),b.Xc(n.um),b.Db(2),b.Yc(" ",b.rc(11,8,n.reqdby,"dd-MMM-yy")," "),b.Db(3),b.vc("ngModel",n.rat),b.Db(2),b.Yc(" ",b.rc(16,11,n.qty*n.rat*n.discper/100,"0.2")," "),b.Db(3),b.Xc(b.rc(19,14,n.qty*n.rat-n.qty*n.rat*n.discper/100,"0.2"))}}function Xn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",66),b.kc("click",(function(){return b.Mc(i),b.oc(2).delete()})),b.Wc(1,"Delete"),b.Xb()}if(2&t){var n=b.oc(2);b.vc("disabled",!n.delCheck)}}function Yn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," Sale Order Details "),b.Xb(),b.Tb(3,"br"),b.Yb(4,"table",1),b.Yb(5,"tr"),b.Yb(6,"td",2),b.Wc(7," Customer "),b.Xb(),b.Yb(8,"td",3),b.Yb(9,"ng-select",4),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().custid=t}))("change",(function(t){return b.Mc(i),b.oc().findAddresses(t)})),b.Uc(10,tn,2,2,"ng-option",5),b.Xb(),b.Xb(),b.Yb(11,"td",6),b.Yb(12,"button",7),b.kc("click",(function(){b.Mc(i);var t=b.Jc(114);return b.oc().openModal(t,1)})),b.Wc(13,"New"),b.Xb(),b.Xb(),b.Yb(14,"td",2),b.Wc(15," SQ No "),b.Xb(),b.Yb(16,"td",8),b.Yb(17,"input",9),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().poseq=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"tr"),b.Yb(19,"td",2),b.Wc(20,"Check Address"),b.Xb(),b.Yb(21,"td",10),b.Yb(22,"select",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().addr=t}))("change",(function(){return b.Mc(i),b.oc().assignAddress()})),b.Yb(23,"option",12),b.Wc(24,"-Select-"),b.Xb(),b.Uc(25,en,2,2,"option",5),b.Xb(),b.Xb(),b.Yb(26,"td",2),b.Wc(27," Transaction Date "),b.Xb(),b.Yb(28,"td",8),b.Yb(29,"input",13),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.tradat=e.parseDate(t.target.value)})),b.pc(30,"date"),b.Xb(),b.Xb(),b.Xb(),b.Yb(31,"tr"),b.Yb(32,"td",14),b.Wc(33,"Address"),b.Xb(),b.Yb(34,"td",15),b.Yb(35,"textarea",16),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.address=t})),b.Xb(),b.Xb(),b.Yb(36,"td",2),b.Wc(37,"ZIP"),b.Xb(),b.Yb(38,"td",17),b.Yb(39,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.zip=t})),b.Xb(),b.Xb(),b.Yb(40,"td",2),b.Wc(41," Validitydate Date "),b.Xb(),b.Yb(42,"td",8),b.Yb(43,"input",13),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.validitydate=e.parseDate(t.target.value)})),b.pc(44,"date"),b.Xb(),b.Xb(),b.Xb(),b.Yb(45,"tr"),b.Yb(46,"td",2),b.Wc(47,"Mobile"),b.Xb(),b.Yb(48,"td",17),b.Yb(49,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.mobile=t})),b.Xb(),b.Xb(),b.Yb(50,"td",2),b.Wc(51," Sale type "),b.Xb(),b.Yb(52,"td",8),b.Yb(53,"select",19),b.Yb(54,"option",20),b.Wc(55,"General"),b.Xb(),b.Yb(56,"option",21),b.Wc(57,"Central"),b.Xb(),b.Yb(58,"option",22),b.Wc(59,"Imports"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(60,"tr"),b.Yb(61,"td",2),b.Wc(62," Country "),b.Xb(),b.Yb(63,"td",23),b.Yb(64,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.country=t})),b.Xb(),b.Xb(),b.Yb(65,"td",2),b.Wc(66," Tel "),b.Xb(),b.Yb(67,"td",17),b.Yb(68,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.tel=t})),b.Xb(),b.Xb(),b.Yb(69,"td",2),b.Wc(70," Employee "),b.Xb(),b.Yb(71,"td",8),b.Yb(72,"input",24),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().employee.name=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(73,"tr"),b.Yb(74,"td",2),b.Wc(75," State "),b.Xb(),b.Yb(76,"td",23),b.Yb(77,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.stat=t})),b.Xb(),b.Xb(),b.Yb(78,"td",2),b.Wc(79," Fax "),b.Xb(),b.Yb(80,"td",17),b.Yb(81,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.fax=t})),b.Xb(),b.Xb(),b.Yb(82,"td",2),b.Wc(83," Designation "),b.Xb(),b.Yb(84,"td",8),b.Yb(85,"input",24),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().employee.designation=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(86,"tr"),b.Yb(87,"td",2),b.Wc(88," District "),b.Xb(),b.Yb(89,"td",23),b.Yb(90,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.district=t})),b.Xb(),b.Xb(),b.Yb(91,"td",2),b.Wc(92," Email "),b.Xb(),b.Yb(93,"td",17),b.Yb(94,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.email=t})),b.Xb(),b.Xb(),b.Yb(95,"td",2),b.Wc(96," Mobile "),b.Xb(),b.Yb(97,"td",8),b.Yb(98,"input",24),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().employee.mobile=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(99,"tr"),b.Yb(100,"td",2),b.Wc(101," City "),b.Xb(),b.Yb(102,"td",23),b.Yb(103,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.city=t})),b.Xb(),b.Xb(),b.Yb(104,"td",2),b.Wc(105," Web "),b.Xb(),b.Yb(106,"td",17),b.Yb(107,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.webid=t})),b.Xb(),b.Xb(),b.Yb(108,"td",2),b.Wc(109," \xa0 "),b.Xb(),b.Yb(110,"td",8),b.Yb(111,"button",25),b.kc("click",(function(){b.Mc(i);var t=b.Jc(114);return b.oc().openModal(t,4)})),b.Wc(112,"Terms"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Uc(113,dn,12,6,"ng-template",null,26,b.Vc),b.Uc(115,hn,8,2,"ng-template",null,27,b.Vc),b.Tb(117,"br"),b.Yb(118,"table",28),b.Yb(119,"tr"),b.Yb(120,"td",29),b.Wc(121,"Material"),b.Xb(),b.Yb(122,"td",30),b.Wc(123,"\xa0"),b.Xb(),b.Yb(124,"td",6),b.Wc(125,"Qty"),b.Xb(),b.Yb(126,"td",6),b.Wc(127,"UOM"),b.Xb(),b.Yb(128,"td",6),b.Wc(129,"Required"),b.Xb(),b.Yb(130,"td",31),b.Wc(131,"Rate"),b.Xb(),b.Yb(132,"td",6),b.Wc(133,"Disc%"),b.Xb(),b.Yb(134,"td",6),b.Wc(135,"Discount"),b.Xb(),b.Yb(136,"td",31),b.Wc(137,"Tax"),b.Xb(),b.Yb(138,"td",32),b.Wc(139,"\xa0"),b.Xb(),b.Xb(),b.Yb(140,"tr"),b.Yb(141,"td",29),b.Yb(142,"ng-select",33),b.kc("change",(function(t){return b.Mc(i),b.oc().makeUnits(t)})),b.Uc(143,pn,2,2,"ng-option",5),b.Xb(),b.Xb(),b.Yb(144,"td",30),b.Yb(145,"button",7),b.kc("click",(function(){b.Mc(i);var t=b.Jc(114);return b.oc().openModal(t,2)})),b.Wc(146,"New"),b.Xb(),b.Xb(),b.Yb(147,"td",6),b.Yb(148,"input",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().qty=t})),b.Xb(),b.Xb(),b.Yb(149,"td",6),b.Yb(150,"select",35),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().umid=t})),b.Uc(151,mn,2,2,"option",5),b.Xb(),b.Xb(),b.Yb(152,"td",6),b.Yb(153,"input",13),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.reqdby=e.parseDate(t.target.value)})),b.pc(154,"date"),b.Xb(),b.Xb(),b.Yb(155,"td",6),b.Yb(156,"input",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().rat=t})),b.Xb(),b.Xb(),b.Yb(157,"td",6),b.Yb(158,"input",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().discper=t})),b.Xb(),b.Xb(),b.Yb(159,"td",6),b.Tb(160,"input",36),b.Xb(),b.Yb(161,"td",31),b.Yb(162,"select",37),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().itemtax=t})),b.Yb(163,"option",38),b.Wc(164,"--Select--"),b.Xb(),b.Uc(165,fn,2,2,"option",5),b.Xb(),b.Xb(),b.Yb(166,"td",32),b.Yb(167,"button",25),b.kc("click",(function(){return b.Mc(i),b.oc().addItems()})),b.Wc(168,"Add"),b.Xb(),b.Xb(),b.Xb(),b.Yb(169,"tr"),b.Yb(170,"td",39),b.Yb(171,"div",40),b.Yb(172,"table",41),b.Yb(173,"thead",42),b.Yb(174,"tr"),b.Yb(175,"th",43),b.Wc(176,"#"),b.Xb(),b.Yb(177,"th",44),b.Wc(178,"Material"),b.Xb(),b.Yb(179,"th",31),b.Wc(180,"Qty"),b.Xb(),b.Yb(181,"th",31),b.Wc(182,"UOM"),b.Xb(),b.Yb(183,"th",31),b.Wc(184,"Reqd By"),b.Xb(),b.Yb(185,"th",31),b.Wc(186,"Rate"),b.Xb(),b.Yb(187,"th",31),b.Wc(188,"Discount"),b.Xb(),b.Yb(189,"th",31),b.Wc(190,"Value"),b.Xb(),b.Tb(191,"th",43),b.Xb(),b.Xb(),b.Yb(192,"tbody"),b.Uc(193,gn,22,17,"tr",45),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(194,"table",28),b.Yb(195,"tr"),b.Yb(196,"td",46),b.Wc(197,"Base"),b.Xb(),b.Yb(198,"td",46),b.Wc(199,"Discount"),b.Xb(),b.Yb(200,"td",46),b.Wc(201,"Taxes"),b.Xb(),b.Yb(202,"td",31),b.Wc(203,"\xa0"),b.Xb(),b.Yb(204,"td",46),b.Wc(205,"Others"),b.Xb(),b.Yb(206,"td",46),b.Wc(207,"Total"),b.Xb(),b.Xb(),b.Yb(208,"tr"),b.Yb(209,"td",46),b.Tb(210,"input",47),b.pc(211,"number"),b.Xb(),b.Yb(212,"td",46),b.Yb(213,"input",48),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().discount=t}))("input",(function(){return b.Mc(i),b.oc().makeOthers()})),b.Xb(),b.Xb(),b.Yb(214,"td",46),b.Tb(215,"input",47),b.pc(216,"number"),b.Xb(),b.Yb(217,"td",31),b.Yb(218,"button",25),b.kc("click",(function(){b.Mc(i);var t=b.Jc(116);return b.oc().open(t,2)})),b.Wc(219,"Add"),b.Xb(),b.Xb(),b.Yb(220,"td",46),b.Yb(221,"input",49),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().otherAmt=t}))("input",(function(){return b.Mc(i),b.oc().makeOthers()})),b.Xb(),b.Xb(),b.Yb(222,"td",46),b.Tb(223,"input",47),b.pc(224,"number"),b.Xb(),b.Xb(),b.Xb(),b.Yb(225,"table"),b.Yb(226,"tr"),b.Yb(227,"td",17),b.Uc(228,Xn,2,1,"button",50),b.Yb(229,"button",51),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(230),b.Xb(),b.Yb(231,"button",52),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(232,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(9),b.vc("ngModel",n.custid),b.Db(1),b.vc("ngForOf",n.suppliers),b.Db(7),b.vc("ngModel",n.poseq),b.Db(5),b.vc("ngModel",n.addr),b.Db(3),b.vc("ngForOf",n.addresses),b.Db(4),b.vc("value",b.rc(30,40,n.tradat,"yyyy-MM-dd")),b.Db(6),b.vc("ngModel",n.supdetail.address),b.Db(4),b.vc("ngModel",n.supdetail.zip),b.Db(4),b.vc("value",b.rc(44,43,n.validitydate,"yyyy-MM-dd")),b.Db(6),b.vc("ngModel",n.supdetail.mobile),b.Db(15),b.vc("ngModel",n.supdetail.country),b.Db(4),b.vc("ngModel",n.supdetail.tel),b.Db(4),b.vc("ngModel",n.employee.name),b.Db(5),b.vc("ngModel",n.supdetail.stat),b.Db(4),b.vc("ngModel",n.supdetail.fax),b.Db(4),b.vc("ngModel",n.employee.designation),b.Db(5),b.vc("ngModel",n.supdetail.district),b.Db(4),b.vc("ngModel",n.supdetail.email),b.Db(4),b.vc("ngModel",n.employee.mobile),b.Db(5),b.vc("ngModel",n.supdetail.city),b.Db(4),b.vc("ngModel",n.supdetail.webid),b.Db(36),b.vc("ngForOf",n.items),b.Db(5),b.vc("ngModel",n.qty),b.Db(2),b.vc("ngModel",n.umid),b.Db(1),b.vc("ngForOf",n.units),b.Db(2),b.vc("value",b.rc(154,46,n.reqdby,"yyyy-MM-dd")),b.Db(3),b.vc("ngModel",n.rat),b.Db(2),b.vc("ngModel",n.discper),b.Db(2),b.wc("value",n.qty*n.rat*n.discper/100),b.Db(2),b.vc("ngModel",n.itemtax),b.Db(3),b.vc("ngForOf",n.itemtaxes),b.Db(28),b.vc("ngForOf",n.itemdetails),b.Db(17),b.wc("value",b.rc(211,49,n.baseAmt,"0.2")),b.Db(3),b.vc("ngModel",n.discount),b.Db(2),b.wc("value",b.rc(216,52,n.taxesAmt,"0.2")),b.Db(6),b.vc("ngModel",n.otherAmt),b.Db(2),b.wc("value",b.rc(224,55,n.totalAmt,"0.2")),b.Db(5),b.vc("ngIf",n.delVisible),b.Db(1),b.vc("disabled",!n.creCheck),b.Db(1),b.Xc(n.saveStr)}}function vn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",73),b.Wc(2),b.Xb(),b.Yb(3,"td",62),b.Wc(4),b.Xb(),b.Yb(5,"td",23),b.Wc(6),b.Xb(),b.Yb(7,"td",62),b.Wc(8),b.Xb(),b.Yb(9,"td",74),b.Wc(10),b.pc(11,"number"),b.Xb(),b.Yb(12,"td",74),b.Wc(13),b.pc(14,"number"),b.Xb(),b.Yb(15,"th",75),b.Wc(16),b.pc(17,"number"),b.Xb(),b.Yb(18,"td",72),b.Yb(19,"i",76),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).openOld(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.seq),b.Db(2),b.Xc(n.partyName),b.Db(2),b.Xc(n.mobile),b.Db(2),b.Xc(b.rc(11,7,n.baseamt,"0.2")),b.Db(3),b.Xc(b.rc(14,10,n.others,"0.2")),b.Db(3),b.Xc(b.rc(17,13,n.totalAmt,"0.2"))}}function yn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Sale Orders "),b.Xb(),b.Yb(3,"table",28),b.Yb(4,"tr"),b.Yb(5,"td",67),b.Yb(6,"input",13),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.listdat=e.parseDate(t.target.value)})),b.pc(7,"date"),b.Xb(),b.Wc(8," leaddays "),b.Xb(),b.Yb(9,"td",68),b.Yb(10,"button",69),b.kc("click",(function(){return b.Mc(i),b.oc().ShowOrders()})),b.Wc(11,"Show"),b.Xb(),b.Xb(),b.Yb(12,"td",68),b.Yb(13,"button",70),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(14,"New"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"table",41),b.Yb(16,"thead",42),b.Yb(17,"tr"),b.Yb(18,"th",43),b.Wc(19,"#"),b.Xb(),b.Yb(20,"th",62),b.Wc(21,"SO"),b.Xb(),b.Yb(22,"th",23),b.Wc(23,"Customer"),b.Xb(),b.Yb(24,"th",62),b.Wc(25,"Mobile"),b.Xb(),b.Yb(26,"th",71),b.Wc(27,"Base Amount"),b.Xb(),b.Yb(28,"th",71),b.Wc(29,"Others"),b.Xb(),b.Yb(30,"th",71),b.Wc(31,"Total"),b.Xb(),b.Tb(32,"th",72),b.Xb(),b.Xb(),b.Yb(33,"tbody"),b.Uc(34,vn,20,16,"tr",45),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(6),b.vc("value",b.rc(7,2,n.listdat,"yyyy-MM-dd")),b.Db(28),b.vc("ngForOf",n.purchaseorders)}}new Date;var Cn=function(){function t(t){this.activeModal=t}return t.\u0275fac=function(e){return new(e||t)(b.Sb(X.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["ngbd-modal-content"]],inputs:{name:"name"},decls:12,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,e){1&t&&(b.Yb(0,"div",0),b.Yb(1,"h4",1),b.Wc(2,"Hi there!"),b.Xb(),b.Yb(3,"button",2),b.kc("click",(function(){return e.activeModal.dismiss("Cross click")})),b.Yb(4,"span",3),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",4),b.Yb(7,"p"),b.Wc(8),b.Xb(),b.Xb(),b.Yb(9,"div",5),b.Yb(10,"button",6),b.kc("click",(function(){return e.activeModal.close("Close click")})),b.Wc(11,"Close"),b.Xb(),b.Xb()),2&t&&(b.Db(8),b.Yc("Hello, ",e.name,"!"))},encapsulation:2}),t}(),Mn=function(){function t(t,e,i,n,r,o,c,a){this.acc=t,this.adm=e,this.ino=i,this.modalService=n,this.spinner=r,this.router=o,this.toastr=c,this.inv=a,this.fileName="../../../assets/img/employee.jpg",this.NewfileReqObj=[],this.fileNames=[],this.files=[],this.filename="",this.modeltype=0,this.discper=0,this.creCheck=!1,this.delCheck=!1,this.delVisible=!1,this.dateCheck=!1,this.saveStr="",this.recordID=0,this.title="",this.addr="",this.itemtax=0,this.itemtaxes=[],this.employee={recordid:null,name:"",mobile:"",designation:""},this.custid=null,this.supdetail={accountId:0,accountname:"",address:"",country:" ",stat:" ",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",webid:"",pricelist:""},this.enqid=-1,this.poseq="",this.items={},this.material={grp:"",itemcode:"",itemname:"",recordId:-1,reorderqty:0,shelflife:0,statu:"",stdrat:0,stdum:"",stdumId:0},this.slno=1,this.itemdetails=[],this.terms=[],this.taxes=[],this.tradat=new Date,this.validitydate=new Date,this.qty=null,this.umid=-1,this.rat=null,this.leaddays=null,this.reqdby=new Date,this.baseAmt=0,this.discount=0,this.taxesAmt=0,this.otherAmt=0,this.totalAmt=0,this.advanceCheck=!1,this.advseq="",this.advanceamt=0,this.advancemode=" ",this.advanbankdet="",this.pono="",this.advasupplier="",this.orderamt=0,this.advvoucher="",this.listdat=new Date,this.opened=!1,this.adm.screenCheck(7,2,4,0)?(this.delCheck=this.adm.screenCheck(7,2,4,3),this.dateCheck=this.adm.screenCheck(7,2,4,4),this.listAdd()):this.router.navigateByUrl("crm/crmunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.creCheck=this.adm.screenCheck(7,2,4,1),this.saveStr="Save",this.opened=!0},t.prototype.makeCle=function(){this.validitydate.setDate(this.validitydate.getDate()+15),this.reqdby.setDate(this.reqdby.getDate()+1),this.slno=1,this.delVisible=!1,this.recordID=0,this.supdetail={accountId:0,accountname:"",address:"",country:" ",stat:" ",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",webid:"",pricelist:""},this.itemdetails=[];for(var t=0;t<this.taxes.length;t++)this.taxes[t].taxvalue=0;this.baseAmt=0,this.discount=0,this.taxesAmt=0,this.otherAmt=0,this.totalAmt=0},t.prototype.openOld=function(t){var e=this;t.pos<=2?(this.recordID=t.recordId,this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.ino.getSaleOrder(this.recordID).subscribe((function(t){var i=t;if(console.log(i,"result"),"OK"==i.result){if(e.delVisible=!0,e.creCheck=e.adm.screenCheck(7,2,3,2),e.saveStr="Modify",e.opened=!0,i.header){e.supdetail={accountId:i.header.partyId,accountname:i.header.partyName,address:i.header.addr,country:null,empno:i.header.refEmployee,stat:i.header.stat,district:i.header.district,city:i.header.city,zip:i.header.zip,mobile:i.header.mobile,tel:i.header.tel,fax:i.header.fax,email:i.header.email,webid:i.header.webid},e.custid=i.header.partyId,e.baseAmt=i.header.baseamt,e.discount=i.header.discount,e.taxesAmt=i.header.taxes,e.otherAmt=i.header.others,e.totalAmt=i.header.totalAmt,e.poseq=i.header.seq,e.itemdetails=[];for(var n=0;n<i.lines.length;n++)e.itemdetails.push({slno:i.lines[n].sno,itemid:i.lines[n].itemId,itemname:i.lines[n].itemName,umid:i.lines[n].um,um:i.lines[n].branchId,qty:i.lines[n].qty,rat:i.lines[n].rat,discper:i.lines[n].discPer,leaddays:i.lines[n].leadDays,reqdby:i.lines[n].reqdBy,value:+i.lines[n].qty*+i.lines[n].rat});for(e.taxes=[],n=0;n<i.taxes.length;n++)e.taxes.push({taxcode:i.taxes[n].taxCode,taxper:i.taxes[n].taxper,taxvalu:i.taxes[n].taxValue,lineid:i.taxes[n].lineId,itemname:e.findItemName(i,i.taxes[n].lineId)});for(n=0;n<i.terms.length;n++)e.terms.filter((function(t){return t.includes(i.terms[n].term)})).length<=0&&e.terms.push(i.terms[n].term)}e.makeEmployee(),e.spinner.hide()}else e.adm.showMessage(i.result,"Error",4),e.spinner.hide()}))):this.adm.showMessage("This quotation is processed for further transaction","Warning",3)},t.prototype.findItemName=function(t,e){var i=t.lines.filter((function(t){return t.sno==e})),n="";return i.length>0&&(n=i[0].itemName),n},t.prototype.valChk=function(){return!0},t.prototype.delete=function(){var t=this;g.a.fire({title:"Deletes Sale Quotation Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});for(var i={RecordId:t.recordID,Dat:new Date(t.adm.stringData(t.tradat)),PurchaseType:"General",RefQuotationId:+t.enqid,Validity:new Date(t.adm.stringData(t.validitydate)),Vendorid:t.supdetail.accountId,Vendorname:t.supdetail.accountname,Addr:t.supdetail.address,Country:t.supdetail.country,Stat:t.supdetail.stat,District:t.supdetail.district,City:t.supdetail.city,Zip:t.supdetail.zip,Mobile:t.supdetail.mobile,Tel:t.supdetail.tel,Fax:t.supdetail.fax,Email:t.supdetail.email,Webid:t.supdetail.webid,Baseamt:t.baseAmt,Discount:t.discount,Taxes:t.taxesAmt,Others:t.otherAmt,TotalAmt:t.totalAmt},n=[],r=0;r<t.itemdetails.length;r++)n.push({ItemId:t.itemdetails[r].itemid,ItemName:t.itemdetails[r].itemname,Qty:t.itemdetails[r].qty,Um:t.itemdetails[r].umid,Rat:t.itemdetails[r].rat,LeadDays:t.itemdetails[r].leaddays});var o=[];for(r=0;r<t.terms.length;r++)o.push({Term:t.terms[r]});var c=[];for(r=0;r<t.taxes.length;r++)t.taxes[r].taxvalue>0&&c.push({Taxcode:t.taxes[r].taxcode,Taxper:t.taxes[r].taxper,Taxvalue:t.taxes[r].taxvalue});t.ino.setSaleOrder(i,n,o,c,3).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Your Sale Quotation deleted.","success"),t.listAdd(),t.makeCle(),t.opened=!1):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()}))}}))},t.prototype.addTerms=function(){},t.prototype.addItems=function(){this.material.itemname&&""!=this.material.itemname?this.qty<=0?this.adm.showMessage("Qty not mentioned","Warning",3):this.rat<=0?this.adm.showMessage("Rate not mentioned","Warning",3):(this.itemdetails.push({slno:this.slno,itemid:this.material.recordId,itemname:this.material.itemname,umid:+this.umid,um:this.findUnit(+this.umid),qty:this.qty,discper:this.discper,discount:this.qty*this.rat*this.discper/100,taxid:this.itemtax,reqdby:this.reqdby,rat:this.rat,value:this.qty*this.rat}),this.slno++,this.material={grp:"",itemcode:"",itemname:"",recordId:-1,reorderqty:0,shelflife:0,statu:"",stdrat:0,stdum:"",stdumId:0},this.qty=null,this.rat=null,this.leaddays=null,this.discper=0,this.makeCalcu()):this.adm.showMessage("Material not selected","Warning",3)},t.prototype.findUnit=function(t){var e=this.units.filter((function(e){return e.umid==t}));return e.length>0?e[0].um:" "},t.prototype.deleteItem=function(t){var e=this.itemdetails.indexOf(t);e>=0&&(this.itemdetails.splice(e,1),this.makeCalcu())},t.prototype.makeCalcu=function(){this.makeTaxes(),this.baseAmt=0,this.discount=0;for(var t=0;t<this.itemdetails.length;t++)this.baseAmt=this.baseAmt+ +this.itemdetails[t].qty*+this.itemdetails[t].rat,this.discount=this.discount+ +this.itemdetails[t].qty*+this.itemdetails[t].rat*(+this.itemdetails[t].discper/100);this.makeOthers()},t.prototype.makeTaxes=function(){var t=this;this.taxes=[];for(var e=0;e<this.itemdetails.length;e++){var i=this.totalrequirements.taxesdet.filter((function(i){return i.recordId==t.itemdetails[e].taxid}));if(i.length>0)for(var n=0;n<i.length;n++)this.taxes.push({taxcode:i[n].taxCode,taxper:i[n].taxper,taxvalu:Math.round((this.itemdetails[e].qty*this.itemdetails[e].rat-this.itemdetails[e].discount)*i[n].taxper/100),lineid:this.itemdetails[e].slno,itemname:this.itemdetails[e].itemname})}for(this.taxesAmt=0,e=0;e<this.taxes.length;e++)this.taxesAmt=this.taxesAmt+this.taxes[e].taxvalu;this.makeOthers()},t.prototype.makeOthers=function(){this.totalAmt=this.baseAmt+this.taxesAmt-this.discount+this.otherAmt},t.prototype.save=function(){var t=this;this.supdetail.accountname?this.itemdetails.length<=0?this.adm.showMessage("Items not selected","Warning",3):g.a.fire({title:0==this.recordID?"Confirms Sale Order Details":"Modifies Sale Order Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var i={Dat:new Date(t.adm.stringData(t.tradat)),SaleType:"General",RefEmployee:+t.supdetail.empno,Validity:new Date(t.adm.stringData(t.validitydate)),PartyId:t.supdetail.accountId,PartyName:t.supdetail.accountname,Addr:t.supdetail.address,Country:t.supdetail.country,Stat:t.supdetail.stat,District:t.supdetail.district,City:t.supdetail.city,Zip:t.supdetail.zip,Mobile:t.supdetail.mobile,Tel:t.supdetail.tel,Fax:t.supdetail.fax,Email:t.supdetail.email,Webid:t.supdetail.webid,Baseamt:t.baseAmt,Discount:t.discount,Taxes:t.taxesAmt,Others:t.otherAmt,TotalAmt:t.totalAmt};t.recordID>0&&(i.RecordId=t.recordID);for(var n=[],r=0;r<t.itemdetails.length;r++)n.push({Sno:t.itemdetails[r].slno,ItemId:t.itemdetails[r].itemid,ItemName:t.itemdetails[r].itemname,Qty:t.itemdetails[r].qty,Um:t.itemdetails[r].umid,Rat:t.itemdetails[r].rat,DiscPer:t.itemdetails[r].discper,ReqdBy:t.itemdetails[r].reqdby});var o=[];for(r=0;r<t.terms.length;r++)o.push({Term:t.terms[r]});var c=[];for(r=0;r<t.taxes.length;r++)t.taxes[r].taxvalu>0&&c.push({Taxcode:t.taxes[r].taxcode,Taxper:t.taxes[r].taxper,Taxvalue:t.taxes[r].taxvalu,LineId:t.taxes[r].lineid});t.ino.setSaleOrder(i,n,o,c,0==t.recordID?1:2).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Your Sale Order saved.","success"),t.listAdd(),t.makeCle(),0!=t.recordID&&(t.opened=!1)):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()}))}})):this.adm.showMessage("Customer not selected","Warning",3)},t.prototype.close=function(){this.opened=!1},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.ino.getCRMSaleOrderRequirements().subscribe((function(e){var i=e;console.log("total",i),t.totalrequirements=i,t.suppliers=i.customers,t.totaladdresses=i.addresses,t.items=i.materials,t.listdat=new Date(i.dat),t.tradat=new Date(i.dat),t.poseq=i.pono,t.totalunits=i.units;for(var n=i.terms,r=0;r<n.length;r++)t.terms.push(n[r].term);t.spinner.hide(),t.ShowOrders()}))},t.prototype.ShowOrders=function(){var t=this,e=this.adm.stringData(this.listdat);this.ino.getSaleOrders(e,e).subscribe((function(e){t.purchaseorders=e}))},t.prototype.openContent=function(){this.modalService.open(Cn).componentInstance.name="World"},t.prototype.openModal=function(t,e){this.modeltype=e,this.modalService.open(t,{windowClass:"terms-modal"})},t.prototype.open=function(t,e){var i=this;this.title=1==e?"Terms":"Taxes",this.modalService.open(t,{windowClass:"terms-modal"}).result.then((function(t){i.closeResult="Closed with: "+t}),(function(t){i.closeResult="Dismissed "+i.getDismissReason(t)}))},t.prototype.getDismissReason=function(t){return t===X.a.ESC?"by pressing ESC":t===X.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t.prototype.makeUnits=function(t){var e=this,i=this.items.filter((function(e){return e.recordId==t}));i&&(this.material={grp:i[0].grp,itemcode:i[0].itemcode,itemname:i[0].itemname,recordId:i[0].recordId,reorderqty:i[0].reorderqty,shelflife:0,statu:"",stdrat:0,stdum:i[0].stdum,stdumId:i[0].stdumId}),this.units=this.totalunits.filter((function(t){return t.recordId==e.material.recordId})),this.units.length>0&&(this.umid=this.units[0].umid);var n=this.totalrequirements.customers.filter((function(t){return t.recordId==e.supdetail.accountId})),r="",o="";n.length>0&&(r=n[0].pricelist,o=n[0].discountlist);var c=this.totalrequirements.pricesuni.filter((function(t){return t.priceListName==r})),a=0;c.length>0&&(a=c[0].recordId);var s=-1,b=this.totalrequirements.pricesdet.filter((function(t){return t.recordId==a&&t.productId==e.material.recordId}));b.length>0&&(this.rat=b[0].price,s=+b[0].taxId);var d=0,l=this.totalrequirements.discsuni.filter((function(t){return t.discountListName==o}));l.length>0&&(d=l[0].recordId),(b=this.totalrequirements.discsdet.filter((function(t){return t.recordId==d&&t.productId==e.material.recordId}))).length>0&&(this.discper=b[0].discount);var u=[];if(s&&s>0&&(u.push(s),this.itemtax=s),0==u.length)for(var h=this.totalrequirements.pricesdet.filter((function(t){return t.productId==e.material.recordId&&t.taxId>0})),p=0;p<h.length;p++){for(var m=0,f=0;f<u.length;f++)u[f]==h[p].taxId&&m++;0==m&&u.push(h[p].taxId)}if(this.itemtaxes=[],0==u.length){for(p=0;p<this.totalrequirements.taxesuni.length;p++)this.itemtaxes.push({taxid:this.totalrequirements.taxesuni[p].recordId,taxname:this.totalrequirements.taxesuni[p].taxName});this.itemtax=u[0]}else for(this.itemtax=u[0],p=0;p<u.length;p++){var g=this.totalrequirements.taxesuni.filter((function(t){return t.recordId==u[p]}));g.length>0&&this.itemtaxes.push({taxid:g[0].recordId,taxname:g[0].taxName})}},t.prototype.addTerm=function(){this.term?(this.terms.push(this.term),this.term=""):this.adm.showMessage("Term not mentioned","Warning",3)},t.prototype.delTerm=function(t){var e=this.terms.indexOf(t);this.terms.splice(e,1)},t.prototype.closeAdvance=function(){this.advanceCheck=!1},t.prototype.ConfirmText=function(){var t=this;g.a.fire({title:"Confirms Purchase Quotation Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.save(),g.a.fire("Transaction Completed Successfully!","Your Purchase Order saved.","success"))}))},t.prototype.parseDate=function(t){return t?new Date(t):null},t.prototype.findAddresses=function(t){var e=this,i=this.suppliers.filter((function(e){return e.recordId==t}));i&&(this.supdetail={accountId:i[0].recordId,accountname:i[0].partyName,empno:i[0].employee,pricelist:i[0].pricelist}),this.addresses=this.totaladdresses.filter((function(t){return t.recordId==e.supdetail.accountId})),this.employee={recordid:null,name:"",mobile:"",designation:""},this.makeEmployee()},t.prototype.makeEmployee=function(){var t=this,e=this.totalrequirements.employees.filter((function(e){return e.recordId==t.supdetail.empno}));e.length>0&&(this.employee={name:e[0].empname,mobile:e[0].mobile,designation:e[0].tel})},t.prototype.assignAddress=function(){var t=this,e=this.addresses.filter((function(e){return e.addressName==t.addr}));e&&e.length>0&&(this.supdetail.address=e[0].addres,this.supdetail.country=e[0].country,this.supdetail.stat=e[0].stat,this.supdetail.district=e[0].district,this.supdetail.city=e[0].city,this.supdetail.zip=e[0].zip,this.supdetail.mobile=e[0].mobile,this.supdetail.tel=e[0].tel,this.supdetail.fax=e[0].fax,this.supdetail.email=e[0].email,this.supdetail.webid=e[0].webid)},t.prototype.onSelectFile=function(t){var e=this;if(this.NewfileReqObj=[],t.target.files){var i=new FileReader;this.fileevent=t,this.UploadAttach(),this.files.push(t.target.files[0]);for(var n=0;n<t.target.files.length;n++)i.readAsDataURL(t.target.files[n]),i.onload=function(t){e.fileName=t.target.result,e.fileNames.push({typ:"Image",file:t.target.result})}}},t.prototype.UploadAttach=function(){var t=this,e=document.getElementById("file-upload");if(e.files.length>0){var i=e.files[0];this.filename=i.name;var n=this.filename.split(".")[this.filename.split(".").length-1],r=new FileReader;r.readAsDataURL(i),r.onload=function(){t.fileobj=r.result;var e=t.fileobj.split(",");t.fileobj=e[1],"JPG"!=n.toUpperCase()&&"PNG"!=n.toUpperCase()&&"TXT"!=n.toUpperCase()&&"PDF"!=n.toUpperCase()&&"XLS"!=n.toUpperCase()&&"XLSX"!=n.toUpperCase()&&"JPG"!=n.toUpperCase()&&"JPEG"!=n.toUpperCase()&&"GIF"!=n.toUpperCase()||(t.fileReqObj={Filename:t.filename,ContentType:"application/"+n,Contents:t.fileobj,FileType:n,MsgID:"",Private:!1,Public:!0,Description:t.filename},t.NewfileReqObj.push(t.fileReqObj))}}},t.prototype.getNewSupplier=function(t){console.log("new customer",t),t&&(this.suppliers.push({recordId:t.recordid,partyName:t.supplier.PartyName,employee:t.supplier.Employee,pricelist:t.supplier.Pricelist,discountlist:t.supplier.Discountlist}),this.totaladdresses.push({recordId:t.recordid,addressName:t.addresses[0].AddressName,addres:t.addresses[0].Addres,country:t.addresses[0].Country,stat:t.addresses[0].Stat,district:t.addresses[0].District,city:t.addresses[0].City,zip:t.addresses[0].Zip,mobile:t.addresses[0].Mobile,tel:t.addresses[0].Tel,fax:t.addresses[0].Fax,email:t.addresses[0].Email,webid:t.addresses[0].Webid}))},t.prototype.getNewMaterial=function(t){if(t){this.items.push({recordId:t.recordid,itemcode:t.item.Itemid,itemname:t.item.ItemName,grp:t.itemgroup,stdrat:0,shelflife:0,reorderqty:0,statu:1,stdum:t.units.length>0?t.units[0].stdum:"",stdumId:t.units.length>0?+t.units[0].stdid:-1,costingType:0});for(var e=0;e<t.units.length;e++)this.totalunits.push({recordId:t.recordid,umid:+t.units[e].mainid,um:t.units[e].mainum,cofactor:+t.units[e].cove,stdumid:+t.units[e].stdid,stdum:t.units[e].stdum})}},t.\u0275fac=function(e){return new(e||t)(b.Sb(c.a),b.Sb(a.a),b.Sb(fi.a),b.Sb(X.r),b.Sb(r.c),b.Sb(o.c),b.Sb($.b),b.Sb(mi.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-orders-rx"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","99%"],["align","right",2,"width","10%"],["colspan","3"],["id","cmbsupplier",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"width","8%"],["type","button",1,"btn","btn-info","mr-1","mb-1",2,"width","100%",3,"click"],[2,"width","20%"],["type","text","disabled","",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["colspan","4"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],["type","date",1,"form-control",3,"value","input"],["rowspan","2","align","right",2,"width","10%"],["rowspan","2",2,"width","25%"],[2,"width","100%","height","50px",3,"ngModel","ngModelChange"],["colspan","2"],["type","text",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"form-control",2,"width","100%"],["value","1"],["value","2"],["value","3"],[2,"width","25%"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",2,"width","100%",3,"click"],["customContent",""],["content",""],[2,"width","100%"],[2,"width","27%"],[2,"width","6%"],[2,"width","10%"],[2,"width","7%"],["id","cmbitem",3,"change"],["type","number",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["type","number","disabled","",1,"form-control",2,"width","100%",3,"value"],[1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["colspan","11"],[2,"width","100%","height","300px","overflow-y","scroll"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[2,"width","5%"],[2,"width","30%"],[4,"ngFor","ngForOf"],[2,"width","18%"],["type","text","disabled","",1,"form-control",2,"width","100%","text-align","right",3,"value"],["type","number","disabled","",1,"form-control",2,"width","100%","text-align","right",3,"ngModel","ngModelChange","input"],["type","number",1,"form-control",2,"width","100%","text-align","right",3,"ngModel","ngModelChange","input"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],[3,"value"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["style","width: 100%;",4,"ngIf"],[3,"notify",4,"ngIf"],[2,"width","85%"],[2,"width","15%"],[1,"ft-trash-2","font-medium-1",3,"click"],[3,"notify"],["type","number",1,"form-control",3,"ngModel","input","ngModelChange"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],["align","right",2,"width","40%"],["align","left",2,"width","25%"],["type","button",1,"btn-lg","btn-info","mr-1","mb-1",3,"click"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],[2,"text-align","right","width","12%"],[2,"width","4%"],["scope","row",2,"width","5%"],["align","right",2,"width","12%"],["scope","row",2,"text-align","right","width","12%"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Yn,233,58,"div",0),b.Uc(2,yn,35,5,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,gi.a,d.q,d.t,n.o,d.c,d.z,d.u,d.B,d.v,gi.g,Ui,Hi],pipes:[n.e,n.f],styles:["ng-sidebar-container{height:100vh}::ng-deep .ng-sidebar{background-color:#fff;width:95%}.has-search .form-control{padding-left:2.375rem}.has-search .form-control-feedback{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}#content{width:95%}.terms-modal .modal-content{width:900px;position:absolute;left:-200px}.terms-modal .close,.terms-modal .modal-title{color:#000}.dark-modal .modal-content{background-color:#292b2c;width:190%;color:#fff;position:absolute;left:-300px}.dark-modal .close,.dark-modal .modal-title{color:#fff}"],encapsulation:2}),t}();function kn(t,e){if(1&t&&(b.Yb(0,"option",15),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Xc(i.partyName)}}function Dn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td",10),b.Yb(2,"input",16),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.chk=t})),b.Xb(),b.Xb(),b.Yb(3,"td",11),b.Wc(4),b.Xb(),b.Yb(5,"td",11),b.Wc(6),b.pc(7,"date"),b.Xb(),b.Yb(8,"td",12),b.Wc(9),b.Xb(),b.Yb(10,"td",11),b.Wc(11),b.pc(12,"number"),b.Xb(),b.Yb(13,"td",11),b.Wc(14),b.pc(15,"number"),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit;b.Db(2),b.vc("ngModel",n.chk),b.Db(2),b.Xc(n.seq),b.Db(2),b.Xc(b.rc(7,6,n.dat,"dd-MMM-yy")),b.Db(3),b.Xc(n.customer),b.Db(2),b.Xc(b.rc(12,9,n.baseamt,"0.2")),b.Db(3),b.Xc(b.rc(15,12,n.totalamt,"0.2"))}}function Wn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2,"Bill Submissions"),b.Xb(),b.Tb(3,"br"),b.Yb(4,"table",1),b.Yb(5,"tr"),b.Yb(6,"td",2),b.Wc(7,"Select Customer"),b.Xb(),b.Yb(8,"td",3),b.Yb(9,"select",4),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().cusid=t}))("change",(function(){return b.Mc(i),b.oc().findPendings()})),b.Yb(10,"option",5),b.Wc(11,"--Select--"),b.Xb(),b.Uc(12,kn,2,2,"option",6),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(13,"h4"),b.Wc(14,"List of Bills to be submitted"),b.Xb(),b.Yb(15,"div",7),b.Yb(16,"table",8),b.Yb(17,"thead",9),b.Yb(18,"tr"),b.Yb(19,"th",10),b.Wc(20,"#"),b.Xb(),b.Yb(21,"th",11),b.Wc(22,"Billno"),b.Xb(),b.Yb(23,"th",11),b.Wc(24,"Date"),b.Xb(),b.Yb(25,"th",12),b.Wc(26,"Customer"),b.Xb(),b.Yb(27,"th",11),b.Wc(28,"Base Amount"),b.Xb(),b.Yb(29,"th",11),b.Wc(30,"Total"),b.Xb(),b.Xb(),b.Xb(),b.Yb(31,"tbody"),b.Uc(32,Dn,16,15,"tr",13),b.Xb(),b.Xb(),b.Xb(),b.Yb(33,"button",14),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(34,"Submit"),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(9),b.vc("ngModel",n.cusid),b.Db(3),b.vc("ngForOf",n.customers),b.Db(20),b.vc("ngForOf",n.pendings)}}function wn(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",10),b.Wc(2),b.Xb(),b.Yb(3,"td",23),b.Wc(4),b.Xb(),b.Yb(5,"td",24),b.Wc(6),b.Xb(),b.Yb(7,"td",11),b.Wc(8),b.pc(9,"number"),b.Xb(),b.Yb(10,"td",11),b.Wc(11),b.pc(12,"number"),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Yc(" ",n+1," "),b.Db(2),b.Xc(i.seq),b.Db(2),b.Xc(i.customername),b.Db(2),b.Xc(b.rc(9,5,i.totalbase,"0.2")),b.Db(3),b.Xc(b.rc(12,8,i.totalamt,"0.2"))}}function xn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2,"List of Bills"),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",11),b.Wc(6,"Date"),b.Xb(),b.Yb(7,"td",17),b.Yb(8,"input",18),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.listdate=e.parseDate(t.target.value)})),b.pc(9,"date"),b.Xb(),b.Xb(),b.Yb(10,"td",19),b.Yb(11,"button",20),b.kc("click",(function(){return b.Mc(i),b.oc().listAdd()})),b.Wc(12,"Show"),b.Xb(),b.Xb(),b.Yb(13,"td",21),b.Yb(14,"button",22),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(15,"New"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(16,"table",8),b.Yb(17,"thead",9),b.Yb(18,"tr"),b.Yb(19,"th",10),b.Wc(20,"#"),b.Xb(),b.Yb(21,"th",23),b.Wc(22,"Seq"),b.Xb(),b.Yb(23,"th",24),b.Wc(24,"Customer"),b.Xb(),b.Yb(25,"th",11),b.Wc(26,"Base Amount"),b.Xb(),b.Yb(27,"th",11),b.Wc(28,"Total"),b.Xb(),b.Xb(),b.Xb(),b.Yb(29,"tbody"),b.Uc(30,wn,13,11,"tr",13),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(8),b.vc("value",b.rc(9,2,n.listdate,"yyyy-MM-dd")),b.Db(22),b.vc("ngForOf",n.submissions)}}var In=function(){function t(t,e,i,n){this.cus=t,this.crm=e,this.spinner=i,this.adm=n,this.listdate=new Date,this.cusid=0,this.opened=!1,this.pendings=[],this.customersAdd(),this.listAdd(),this.pendingDetails()}return t.prototype.pendingDetails=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getPendingBills().subscribe((function(e){t.totalpendings=e,t.spinner.hide()}))},t.prototype.customersAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.cus.getPartyDetails("CUS").subscribe((function(e){t.customers=e.parties,t.spinner.hide()}))},t.prototype.openNew=function(){this.makeCle(),this.opened=!0},t.prototype.makeCle=function(){this.cusid=0,this.pendings=[]},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getSubmittedBills(this.adm.stringData(this.listdate)).subscribe((function(e){t.submissions=e,t.spinner.hide()}))},t.prototype.ngOnInit=function(){},t.prototype.findPendings=function(){var t=this;this.pendings=[];for(var e=this.totalpendings.filter((function(e){return e.partyId==+t.cusid})),i=0;i<e.length;i++)this.pendings.push({chk:!1,RecordId:e[i].recordId,seq:e[i].seq,dat:e[i].dat,customer:e[i].partyName,baseamt:e[i].baseamt,totalamt:e[i].totalAmt})},t.prototype.parseDate=function(t){return t?new Date(t):null},t.prototype.save=function(){var t=this,e=this.pendings.filter((function(t){return t.chk}));e.length>0?g.a.fire({title:"Confirms Bill Submissions",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(i){if(i.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});for(var n={CustomerId:+t.cusid},r=[],o=0;o<e.length;o++)r.push({Billno:e[o].RecordId});t.crm.setBillSubmission(n,r).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Bills Submitted.","success"),t.listAdd(),t.makeCle(),t.pendingDetails()):g.a.fire(i.result,"Error in transaction.","error"),t.spinner.hide()}))}})):this.adm.showMessage("No bills are selected to be submitted","Warning",3)},t.\u0275fac=function(e){return new(e||t)(b.Sb(O.a),b.Sb(T),b.Sb(r.c),b.Sb(a.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-post-bill-submissions"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","100%"],[2,"width","30%"],[2,"width","70%"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],[1,"table-responsive"],[1,"table","m-0"],[1,"thead-light"],[2,"width","5%"],[2,"width","15%"],[2,"width","35%"],[4,"ngFor","ngForOf"],["type","button",1,"btn-lg","btn-primary",3,"click"],[3,"value"],["type","checkbox",3,"ngModel","ngModelChange"],[2,"width","25%"],["type","date",1,"form-control",3,"value","input"],[2,"width","10%"],["type","button",1,"btn-lg","btn-info",3,"click"],["align","right",2,"width","50%"],["type","button",1,"btn-lg","btn-success",3,"click"],[2,"width","20%"],[2,"width","45%"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Wn,35,3,"div",0),b.Uc(2,xn,31,5,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,d.z,d.q,d.t,d.u,d.B,n.o,d.b],pipes:[n.e,n.f],styles:[""]}),t}();function Sn(t,e){if(1&t&&(b.Yb(0,"ng-option",28),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.vc("value",i.customerid),b.Db(1),b.Xc(i.customername)}}function An(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",29),b.kc("click",(function(){return b.Mc(i),b.oc(2).deleteCall()})),b.Wc(1,"Delete"),b.Xb()}if(2&t){var n=b.oc(2);b.vc("disabled",!n.delCheck)}}function Rn(t,e){1&t&&(b.Yb(0,"div",30),b.Yb(1,"h6",31),b.Wc(2,"Pending Calls"),b.Xb(),b.Yb(3,"button",32),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(4,"span",33),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",34),b.Yb(7,"table",35),b.Yb(8,"thead",36),b.Yb(9,"tr"),b.Yb(10,"th"),b.Wc(11,"#"),b.Xb(),b.Yb(12,"th"),b.Wc(13,"Customer"),b.Xb(),b.Yb(14,"th"),b.Wc(15,"Mobile"),b.Xb(),b.Yb(16,"th"),b.Wc(17,"Mode"),b.Xb(),b.Yb(18,"th"),b.Wc(19,"Open"),b.Xb(),b.Xb(),b.Xb(),b.Tb(20,"tbody"),b.Xb(),b.Xb())}function On(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," Followup Details "),b.Xb(),b.Tb(3,"br"),b.Yb(4,"table",1),b.Yb(5,"tr"),b.Yb(6,"td",2),b.Wc(7,"Sequence"),b.Xb(),b.Yb(8,"td",3),b.Tb(9,"input",4),b.Xb(),b.Xb(),b.Yb(10,"tr"),b.Yb(11,"td",2),b.Wc(12,"*Customer"),b.Xb(),b.Yb(13,"td",3),b.Yb(14,"ng-select",5),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().custid=t}))("change",(function(){return b.Mc(i),b.oc().findCustomerDetails()})),b.Uc(15,Sn,2,2,"ng-option",6),b.Xb(),b.Xb(),b.Tb(16,"td",7),b.Xb(),b.Yb(17,"tr"),b.Yb(18,"td",2),b.Wc(19,"*Mobile"),b.Xb(),b.Yb(20,"td",3),b.Yb(21,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().customer.mobile=t})),b.Xb(),b.Xb(),b.Tb(22,"td",7),b.Xb(),b.Tb(23,"tr"),b.Yb(24,"tr"),b.Yb(25,"td",2),b.Wc(26,"Email"),b.Xb(),b.Yb(27,"td",3),b.Yb(28,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().customer.email=t})),b.Xb(),b.Xb(),b.Tb(29,"td",7),b.Xb(),b.Tb(30,"tr"),b.Yb(31,"tr"),b.Yb(32,"td",2),b.Wc(33,"Prev Call"),b.Xb(),b.Yb(34,"td",3),b.Yb(35,"table",9),b.Yb(36,"tr"),b.Yb(37,"td",10),b.Yb(38,"input",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().customer.prevseq=t})),b.Xb(),b.Xb(),b.Tb(39,"td",12),b.Yb(40,"td",13),b.Wc(41,"Date"),b.Xb(),b.Yb(42,"td",10),b.Yb(43,"input",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().customer.prevdate=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Tb(44,"td",7),b.Xb(),b.Tb(45,"tr"),b.Yb(46,"tr"),b.Yb(47,"td",2),b.Wc(48,"Prev Mode"),b.Xb(),b.Yb(49,"td",3),b.Yb(50,"table",9),b.Yb(51,"tr"),b.Yb(52,"td",14),b.Yb(53,"input",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().customer.prevmode=t})),b.Xb(),b.Xb(),b.Yb(54,"td",13),b.Wc(55,"Amount"),b.Xb(),b.Yb(56,"td",10),b.Tb(57,"input",15),b.pc(58,"number"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Tb(59,"td",7),b.Xb(),b.Yb(60,"tr"),b.Yb(61,"td",2),b.Wc(62,"Prev Caller"),b.Xb(),b.Yb(63,"td",3),b.Yb(64,"table",9),b.Yb(65,"tr"),b.Yb(66,"td",14),b.Yb(67,"input",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().customer.prevcaller=t})),b.Xb(),b.Xb(),b.Yb(68,"td",13),b.Wc(69," \xa0"),b.Xb(),b.Yb(70,"td",10),b.Tb(71,"input",16),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Tb(72,"td",7),b.Xb(),b.Yb(73,"tr"),b.Yb(74,"td",2),b.Wc(75,"Prvious Comments"),b.Xb(),b.Yb(76,"td",3),b.Yb(77,"textarea",17),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().customer.prevcommnets=t})),b.Wc(78,"   \n       "),b.Xb(),b.Xb(),b.Tb(79,"td",7),b.Xb(),b.Yb(80,"tr"),b.Yb(81,"td",2),b.Wc(82,"*Customer Comments"),b.Xb(),b.Yb(83,"td",3),b.Yb(84,"textarea",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().customercomments=t})),b.Xb(),b.Xb(),b.Tb(85,"td",7),b.Xb(),b.Yb(86,"tr"),b.Yb(87,"td",2),b.Wc(88,"*Caller Comments"),b.Xb(),b.Yb(89,"td",3),b.Yb(90,"textarea",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().callercomments=t})),b.Xb(),b.Xb(),b.Tb(91,"td",7),b.Xb(),b.Yb(92,"tr"),b.Yb(93,"td",2),b.Wc(94,"*Type"),b.Xb(),b.Yb(95,"td",3),b.Yb(96,"select",19),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().currentcallmode=t})),b.Yb(97,"option",20),b.Wc(98,"--Select--"),b.Xb(),b.Yb(99,"option",21),b.Wc(100,"Tele Call"),b.Xb(),b.Yb(101,"option",22),b.Wc(102,"Personal Visit"),b.Xb(),b.Xb(),b.Xb(),b.Tb(103,"td",7),b.Xb(),b.Yb(104,"tr"),b.Yb(105,"td",2),b.Wc(106,"Next Call date"),b.Xb(),b.Yb(107,"td",3),b.Yb(108,"input",23),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.nextcalldate=e.parseDate(t.target.value)})),b.pc(109,"date"),b.Xb(),b.Xb(),b.Tb(110,"td",7),b.Xb(),b.Yb(111,"tr"),b.Yb(112,"td",2),b.Wc(113,"Next Call Mode"),b.Xb(),b.Yb(114,"td",3),b.Yb(115,"select",19),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().nextcallmode=t})),b.Yb(116,"option",20),b.Wc(117,"--Select--"),b.Xb(),b.Yb(118,"option",21),b.Wc(119,"Tele Call"),b.Xb(),b.Yb(120,"option",22),b.Wc(121,"Personal Visit"),b.Xb(),b.Xb(),b.Xb(),b.Tb(122,"td",7),b.Xb(),b.Yb(123,"tr"),b.Yb(124,"td"),b.Wc(125," \xa0 "),b.Xb(),b.Yb(126,"td"),b.Wc(127," \xa0 "),b.Xb(),b.Xb(),b.Yb(128,"tr"),b.Yb(129,"td"),b.Uc(130,An,2,1,"button",24),b.Yb(131,"button",25),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(132,"Save"),b.Xb(),b.Yb(133,"button",26),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(134,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Uc(135,Rn,21,0,"ng-template",null,27,b.Vc),b.Xb()}if(2&t){var n=b.oc();b.Db(9),b.wc("value",n.seq),b.Db(5),b.vc("ngModel",n.custid),b.Db(1),b.vc("ngForOf",n.customers),b.Db(6),b.vc("ngModel",n.customer.mobile),b.Db(7),b.vc("ngModel",n.customer.email),b.Db(10),b.vc("ngModel",n.customer.prevseq),b.Db(5),b.vc("ngModel",n.customer.prevdate),b.Db(10),b.vc("ngModel",n.customer.prevmode),b.Db(4),b.wc("value",b.rc(58,17,n.customer.pendingamt,"0.2")),b.Db(10),b.vc("ngModel",n.customer.prevcaller),b.Db(10),b.vc("ngModel",n.customer.prevcommnets),b.Db(7),b.vc("ngModel",n.customercomments),b.Db(6),b.vc("ngModel",n.callercomments),b.Db(6),b.vc("ngModel",n.currentcallmode),b.Db(12),b.vc("value",b.rc(109,20,n.nextcalldate,"yyyy-MM-dd")),b.Db(7),b.vc("ngModel",n.nextcallmode),b.Db(15),b.vc("ngIf",n.delVisible)}}function Un(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1,"Forwarded"),b.Xb())}function Tn(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.pc(9,"date"),b.Xb(),b.Yb(10,"td"),b.Uc(11,Un,2,0,"span",0),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.seq),b.Db(2),b.Xc(i.customerName),b.Db(2),b.Xc(b.rc(9,5,i.nextCallDate,"dd-MMM-yy")),b.Db(3),b.vc("ngIf",i.nextCallId)}}function Pn(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Followup "),b.Xb(),b.Yb(3,"table",37),b.Yb(4,"tr"),b.Yb(5,"td",38),b.Yb(6,"input",23),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.listdate=e.parseDate(t.target.value)})),b.pc(7,"date"),b.Xb(),b.Xb(),b.Yb(8,"td",39),b.Yb(9,"button",25),b.kc("click",(function(){return b.Mc(i),b.oc().listAdd()})),b.Wc(10,"Show"),b.Xb(),b.Xb(),b.Yb(11,"td",40),b.Yb(12,"button",41),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(13,"New"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(14,"table",42),b.Yb(15,"thead",36),b.Yb(16,"tr"),b.Yb(17,"th"),b.Wc(18,"#"),b.Xb(),b.Yb(19,"th"),b.Wc(20,"Seq"),b.Xb(),b.Yb(21,"th"),b.Wc(22,"Customer"),b.Xb(),b.Yb(23,"th"),b.Wc(24,"Caller"),b.Xb(),b.Yb(25,"th"),b.Wc(26,"Next Date"),b.Xb(),b.Yb(27,"th"),b.Wc(28,"Status"),b.Xb(),b.Xb(),b.Xb(),b.Yb(29,"tbody"),b.Uc(30,Tn,12,8,"tr",43),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(6),b.vc("value",b.rc(7,2,n.listdate,"yyyy-MM-dd")),b.Db(24),b.vc("ngForOf",n.list)}}new Date;var Fn=function(){function t(t,e,i,n,r,o,c,a){this.acc=t,this.adm=e,this.modalService=i,this.crm=n,this.spinner=r,this.router=o,this.toastr=c,this.inv=a,this.opened=!1,this.listdate=new Date,this.seq="",this.custid=null,this.customer={customerid:0,customername:"",mobile:"",email:"",pendingamt:null,prevcommnets:"",prevseq:"",prevdate:null,prevmode:"",prevcaller:""},this.customercomments="",this.callercomments="",this.nextcallmode=0,this.currentcallmode=0,this.nextcalldate=new Date,this.requirementsAdd(),this.listAdd()}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.opened=!0},t.prototype.makeCle=function(){},t.prototype.close=function(){this.opened=!1},t.prototype.parseDate=function(t){return t?new Date(t):null},t.prototype.requirementsAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.crmFollowupRequirements().subscribe((function(e){var i=e;t.customers=i.details,t.seq=i.seq,console.log(t.customers),t.spinner.hide()}))},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.crmFollowupList(this.adm.stringData(this.listdate)).subscribe((function(e){t.list=e,t.spinner.hide()}))},t.prototype.findCustomerDetails=function(){var t=this,e=this.customers.filter((function(e){return e.customerid==+t.custid}));this.customer=e.length>0?e[0]:{}},t.prototype.save=function(){var t=this,e={CustomerId:+this.custid,CustomerName:this.customer.customername,CustomerComments:this.customercomments,CallerComments:this.callercomments,CallType:+this.currentcallmode,NextCallDate:new Date(this.adm.stringData(this.nextcalldate))};this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.setFollowUp(e).subscribe((function(e){var i=e;"OK"==i.result?(t.adm.showMessage("Call details saved Successfully","Success",1),t.listAdd(),t.requirementsAdd()):t.adm.showMessage(i.result,"Error",4),t.spinner.hide()}))},t.\u0275fac=function(e){return new(e||t)(b.Sb(c.a),b.Sb(a.a),b.Sb(X.r),b.Sb(T),b.Sb(r.c),b.Sb(o.c),b.Sb($.b),b.Sb(mi.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-post-follow-up"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","80%"],["align","right",2,"width","20%"],[2,"width","70%"],["type","text","disabled","",1,"form-control",2,"width","50%",3,"value"],["id","cmbsupplier",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"width","10%"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","100%"],[2,"width","35%"],["type","text","disabled","",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[2,"width","15%"],["align","right",2,"width","15%"],[2,"width","50%"],["type","text","disabled","",1,"form-control",2,"width","100%",3,"value"],["type","text","disabled","",1,"form-control",2,"width","100%"],["disabled","","rows","3",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["rows","3",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["type","date",1,"form-control",3,"value","input"],["type","button","class","btn btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-info","mr-1","mb-1",3,"click"],["type","button",1,"btn","btn-dark","mb-1",3,"click"],["customContent",""],[3,"value"],["type","button",1,"btn","btn-danger","mr-1","mb-1",3,"disabled","click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table","m-0",2,"width","99%"],[1,"thead-light"],[2,"width","90%"],[2,"width","40%"],[2,"width","20%"],["align","right",2,"width","40%"],["type","button",1,"btn","btn-success","mr-1","mb-1",3,"click"],[1,"table","m-0",2,"width","90%"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,On,137,23,"div",0),b.Uc(2,Pn,31,5,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,gi.a,d.q,d.t,n.o,d.c,d.z,d.u,d.B,gi.g],pipes:[n.f,n.e],styles:[""]}),t}(),Ln=function(){function t(t,e){this.adm=t,this.http=e}return t.prototype.getSaleReturns=function(t,e){var i={frmDate:t,toDate:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/RMPostSaleReports/GetSaleReturns",i,this.adm.makeConfig())},t.prototype.getSnapShot=function(){return this.http.post(this.adm.getActualURL()+"api/CRMPostSaleReports/CRMRepCustomerSnapShot",this.adm.getUserCompleteInformation().usr,this.adm.makeConfig())},t.prototype.getAgings=function(){return this.http.post(this.adm.getActualURL()+"api/CRMPostSaleReports/CRMRepCustomerAgingDetails",this.adm.getUserCompleteInformation().usr,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Nn(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",23),b.Wc(2),b.Xb(),b.Yb(3,"td",20),b.Wc(4),b.Xb(),b.Yb(5,"td",21),b.Wc(6),b.Xb(),b.Yb(7,"td",21),b.Wc(8),b.Xb(),b.Yb(9,"td",21),b.Wc(10),b.Xb(),b.Yb(11,"td",21),b.Wc(12),b.Xb(),b.Yb(13,"td",21),b.Wc(14),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.dat),b.Db(2),b.Xc(i.opb),b.Db(2),b.Xc(i.pur),b.Db(2),b.Xc(i.ret),b.Db(2),b.Xc(i.cno),b.Db(2),b.Xc(i.pay)}}function qn(t,e){if(1&t&&(b.Yb(0,"section",2),b.Yb(1,"div",3),b.Yb(2,"div",4),b.Yb(3,"div",5),b.Yb(4,"div",6),b.Yb(5,"h4",7),b.Wc(6,"Customer Aging Details"),b.Xb(),b.Yb(7,"div",8),b.Yb(8,"div",9),b.Tb(9,"i",10),b.Yb(10,"div",11),b.Yb(11,"a",12),b.Wc(12,"Download Pdf"),b.Xb(),b.Yb(13,"a",13),b.Wc(14,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"div",14),b.Yb(16,"div",15),b.Yb(17,"div",16),b.Yb(18,"table",17),b.Yb(19,"thead",18),b.Yb(20,"tr"),b.Yb(21,"th",19),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th",20),b.Wc(24,"Supplier"),b.Xb(),b.Yb(25,"th",21),b.Wc(26,"0-30"),b.Xb(),b.Yb(27,"th",21),b.Wc(28,"30-60"),b.Xb(),b.Yb(29,"th",21),b.Wc(30,"60-90"),b.Xb(),b.Yb(31,"th",21),b.Wc(32,">90"),b.Xb(),b.Yb(33,"th",21),b.Wc(34,"Total"),b.Xb(),b.Xb(),b.Xb(),b.Yb(35,"tbody"),b.Uc(36,Nn,15,7,"tr",22),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(11),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc),b.Db(23),b.vc("ngForOf",i.parties)}}function Bn(t,e){1&t&&(b.Yb(0,"span"),b.Yb(1,"h2"),b.Wc(2,"Please verify your authorization"),b.Xb(),b.Xb())}var En=function(){function t(t,e,i,n,r){this.pur=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.searchtext="",this.authCheck=!1,this.adm.screenCheck(2,11,4,0)?(this.listAdd(),this.authCheck=!0):(this.authCheck=!1,this.router.navigateByUrl("purchases/purunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.pur.getAgings().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return this.parties=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile,this.spinner.hide(),console.log(t),[2]}))}))}))},t.prototype.makePdf=function(){this.adm.makePdf(this.pdffile)},t.prototype.makeExcel=function(){this.adm.makeExcel(this.excelfile)},t.\u0275fac=function(e){return new(e||t)(b.Sb(Ln),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-post-rep-customer-aging"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"width","5%"],[2,"width","25%"],[2,"width","14%"],[4,"ngFor","ngForOf"],["scope","row",2,"width","5%"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,qn,37,3,"section",0),b.Uc(2,Bn,3,0,"span",1)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}();function Gn(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",24),b.Wc(2),b.Xb(),b.Yb(3,"td",20),b.Wc(4),b.Xb(),b.Yb(5,"td",21),b.Wc(6),b.Xb(),b.Yb(7,"td",21),b.Wc(8),b.Xb(),b.Yb(9,"td",21),b.Wc(10),b.Xb(),b.Yb(11,"td",21),b.Wc(12),b.Xb(),b.Yb(13,"td",21),b.Wc(14),b.Xb(),b.Yb(15,"td",21),b.Wc(16),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.dat),b.Db(2),b.Xc(i.opb),b.Db(2),b.Xc(i.pur),b.Db(2),b.Xc(i.ret),b.Db(2),b.Xc(i.cno),b.Db(2),b.Xc(i.pay),b.Db(2),b.Xc(i.clb)}}function zn(t,e){if(1&t&&(b.Yb(0,"section",2),b.Yb(1,"div",3),b.Yb(2,"div",4),b.Yb(3,"div",5),b.Yb(4,"div",6),b.Yb(5,"h4",7),b.Wc(6,"Supplier Snap Shot"),b.Xb(),b.Yb(7,"div",8),b.Yb(8,"div",9),b.Tb(9,"i",10),b.Yb(10,"div",11),b.Yb(11,"a",12),b.Wc(12,"Download Pdf"),b.Xb(),b.Yb(13,"a",13),b.Wc(14,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"div",14),b.Yb(16,"div",15),b.Yb(17,"div",16),b.Yb(18,"table",17),b.Yb(19,"thead",18),b.Yb(20,"tr"),b.Yb(21,"th",19),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th",20),b.Wc(24,"Supplier"),b.Xb(),b.Yb(25,"th",21),b.Wc(26,"Opening"),b.Xb(),b.Yb(27,"th",22),b.Wc(28,"Purchases"),b.Xb(),b.Yb(29,"th",21),b.Wc(30,"Returns"),b.Xb(),b.Yb(31,"th",21),b.Wc(32,"Cr Notes"),b.Xb(),b.Yb(33,"th",21),b.Wc(34,"Payments"),b.Xb(),b.Yb(35,"th",21),b.Wc(36,"Closing"),b.Xb(),b.Xb(),b.Xb(),b.Yb(37,"tbody"),b.Uc(38,Gn,17,8,"tr",23),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(11),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc),b.Db(25),b.vc("ngForOf",i.parties)}}function $n(t,e){1&t&&(b.Yb(0,"span"),b.Yb(1,"h2"),b.Wc(2,"Please verify your authorization"),b.Xb(),b.Xb())}var Zn=function(){function t(t,e,i,n,r){this.pur=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.searchtext="",this.authCheck=!1,this.adm.screenCheck(2,11,4,0)?(this.listAdd(),this.authCheck=!0):(this.authCheck=!1,this.router.navigateByUrl("purchases/purunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.pur.getSnapShot().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return this.parties=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile,this.spinner.hide(),console.log(t),[2]}))}))}))},t.prototype.makePdf=function(){this.adm.makePdf(this.pdffile)},t.prototype.makeExcel=function(){this.adm.makeExcel(this.excelfile)},t.\u0275fac=function(e){return new(e||t)(b.Sb(Ln),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-post-rep-customer-snapshot"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"width","5%"],[2,"width","23%"],[2,"width","12%"],[2,"width","22%"],[4,"ngFor","ngForOf"],["scope","row",2,"width","5%"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,zn,39,3,"section",0),b.Uc(2,$n,3,0,"span",1)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}();function _n(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",25),b.Yb(2,"font",26),b.Wc(3),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(3),b.Zc(" List of Sale Returns from ",i.adm.strDate(i.fromdate)," to ",i.adm.strDate(i.todate)," ")}}function jn(t,e){1&t&&b.Tb(0,"div",27)}function Vn(t,e){if(1&t&&(b.Yb(0,"div",28),b.Yb(1,"div",29),b.Tb(2,"i",30),b.Yb(3,"div",31),b.Yb(4,"a",32),b.Wc(5,"Download Pdf"),b.Xb(),b.Yb(6,"a",33),b.Wc(7,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(4),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc)}}function Kn(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td",40),b.Wc(4),b.Xb(),b.Yb(5,"td",40),b.Wc(6),b.Xb(),b.Yb(7,"td",40),b.Wc(8),b.Xb(),b.Yb(9,"td",41),b.Wc(10),b.pc(11,"number"),b.Xb(),b.Yb(12,"td",41),b.Wc(13),b.pc(14,"number"),b.Xb(),b.Yb(15,"td",41),b.Wc(16),b.pc(17,"number"),b.Xb(),b.Yb(18,"td",41),b.Wc(19),b.pc(20,"number"),b.Xb(),b.Yb(21,"td",41),b.Wc(22),b.pc(23,"number"),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.seq),b.Db(2),b.Xc(i.dat),b.Db(2),b.Xc(i.vendorname),b.Db(2),b.Xc(b.rc(11,9,i.baseamt,"0.2")),b.Db(3),b.Xc(b.rc(14,12,i.discount,"0.2")),b.Db(3),b.Xc(b.rc(17,15,i.others,"0.2")),b.Db(3),b.Xc(b.rc(20,18,i.taxes,"0.2")),b.Db(3),b.Xc(b.rc(23,21,i.totalAmt,"0.2"))}}function Qn(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",42),b.Yb(2,"span",43),b.Wc(3," No records found "),b.Xb(),b.Xb(),b.Xb())}function Jn(t,e){if(1&t&&(b.Yb(0,"div",34),b.Yb(1,"table",35),b.Yb(2,"thead",36),b.Yb(3,"tr"),b.Yb(4,"th"),b.Wc(5,"#"),b.Xb(),b.Yb(6,"th",37),b.Wc(7,"Seq"),b.Xb(),b.Yb(8,"th",37),b.Wc(9,"Date"),b.Xb(),b.Yb(10,"th",37),b.Wc(11,"Customer"),b.Xb(),b.Yb(12,"th",38),b.Wc(13,"Base "),b.Xb(),b.Yb(14,"th",38),b.Wc(15,"Discount"),b.Xb(),b.Yb(16,"th",38),b.Wc(17,"Others"),b.Xb(),b.Yb(18,"th",38),b.Wc(19,"Taxes"),b.Xb(),b.Yb(20,"th",38),b.Wc(21,"Total"),b.Xb(),b.Xb(),b.Xb(),b.Yb(22,"tbody"),b.Uc(23,Kn,24,24,"tr",39),b.Uc(24,Qn,4,0,"tr",19),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(23),b.vc("ngForOf",i.details),b.Db(1),b.vc("ngIf",i.details.length<=0)}}var Hn=new Date,tr=function(){function t(t,e,i,n,r){this.pur=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.fromdate={year:Hn.getFullYear(),month:Hn.getMonth()+1,day:Hn.getDate()},this.todate={year:Hn.getFullYear(),month:Hn.getMonth()+1,day:Hn.getDate()},this.adm.screenCheck(2,11,3,0)?this.authCheck=!0:(this.authCheck=!1,this.router.navigateByUrl("fo/unAuthorize"))}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.pur.getSaleReturns(this.adm.strDate(this.fromdate),this.adm.strDate(this.todate)).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return t=e,console.log(t),t&&(this.details=t.details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile),this.spinner.hide(),[2]}))}))}))},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(b.Sb(Ln),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-post-rep-sale-returns"]],decls:44,vars:6,consts:[[1,"card-title"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[2,"width","100%"],[2,"width","20%"],[2,"width","10%"],[2,"width","50%"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d1","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["placeholder","yyyy-mm-dd","name","dp1","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],[4,"ngIf"],["style","width: 100%; height: 300px;",4,"ngIf"],["class","position-relative float-right",4,"ngIf"],[1,"card-content"],[1,"card-body"],["class","table-responsive",4,"ngIf"],["colspan","4"],["face","Arial","size","3","color","blue"],[2,"width","100%","height","300px"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"text-align","left"],[2,"text-align","right"],[4,"ngFor","ngForOf"],["align","left"],["align","right"],["colspan","8","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){if(1&t){var i=b.Zb();b.Tb(0,"ngx-spinner"),b.Yb(1,"h3",0),b.Wc(2,"List of Sale Returns"),b.Xb(),b.Yb(3,"section",1),b.Yb(4,"div",2),b.Yb(5,"div",3),b.Yb(6,"div",4),b.Yb(7,"div",5),b.Yb(8,"table",6),b.Yb(9,"tr"),b.Yb(10,"td",7),b.Wc(11," From "),b.Xb(),b.Yb(12,"td",7),b.Wc(13," To "),b.Xb(),b.Yb(14,"td",8),b.Wc(15," \xa0 "),b.Xb(),b.Yb(16,"td",9),b.Wc(17,"\xa0"),b.Xb(),b.Xb(),b.Yb(18,"tr"),b.Yb(19,"td",7),b.Yb(20,"div",10),b.Yb(21,"input",11,12),b.kc("ngModelChange",(function(t){return e.fromdate=t})),b.Xb(),b.Yb(23,"div",13),b.Yb(24,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(22).toggle()})),b.Tb(25,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(26,"td",7),b.Yb(27,"div",10),b.Yb(28,"input",16,17),b.kc("ngModelChange",(function(t){return e.todate=t})),b.Xb(),b.Yb(30,"div",13),b.Yb(31,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(29).toggle()})),b.Tb(32,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(33,"td",8),b.Yb(34,"button",18),b.kc("click",(function(){return e.listAdd()})),b.Wc(35,"Show"),b.Xb(),b.Xb(),b.Yb(36,"td",9),b.Wc(37,"\xa0"),b.Xb(),b.Xb(),b.Uc(38,_n,4,2,"tr",19),b.Xb(),b.Uc(39,jn,1,0,"div",20),b.Uc(40,Vn,8,2,"div",21),b.Xb(),b.Yb(41,"div",22),b.Yb(42,"div",23),b.Uc(43,Jn,25,2,"div",24),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}2&t&&(b.Db(21),b.vc("ngModel",e.fromdate),b.Db(7),b.vc("ngModel",e.todate),b.Db(10),b.vc("ngIf",e.details),b.Db(1),b.vc("ngIf",!e.details),b.Db(1),b.vc("ngIf",e.details),b.Db(3),b.vc("ngIf",e.details))},directives:[r.a,X.q,d.c,d.q,d.t,n.p,X.l,X.o,X.n,n.o],pipes:[n.f],styles:[""]}),t}(),er=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getSaleReturnRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMSaleReturns/GetSaleReturnRequirements",t,this.adm.makeConfig())},t.prototype.getSaleReturnSalesList=function(t,e){var i={frmDate:t,toDate:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMSaleReturns/GetSales",i,this.adm.makeConfig())},t.prototype.getSaleReturnSaleInfo=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMSaleReturns/GetSale",e,this.adm.makeConfig())},t.prototype.setSaleReturn=function(t,e,i,n){var r={header:t,lines:e,taxes:i,traCheck:n,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMSaleReturns/SetSaleReturn",r,this.adm.makeConfig())},t.prototype.deleteSaleReturn=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMSaleReturns/DeleteSaleReturn",e,this.adm.makeConfig())},t.prototype.getSaleReturns=function(t){var e={frmDate:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMSaleReturns/GetSaleReturns",e,this.adm.makeConfig())},t.prototype.getReceipts=function(t){var e={frmDate:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMReceipts/GetReceipts",e,this.adm.makeConfig())},t.prototype.setReceipt=function(t,e){var i={header:t,lines:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMReceipts/SetPartyReceipt",i,this.adm.makeConfig())},t.prototype.deleteReceipt=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMReceipts/DeletePartyReceipt",e,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function ir(t,e){if(1&t&&(b.Yb(0,"option",37),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Xc(i.partyName)}}function nr(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td",38),b.Wc(2),b.Xb(),b.Yb(3,"td",38),b.Yb(4,"input",39),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.chk=t}))("change",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).makeChange(t)})),b.Xb(),b.Xb(),b.Yb(5,"td",6),b.Wc(6),b.Xb(),b.Yb(7,"td",40),b.Wc(8),b.pc(9,"date"),b.Xb(),b.Yb(10,"td",41),b.Wc(11),b.pc(12,"number"),b.Xb(),b.Yb(13,"td",41),b.Wc(14),b.pc(15,"number"),b.Xb(),b.Yb(16,"td",41),b.Wc(17),b.pc(18,"number"),b.Xb(),b.Yb(19,"td",41),b.Wc(20),b.pc(21,"number"),b.Xb(),b.Yb(22,"td",41),b.Wc(23),b.pc(24,"number"),b.Xb(),b.Yb(25,"td",41),b.Wc(26),b.pc(27,"number"),b.Xb(),b.Yb(28,"td",41),b.Yb(29,"input",42),b.kc("input",(function(){return b.Mc(i),b.oc(2).makeCalculations()}))("ngModelChange",(function(t){return b.Mc(i),e.$implicit.amt=t})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.xc("id","checkbox",r,""),b.vc("ngModel",n.chk),b.Db(2),b.Xc(n.billno),b.Db(2),b.Xc(b.rc(9,13,n.dat,"dd-MMM-yy")),b.Db(3),b.Xc(b.rc(12,16,n.traamt,"0.2")),b.Db(3),b.Xc(b.rc(15,19,n.credamt,"0.2")),b.Db(3),b.Xc(b.rc(18,22,n.purreturn,"0.2")),b.Db(3),b.Xc(b.rc(21,25,n.crnote,"0.2")),b.Db(3),b.Xc(b.rc(24,28,n.paid,"0.2")),b.Db(3),b.Xc(b.rc(27,31,n.balance,"0.2")),b.Db(3),b.vc("disabled",!n.chk)("ngModel",n.amt)}}function rr(t,e){if(1&t&&(b.Yb(0,"option",37),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.accountId),b.Db(1),b.Xc(i.accountname)}}function or(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," Receipt Details "),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",2),b.Yb(6,"select",3),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().customerid=t})),b.Yb(7,"option",4),b.Wc(8,"--Select--"),b.Xb(),b.Uc(9,ir,2,2,"option",5),b.Xb(),b.Xb(),b.Yb(10,"td",6),b.Yb(11,"button",7),b.kc("click",(function(){return b.Mc(i),b.oc().showDet()})),b.Wc(12,"Show"),b.Xb(),b.Xb(),b.Xb(),b.Yb(13,"tr"),b.Yb(14,"td",8),b.Wc(15," \xa0 "),b.Xb(),b.Yb(16,"td",9),b.Yb(17,"input",10),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().amtadjust=t})),b.Xb(),b.Xb(),b.Yb(18,"td",6),b.Yb(19,"button",11),b.kc("click",(function(){return b.Mc(i),b.oc().makeAdjustments()})),b.Wc(20,"Adjust"),b.Xb(),b.Xb(),b.Xb(),b.Yb(21,"tr"),b.Yb(22,"td",12),b.Yb(23,"div",13),b.Yb(24,"table",14),b.Yb(25,"thead",15),b.Yb(26,"tr"),b.Yb(27,"th",16),b.Wc(28,"# "),b.Xb(),b.Yb(29,"th",16),b.Yb(30,"input",17),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().selall=t}))("change",(function(){return b.Mc(i),b.oc().makeTotalSelection()})),b.Xb(),b.Xb(),b.Yb(31,"th",18),b.Wc(32,"Bill "),b.Xb(),b.Yb(33,"th",19),b.Wc(34,"Date "),b.Xb(),b.Yb(35,"th",20),b.Wc(36,"Actaul Amt "),b.Xb(),b.Yb(37,"th",20),b.Wc(38,"Pending Amt"),b.Xb(),b.Yb(39,"th",20),b.Wc(40,"Return Amt"),b.Xb(),b.Yb(41,"th",20),b.Wc(42,"Debit Note"),b.Xb(),b.Yb(43,"th",20),b.Wc(44,"Paid Amt"),b.Xb(),b.Yb(45,"th",20),b.Wc(46,"Balance Amt"),b.Xb(),b.Yb(47,"th",20),b.Wc(48,"Amount"),b.Xb(),b.Xb(),b.Xb(),b.Yb(49,"tbody"),b.Uc(50,nr,30,34,"tr",21),b.Xb(),b.Xb(),b.Xb(),b.Yb(51,"table",22),b.Yb(52,"tr"),b.Yb(53,"td",23),b.Wc(54," Total Amount "),b.Xb(),b.Yb(55,"td",24),b.Yb(56,"input",25),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().amt=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(57,"tr"),b.Yb(58,"td",23),b.Wc(59," Rebate "),b.Xb(),b.Yb(60,"td",24),b.Yb(61,"input",26),b.kc("input",(function(){return b.Mc(i),b.oc().makeTotals()}))("ngModelChange",(function(t){return b.Mc(i),b.oc().rebate=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(62,"tr"),b.Yb(63,"td",23),b.Wc(64," Other Deductions "),b.Xb(),b.Yb(65,"td",24),b.Yb(66,"input",26),b.kc("input",(function(){return b.Mc(i),b.oc().makeTotals()}))("ngModelChange",(function(t){return b.Mc(i),b.oc().others=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(67,"tr"),b.Yb(68,"td",23),b.Wc(69," Amount to be paid "),b.Xb(),b.Yb(70,"td",24),b.Yb(71,"input",25),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().recamt=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(72,"tr"),b.Yb(73,"td",23),b.Wc(74," Payment Mode "),b.Xb(),b.Yb(75,"td",24),b.Yb(76,"select",27),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().paymentmode=t}))("change",(function(){return b.Mc(i),b.oc().filterAccounts()})),b.Yb(77,"option",28),b.Wc(78,"--Select--"),b.Xb(),b.Yb(79,"option",29),b.Wc(80,"Cash"),b.Xb(),b.Yb(81,"option",30),b.Wc(82,"Card"),b.Xb(),b.Yb(83,"option",31),b.Wc(84,"Cheque"),b.Xb(),b.Yb(85,"option",32),b.Wc(86,"On line"),b.Xb(),b.Yb(87,"option",33),b.Wc(88,"Mobile Wallet"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(89,"tr"),b.Yb(90,"td",23),b.Wc(91," Reverse Account "),b.Xb(),b.Yb(92,"td",24),b.Yb(93,"select",3),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().revereseAccount=t})),b.Yb(94,"option",34),b.Wc(95,"--Select--"),b.Xb(),b.Uc(96,rr,2,2,"option",5),b.Xb(),b.Xb(),b.Xb(),b.Yb(97,"tr"),b.Yb(98,"td",2),b.Yb(99,"button",35),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(100,"Submit"),b.Xb(),b.Yb(101,"button",36),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(102,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(6),b.vc("ngModel",n.customerid),b.Db(3),b.vc("ngForOf",n.customers),b.Db(8),b.vc("ngModel",n.amtadjust),b.Db(13),b.vc("ngModel",n.selall),b.Db(20),b.vc("ngForOf",n.details),b.Db(6),b.vc("ngModel",n.amt),b.Db(5),b.vc("ngModel",n.rebate),b.Db(5),b.vc("ngModel",n.others),b.Db(5),b.vc("ngModel",n.recamt),b.Db(5),b.vc("ngModel",n.paymentmode),b.Db(17),b.vc("ngModel",n.revereseAccount),b.Db(3),b.vc("ngForOf",n.accounts),b.Db(3),b.vc("disabled",!n.creCheck)}}function cr(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",56),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td",57),b.Wc(8),b.pc(9,"number"),b.Xb(),b.Yb(10,"td",57),b.Wc(11),b.pc(12,"number"),b.Xb(),b.Yb(13,"td",57),b.Wc(14),b.pc(15,"number"),b.Xb(),b.Yb(16,"td",57),b.Wc(17),b.pc(18,"number"),b.Xb(),b.Yb(19,"td"),b.Wc(20),b.Xb(),b.Yb(21,"td"),b.Yb(22,"i",58),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).deleteReceipt(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.seq),b.Db(2),b.Xc(n.branchId),b.Db(2),b.Xc(b.rc(9,8,n.baseAmt,"0.2")),b.Db(3),b.Xc(b.rc(12,11,n.rebate,"0.2")),b.Db(3),b.Xc(b.rc(15,14,n.others,"0.2")),b.Db(3),b.Xc(b.rc(18,17,n.receiptAmt,"0.2")),b.Db(3),b.Xc(n.modeOfPayment)}}function ar(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Payments "),b.Xb(),b.Yb(3,"table",43),b.Yb(4,"tr"),b.Yb(5,"td",44),b.Yb(6,"div",45),b.Yb(7,"input",46,47),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().listdate=t})),b.Xb(),b.Yb(9,"div",48),b.Yb(10,"div",49),b.kc("click",(function(){return b.Mc(i),b.Jc(8).toggle()})),b.Tb(11,"i",50),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"td",51),b.Yb(13,"button",52),b.kc("click",(function(){return b.Mc(i),b.oc().listAdd()})),b.Wc(14,"Show"),b.Xb(),b.Xb(),b.Yb(15,"td",51),b.Yb(16,"button",53),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(17,"New"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"table",54),b.Yb(19,"thead",15),b.Yb(20,"tr"),b.Yb(21,"th"),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th"),b.Wc(24,"Voucher"),b.Xb(),b.Yb(25,"th"),b.Wc(26,"Supplier"),b.Xb(),b.Yb(27,"th",55),b.Wc(28,"Base Amt"),b.Xb(),b.Yb(29,"th",55),b.Wc(30,"Rebate"),b.Xb(),b.Yb(31,"th",55),b.Wc(32,"Others"),b.Xb(),b.Yb(33,"th",55),b.Wc(34,"Received"),b.Xb(),b.Yb(35,"th"),b.Wc(36,"Mode"),b.Xb(),b.Tb(37,"th"),b.Xb(),b.Xb(),b.Yb(38,"tbody"),b.Uc(39,cr,23,20,"tr",21),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(7),b.vc("ngModel",n.listdate)("disabled",!n.dateCheck),b.Db(32),b.vc("ngForOf",n.receipts)}}var sr=new Date,br=function(){function t(t,e,i,n,r,o){this.adm=t,this.pur=e,this.acc=i,this.par=n,this.router=r,this.spinner=o,this.opened=!1,this.dateCheck=!1,this.creCheck=!1,this.delCheck=!1,this.listdate={year:sr.getFullYear(),month:sr.getMonth()+1,day:sr.getDate()},this.details=[],this.customers=[],this.customerid=-1,this.amtadjust=0,this.amt=0,this.tds=0,this.rebate=0,this.others=0,this.recamt=0,this.paymentmode=" ",this.selall=!1,this.revereseAccount=0,this.adm.screenCheck(2,3,4,0)?(this.creCheck=this.adm.screenCheck(2,3,4,1),this.delCheck=this.adm.screenCheck(2,3,4,3),this.getParties(),this.listAdd(),this.getTotalAccounts()):this.router.navigateByUrl("purchases/unauthorize")}return t.prototype.openNew=function(){this.makeCle(),this.opened=!0},t.prototype.close=function(){this.opened=!1},t.prototype.makeCle=function(){this.customerid=0,this.details=[],this.amt=0,this.rebate=0,this.others=0,this.paymentmode=" ",this.recamt=0,this.filterAccounts(),this.revereseAccount=0},t.prototype.ngOnInit=function(){},t.prototype.getParties=function(){var t=this;this.par.getPartyDetails("CUS").subscribe((function(e){for(var i=e.parties,n=0;n<i.length;n++)t.customers.push({recordId:i[n].recordId,partyName:i[n].partyName,gst:i[n].gst,mobile:i[n].mobile})}))},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.pur.getReceipts(this.adm.strDate(this.listdate)).subscribe((function(e){t.receipts=e,t.spinner.hide()}))},t.prototype.deleteReceipt=function(t){var e=this;g.a.fire({title:"Deletes Group Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(i){i.value&&(e.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),e.pur.deleteReceipt(t.recordId).subscribe((function(t){var i=t;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Payment Details Deleted.","success"),e.listAdd()):g.a.fire(i.result,"Error in transaction.","error"),e.spinner.hide()})))}))},t.prototype.valCheck=function(){return+this.customerid<=0?(this.adm.showMessage("Customer not Selected","Warning",3),!1):0==this.amt?(this.adm.showMessage("Select Bills to be payed","Warning",3),!1):!(0!=this.recamt&&this.revereseAccount<=0&&(this.adm.showMessage("Reverse Account not selected","Warning",3),1))},t.prototype.save=function(){var t=this;this.valCheck()&&g.a.fire({title:"Confirms Receipt Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});for(var i={PartyId:+t.customerid,BaseAmt:t.amt,Tds:t.tds,Rebate:t.rebate,Others:t.others,ReceiptAmt:t.recamt,ModeOfPayment:t.paymentmode,RevAccount:+t.revereseAccount},n=[],r=0;r<t.details.length;r++)t.details[r].chk&&t.details[r].amt>0&&n.push({TransactionType:"REC",PartyId:+t.customerid,PartyName:t.findPartyName(),TransactionAmt:+t.details[r].amt,PendingAmount:0,ReturnAmount:0,CreditNote:0,PaymentAmount:+t.details[r].amt,Descriptio:" ",OnTraId:+t.details[r].recordid});t.pur.setReceipt(i,n).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Payment Details Saved.","success"),t.listAdd(),t.makeCle()):g.a.fire(i.result,"Error in transaction.","error"),t.spinner.hide()}))}}))},t.prototype.findPartyName=function(){var t=this,e=this.customers.filter((function(e){return e.recordId=+t.customerid}));return e.length>0?e[0].partyName:" "},t.prototype.makeTotalSelection=function(){for(var t=0;t<this.details.length;t++)this.details[t].chk=this.selall,this.details[t].amt=this.selall?this.details[t].balance:0;this.makeCalculations()},t.prototype.makeChange=function(t){t.amt=t.chk?t.balance:0,this.makeCalculations()},t.prototype.makeCalculations=function(){this.amt=0;for(var t=0;t<this.details.length;t++)this.details[t].chk&&(this.amt=this.amt+(this.details[t].amt?this.details[t].amt:0));this.makeTotals()},t.prototype.makeTotals=function(){this.recamt=this.amt-this.tds-this.rebate-this.others},t.prototype.makeAdjustments=function(){for(var t=0;t<this.details.length;t++)this.details[t].chk=!1,this.details[t].amt=0;var e=this.amtadjust;for(t=0;t<this.details.length;t++)e>0&&(this.details[t].chk=!0,this.details[t].amt=this.details[t].balance<=e?this.details[t].balance:e,e-=this.details[t].amt);this.makeCalculations()},t.prototype.showDet=function(){var t=this;+this.customerid>0?(this.selall=!1,this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.par.GetCustomerCompletePendingBalances(+this.customerid).subscribe((function(e){var i=e;t.details=[];for(var n=0;n<i.length;n++)t.details.push({recordid:i[n].transactionId,billno:i[n].branchId,dat:i[n].dat,traamt:i[n].transactionAmt,credamt:i[n].pendingAmount,purreturn:i[n].returnAmount,crnote:i[n].creditNote,paid:i[n].paymentAmount,balance:+i[n].username,amt:0,chk:!1});t.spinner.hide()}))):this.adm.showMessage("Select Supplier","Warning",3)},t.prototype.getTotalAccounts=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.acc.getAccounts().subscribe((function(e){var i=e;t.totalaccounts=i.filter((function(t){return"CAS"==t.actype||"BAN"==t.actype||"MOB"==t.actype})),t.spinner.hide(),console.log("accounts",t.totalaccounts,i)}))},t.prototype.filterAccounts=function(){this.accounts=[],"CASH"==this.paymentmode&&(this.accounts=this.totalaccounts.filter((function(t){return"CAS"==t.actype}))),"CARD"!=this.paymentmode&&"CHEQUE"!=this.paymentmode&&"ONLINE"!=this.paymentmode||(this.accounts=this.totalaccounts.filter((function(t){return"BAN"==t.actype}))),"M_WALLET"==this.paymentmode&&(this.accounts=this.totalaccounts.filter((function(t){return"MOB"==t.actype})))},t.\u0275fac=function(e){return new(e||t)(b.Sb(a.a),b.Sb(er),b.Sb(c.a),b.Sb(O.a),b.Sb(o.c),b.Sb(r.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-post-sale-bill-clearances"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","90%"],["colspan","2"],[1,"form-control",3,"ngModel","ngModelChange"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],[2,"width","10%"],[1,"btn","btn-primary",2,"width","100%",3,"click"],[2,"width","50%"],[2,"width","40%"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-info",2,"width","100%",3,"click"],["colspan","3"],[2,"width","100%","height","400px","overflow-y","scroll"],[1,"table","m-6",2,"width","100%"],[1,"thead-light"],[2,"text-align","left","width","4%"],["type","checkbox","id","chk11",3,"ngModel","ngModelChange","change"],[2,"text-align","left","width","10%"],[2,"text-align","left","width","12%"],[2,"text-align","right","width","10%"],[4,"ngFor","ngForOf"],[2,"width","100%"],["align","right",2,"width","84%"],["align","right",2,"width","16%"],["type","number","disabled","",1,"form-control",2,"text-align","right",3,"ngModel","ngModelChange"],["type","number",1,"form-control",2,"text-align","right",3,"ngModel","input","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value"," "],["value","CASH"],["value","CARD"],["value","CHEQUE"],["value","ONLINE"],["value","M_WALLET"],["value","0"],["type","button",1,"btn-lg","btn-info","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],[3,"value"],[2,"width","4%"],["type","checkbox",3,"id","ngModel","ngModelChange","change"],[2,"width","12%"],["align","right",2,"width","10%"],["type","number",1,"form-control",2,"text-align","right",3,"disabled","ngModel","input","ngModelChange"],[2,"width","80%"],["align","right",2,"width","40%"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","disabled","ngModelChange"],["d1","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["align","left",2,"width","25%"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],["type","button",1,"btn","btn-success","mr-1","mb-1",3,"click"],[1,"table","m-0",2,"width","99%"],[2,"text-align","right"],["scope","row"],["align","right"],[1,"ft-trash","font-medium-1",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,or,103,13,"div",0),b.Uc(2,ar,40,3,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,d.z,d.q,d.t,d.u,d.B,n.o,d.v,d.c,d.b,X.q],pipes:[n.e,n.f],styles:[""]}),t}(),dr=i("4MsD");function lr(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Yb(9,"td"),b.Wc(10),b.Xb(),b.Yb(11,"td"),b.Wc(12),b.Xb(),b.Yb(13,"td"),b.Wc(14),b.Xb(),b.Yb(15,"td"),b.Wc(16),b.Xb(),b.Yb(17,"td"),b.Yb(18,"input",27),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.returned=t}))("input",(function(){return b.Mc(i),b.oc(2).makeCalculations()})),b.Xb(),b.Xb(),b.Yb(19,"td"),b.Wc(20),b.Xb(),b.Yb(21,"td"),b.Wc(22),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit;b.Db(2),b.Xc(n.sno),b.Db(2),b.Xc(n.itemname),b.Db(2),b.Xc(n.batchno),b.Db(2),b.Xc(n.manudate),b.Db(2),b.Xc(n.expdate),b.Db(2),b.Xc(n.qty),b.Db(2),b.Xc(n.qtyout),b.Db(2),b.Xc(n.available),b.Db(2),b.vc("ngModel",n.returned),b.Db(2),b.Xc(n.rat),b.Db(2),b.Xc(n.um)}}function ur(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",28),b.kc("click",(function(){return b.Mc(i),b.oc(2).savePurchase()})),b.Wc(1,"Submit"),b.Xb()}}function hr(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",29),b.kc("click",(function(){return b.Mc(i),b.oc(2).deletePurchase()})),b.Wc(1,"Delete"),b.Xb()}}function pr(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.pc(7,"date"),b.Xb(),b.Yb(8,"td"),b.Wc(9),b.pc(10,"number"),b.Xb(),b.Yb(11,"td"),b.Wc(12),b.pc(13,"number"),b.Xb(),b.Yb(14,"td"),b.Yb(15,"i",38),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(3).getPurchase(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit;b.Db(2),b.Xc(n.seq),b.Db(2),b.Xc(n.partyName),b.Db(2),b.Xc(b.rc(7,5,n.dat,"dd-MMM-yy")),b.Db(3),b.Xc(b.rc(10,8,n.baseamt,"0.2")),b.Db(3),b.Xc(b.rc(13,11,n.totalAmt,"0.2"))}}function mr(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div",30),b.Yb(1,"h6",31),b.Wc(2,"Sales"),b.Xb(),b.Yb(3,"button",32),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(4,"span",33),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",34),b.Yb(7,"table",1),b.Yb(8,"tr"),b.Yb(9,"td",35),b.Wc(10,"From"),b.Xb(),b.Yb(11,"td",3),b.Yb(12,"input",36),b.kc("input",(function(t){b.Mc(i);var e=b.oc(2);return e.fromdate=e.parseDate(t.target.value)})),b.pc(13,"date"),b.Xb(),b.Xb(),b.Yb(14,"td",35),b.Wc(15,"To"),b.Xb(),b.Yb(16,"td",3),b.Yb(17,"input",36),b.kc("input",(function(t){b.Mc(i);var e=b.oc(2);return e.todate=e.parseDate(t.target.value)})),b.pc(18,"date"),b.Xb(),b.Xb(),b.Yb(19,"td",6),b.Yb(20,"button",37),b.kc("click",(function(){return b.Mc(i),b.oc(2).purchasesAdd()})),b.Wc(21,"Show"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(22,"table",14),b.Yb(23,"thead",15),b.Yb(24,"tr"),b.Yb(25,"th"),b.Wc(26,"Invoice"),b.Xb(),b.Yb(27,"th"),b.Wc(28,"Customer"),b.Xb(),b.Yb(29,"th"),b.Wc(30,"Date"),b.Xb(),b.Yb(31,"th"),b.Wc(32,"Base"),b.Xb(),b.Yb(33,"th"),b.Wc(34,"Total"),b.Xb(),b.Yb(35,"th"),b.Wc(36,"\xa0"),b.Xb(),b.Xb(),b.Xb(),b.Yb(37,"tbody"),b.Uc(38,pr,16,14,"tr",16),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(12),b.vc("value",b.rc(13,3,n.fromdate,"yyyy-MM-dd")),b.Db(5),b.vc("value",b.rc(18,6,n.todate,"yyyy-MM-dd")),b.Db(21),b.vc("ngForOf",n.purchases)}}function fr(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Yb(6,"input",39),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.taxvalue=t}))("input",(function(){return b.Mc(i),b.oc(4).makeTaxes()})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit;b.Db(2),b.Xc(n.taxCode),b.Db(2),b.Xc(n.taxPer),b.Db(2),b.vc("ngModel",n.taxvalue)}}function gr(t,e){if(1&t&&(b.Yb(0,"div"),b.Yb(1,"table",14),b.Yb(2,"thead",15),b.Yb(3,"tr"),b.Yb(4,"th"),b.Wc(5,"Tax"),b.Xb(),b.Yb(6,"th"),b.Wc(7,"Tax%"),b.Xb(),b.Yb(8,"th"),b.Wc(9,"Tax"),b.Xb(),b.Xb(),b.Xb(),b.Yb(10,"tbody"),b.Uc(11,fr,7,3,"tr",16),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc(3);b.Db(11),b.vc("ngForOf",i.taxes)}}function Xr(t,e){if(1&t&&(b.Yb(0,"div",30),b.Yb(1,"h6",31),b.Wc(2),b.Xb(),b.Yb(3,"button",32),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(4,"span",33),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",34),b.Uc(7,gr,12,1,"div",0),b.Xb()),2&t){var i=b.oc(2);b.Db(2),b.Xc(i.title),b.Db(5),b.vc("ngIf","Taxes"==i.title)}}function Yr(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2,"Sale Return Details"),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",2),b.Wc(6," Transaction Date "),b.Xb(),b.Yb(7,"td",3),b.Yb(8,"input",4),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().tradat=t})),b.Xb(),b.Xb(),b.Yb(9,"td",2),b.Wc(10," Seq "),b.Xb(),b.Yb(11,"td",5),b.Yb(12,"input",4),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().seq=t})),b.Xb(),b.Xb(),b.Yb(13,"td",6),b.Yb(14,"button",7),b.kc("click",(function(){b.Mc(i);var t=b.Jc(156);return b.oc().openModal(t)})),b.Wc(15,"Sales"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(16,"table",1),b.Yb(17,"tr"),b.Yb(18,"td",2),b.Wc(19,"Invoice & Date"),b.Xb(),b.Yb(20,"td",3),b.Yb(21,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().mir=t})),b.Xb(),b.Xb(),b.Yb(22,"td",2),b.Wc(23,"Invoice No"),b.Xb(),b.Yb(24,"td",3),b.Yb(25,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().invoiceno=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(26,"tr"),b.Yb(27,"td",2),b.Wc(28,"Customer"),b.Xb(),b.Yb(29,"td",9),b.Yb(30,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.PartyName=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(31,"tr"),b.Yb(32,"td",2),b.Wc(33,"Address"),b.Xb(),b.Yb(34,"td",10),b.Yb(35,"textarea",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.Addr=t})),b.Xb(),b.Xb(),b.Yb(36,"td",2),b.Wc(37,"ZIP"),b.Xb(),b.Yb(38,"td",3),b.Yb(39,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.Zip=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(40,"tr"),b.Yb(41,"td",2),b.Wc(42,"\xa0"),b.Xb(),b.Yb(43,"td",2),b.Wc(44,"Mobile"),b.Xb(),b.Yb(45,"td",3),b.Yb(46,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.Mobile=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(47,"tr"),b.Yb(48,"td",2),b.Wc(49,"Country"),b.Xb(),b.Yb(50,"td",3),b.Yb(51,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.Country=t})),b.Xb(),b.Xb(),b.Yb(52,"td",2),b.Wc(53,"Base"),b.Xb(),b.Yb(54,"td",3),b.Tb(55,"input",12),b.pc(56,"number"),b.Xb(),b.Xb(),b.Yb(57,"tr"),b.Yb(58,"td",2),b.Wc(59,"State"),b.Xb(),b.Yb(60,"td",3),b.Yb(61,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.State=t})),b.Xb(),b.Xb(),b.Yb(62,"td",2),b.Wc(63,"Taxes"),b.Xb(),b.Yb(64,"td",3),b.Tb(65,"input",12),b.pc(66,"number"),b.Xb(),b.Xb(),b.Yb(67,"tr"),b.Yb(68,"td",2),b.Wc(69,"District"),b.Xb(),b.Yb(70,"td",3),b.Yb(71,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.District=t})),b.Xb(),b.Xb(),b.Yb(72,"td",2),b.Wc(73,"Others"),b.Xb(),b.Yb(74,"td",3),b.Tb(75,"input",12),b.pc(76,"number"),b.Xb(),b.Xb(),b.Yb(77,"tr"),b.Yb(78,"td",2),b.Wc(79,"City"),b.Xb(),b.Yb(80,"td",3),b.Yb(81,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.City=t})),b.Xb(),b.Xb(),b.Yb(82,"td",2),b.Wc(83,"Total"),b.Xb(),b.Yb(84,"td",3),b.Tb(85,"input",12),b.pc(86,"number"),b.Xb(),b.Xb(),b.Xb(),b.Yb(87,"div",13),b.Yb(88,"table",14),b.Yb(89,"thead",15),b.Yb(90,"tr"),b.Yb(91,"th"),b.Wc(92,"#"),b.Xb(),b.Yb(93,"th"),b.Wc(94,"Item"),b.Xb(),b.Yb(95,"th"),b.Wc(96,"Batch"),b.Xb(),b.Yb(97,"th"),b.Wc(98,"Manufactured"),b.Xb(),b.Yb(99,"th"),b.Wc(100,"Expiry"),b.Xb(),b.Yb(101,"th"),b.Wc(102,"Qty"),b.Xb(),b.Yb(103,"th"),b.Wc(104,"Consumed"),b.Xb(),b.Yb(105,"th"),b.Wc(106,"Available"),b.Xb(),b.Yb(107,"th"),b.Wc(108,"Returned"),b.Xb(),b.Yb(109,"th"),b.Wc(110,"Rate"),b.Xb(),b.Yb(111,"th"),b.Wc(112,"UM"),b.Xb(),b.Xb(),b.Xb(),b.Yb(113,"tbody"),b.Uc(114,lr,23,11,"tr",16),b.Xb(),b.Xb(),b.Xb(),b.Yb(115,"table",1),b.Yb(116,"tr"),b.Yb(117,"td",17),b.Wc(118,"Return Amount"),b.Xb(),b.Yb(119,"td",18),b.Tb(120,"input",12),b.pc(121,"number"),b.Xb(),b.Xb(),b.Yb(122,"tr"),b.Yb(123,"td",17),b.Wc(124,"Taxes"),b.Xb(),b.Yb(125,"td",19),b.Tb(126,"input",12),b.pc(127,"number"),b.Xb(),b.Yb(128,"td",20),b.Yb(129,"button",21),b.kc("click",(function(){b.Mc(i);var t=b.Jc(158);return b.oc().open(t,2)})),b.Wc(130,"Add"),b.Xb(),b.Xb(),b.Xb(),b.Yb(131,"tr"),b.Yb(132,"td",17),b.Wc(133,"Return Total Amount"),b.Xb(),b.Yb(134,"td",18),b.Tb(135,"input",12),b.pc(136,"number"),b.Xb(),b.Xb(),b.Yb(137,"tr"),b.Yb(138,"td",17),b.Wc(139,"Previous Returns"),b.Xb(),b.Yb(140,"td",18),b.Tb(141,"input",12),b.pc(142,"number"),b.Xb(),b.Xb(),b.Yb(143,"tr"),b.Yb(144,"td",17),b.Wc(145,"Previous Credit Notes"),b.Xb(),b.Yb(146,"td",18),b.Tb(147,"input",12),b.pc(148,"number"),b.Xb(),b.Xb(),b.Yb(149,"tr"),b.Yb(150,"td",9),b.Uc(151,ur,2,0,"button",22),b.Uc(152,hr,2,0,"button",23),b.Yb(153,"button",24),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(154,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Uc(155,mr,39,9,"ng-template",null,25,b.Vc),b.Uc(157,Xr,8,2,"ng-template",null,26,b.Vc),b.Xb()}if(2&t){var n=b.oc();b.Db(8),b.vc("ngModel",n.tradat),b.Db(4),b.vc("ngModel",n.seq),b.Db(9),b.vc("ngModel",n.mir),b.Db(4),b.vc("ngModel",n.invoiceno),b.Db(5),b.vc("ngModel",n.header.PartyName),b.Db(5),b.vc("ngModel",n.header.Addr),b.Db(4),b.vc("ngModel",n.header.Zip),b.Db(7),b.vc("ngModel",n.header.Mobile),b.Db(5),b.vc("ngModel",n.header.Country),b.Db(4),b.wc("value",b.rc(56,24,n.prevbaseamt,"0.2")),b.Db(6),b.vc("ngModel",n.header.State),b.Db(4),b.wc("value",b.rc(66,27,n.prevtaxes,"0.2")),b.Db(6),b.vc("ngModel",n.header.District),b.Db(4),b.wc("value",b.rc(76,30,n.prevothers,"0.2")),b.Db(6),b.vc("ngModel",n.header.City),b.Db(4),b.wc("value",b.rc(86,33,n.prevtotal,"0.2")),b.Db(29),b.vc("ngForOf",n.materials),b.Db(6),b.wc("value",b.rc(121,36,n.header.Baseamt,"0.2")),b.Db(6),b.wc("value",b.rc(127,39,n.header.Taxes,"0.2")),b.Db(9),b.wc("value",b.rc(136,42,n.header.TotalAmt,"0.2")),b.Db(6),b.wc("value",b.rc(142,45,n.prevreturn,"0.2")),b.Db(6),b.wc("value",b.rc(148,48,n.prevnote,"0.2")),b.Db(4),b.vc("ngIf",0==n.recordId),b.Db(1),b.vc("ngIf",n.recordId>0)}}function vr(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",52),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Yb(9,"td"),b.Wc(10),b.Xb(),b.Yb(11,"td",53),b.Wc(12),b.pc(13,"number"),b.Xb(),b.Yb(14,"td",53),b.Wc(15),b.pc(16,"number"),b.Xb(),b.Yb(17,"td",53),b.Wc(18),b.pc(19,"number"),b.Xb(),b.Yb(20,"th",54),b.Wc(21),b.pc(22,"number"),b.Xb(),b.Yb(23,"td",55),b.Yb(24,"i",56),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).deletePurchaseReturn(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.seq),b.Db(2),b.Xc(n.branchId),b.Db(2),b.Xc(n.partyName),b.Db(2),b.Xc(n.mobile),b.Db(2),b.Xc(b.rc(13,9,n.baseamt,"0.2")),b.Db(3),b.Xc(b.rc(16,12,n.taxes,"0.2")),b.Db(3),b.Xc(b.rc(19,15,n.others,"0.2")),b.Db(3),b.Xc(b.rc(22,18,n.totalAmt,"0.2"))}}function yr(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Sale Returns\n"),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",40),b.Yb(6,"div",41),b.Yb(7,"input",42,43),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().listdat=t})),b.Xb(),b.Yb(9,"div",44),b.Yb(10,"div",45),b.kc("click",(function(){return b.Mc(i),b.Jc(8).toggle()})),b.Tb(11,"i",46),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"td",47),b.Yb(13,"button",48),b.kc("click",(function(){return b.Mc(i),b.oc().listAdd()})),b.Wc(14,"Show"),b.Xb(),b.Xb(),b.Yb(15,"td",47),b.Yb(16,"button",49),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(17,"New"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"table",14),b.Yb(19,"thead",15),b.Yb(20,"tr"),b.Yb(21,"th"),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th"),b.Wc(24,"Seq"),b.Xb(),b.Yb(25,"th"),b.Wc(26,"Ref Invoice"),b.Xb(),b.Yb(27,"th"),b.Wc(28,"Customer"),b.Xb(),b.Yb(29,"th"),b.Wc(30,"Mobile"),b.Xb(),b.Yb(31,"th",50),b.Wc(32,"Base Amount"),b.Xb(),b.Yb(33,"th",50),b.Wc(34,"Taxes"),b.Xb(),b.Yb(35,"th",50),b.Wc(36,"Others"),b.Xb(),b.Yb(37,"th",50),b.Wc(38,"Total"),b.Xb(),b.Tb(39,"th",51),b.Xb(),b.Xb(),b.Yb(40,"tbody"),b.Uc(41,vr,25,21,"tr",16),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(7),b.vc("ngModel",n.listdat),b.Db(34),b.vc("ngForOf",n.purchasereturns)}}var Cr=function(){function t(t,e,i,n,r,o){var c=this;this.sal=t,this.puo=e,this.crm=i,this.modalService=n,this.adm=r,this.spinner=o,this.title="",this.now=new Date,this.listdat={year:this.now.getFullYear(),month:this.now.getMonth()+1,day:this.now.getDate()},this.mir="",this.invoiceno="",this.recordId=0,this.baseAmt=0,this.taxesAmt=0,this.totalAmt=0,this.fromdate=new Date,this.todate=new Date,this.seq="",this.closeResult="",this.prevreturn=0,this.prevnote=0,this.opened=!1,this.tradat=this.adm.stringData(new Date),this.prevbaseamt=0,this.prevtaxes=0,this.prevothers=0,this.prevtotal=0,this.header={Transporter:"",RefInvoice:-1,PartyId:-1,PartyName:"",Addr:"",Country:"",Stat:"",District:"",City:"",Zip:"",Mobile:"",Tel:"",Fax:"",Email:"",Webid:"",Baseamt:0,Discount:0,Taxes:0,Others:0,TotalAmt:0,Pos:1,Settlemode:0,CurrencyConversion:1,CurrencySymbol:"/-"},this.listAdd(),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getSaleReturnRequirements().subscribe((function(t){var e=t;c.seq=e.seq,c.taxes=e.taxes})),this.spinner.hide()}return t.prototype.openNew=function(){this.makeCle(),this.opened=!0},t.prototype.close=function(){this.opened=!1},t.prototype.deleteSaleReturn=function(t){var e=this;g.a.fire({title:"Deletes Sale Return Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(i){i.value&&(e.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),e.crm.deleteSaleReturn(t.recordId).subscribe((function(t){var i=t;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Sale Return Details deleted.","success"),e.listAdd()):g.a.fire(i.result,"Error in transaction.","error"),e.spinner.hide()})))}))},t.prototype.parseDate=function(t){return t?new Date(t):null},t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var e=this.adm.strDate(this.listdat);this.crm.getSaleReturns(e).subscribe((function(e){t.purchasereturns=e,console.log(e),t.spinner.hide()}))},t.prototype.itemsCalculation=function(){this.baseAmt=0},t.prototype.makeCalculations=function(){this.header.Baseamt=0;for(var t=0;t<this.materials.length;t++)this.header.Baseamt=this.header.Baseamt+ +this.materials[t].returned*+this.materials[t].rat;this.header.TotalAmt=this.header.Baseamt+this.header.Taxes},t.prototype.makeTaxes=function(){this.header.Taxes=0;for(var t=0;t<this.taxes.length;t++)this.taxes[t].taxvalue&&(this.header.Taxes=this.header.Taxes+this.taxes[t].taxvalue);this.makeCalculations()},t.prototype.makeCle=function(){this.recordId=0,this.header={Transporter:"",RefInvoice:-1,PartyId:-1,PartyName:"",Addr:"",Country:"",Stat:"",District:"",City:"",Zip:"",Mobile:"",Tel:"",Fax:"",Email:"",Webid:"",Baseamt:0,Discount:0,Taxes:0,Others:0,TotalAmt:0,Pos:1,Settlemode:0,CurrencyConversion:1,CurrencySymbol:"/-"},this.materials=null,this.prevbaseamt=0,this.prevtaxes=0,this.prevothers=0,this.prevtotal=0,this.prevreturn=0,this.prevnote=0,this.mir=""},t.prototype.open=function(t,e){var i=this;this.title=1==e?"Terms":"Taxes",this.modalService.open(t).result.then((function(t){i.closeResult="Closed with: "+t}),(function(t){i.closeResult="Dismissed "+i.getDismissReason(t)}))},t.prototype.getDismissReason=function(t){return t===X.a.ESC?"by pressing ESC":t===X.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t.prototype.purchasesAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var e=this.adm.stringData(this.fromdate),i=this.adm.stringData(this.todate);this.crm.getSaleReturnSalesList(e,i).subscribe((function(e){t.purchases=e,console.log(e),t.spinner.hide()}))},t.prototype.getPurchase=function(t){var e=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.modalService.dismissAll(),this.crm.getSaleReturnSaleInfo(t.recordId).subscribe((function(t){console.log("purchase",t);var i=t,n=i.header;e.prevbaseamt=+n.baseamt-+n.discount,e.prevtaxes=+n.taxes,e.prevothers=+n.others,e.prevtotal=+n.totalAmt,e.mir=n.seq+" "+e.adm.stringData(new Date(n.dat)),e.invoiceno=n.invoiceno,i.prevPurchaseReturn&&(e.prevreturn=i.prevPurchaseReturn),i.prevCreditNotes&&(e.prevnote=i.prevCreditNotes),i&&(e.header={Transporter:"",RefInvoice:n.recordId,PartyId:+n.partyId,PartyName:n.partyName,Addr:n.addr,Country:n.country,Stat:n.stat,District:n.district,City:n.city,Zip:n.zip,Mobile:n.mobile,Tel:n.tel,Fax:n.fax,Email:n.email,Webid:n.webid,Baseamt:0,Discount:0,Taxes:0,Others:0,TotalAmt:0,Pos:1,Settlemode:0,CurrencyConversion:n.currencyConversion,CurrencySymbol:n.currencySymbol});for(var r=0;r<i.lines.length;r++)i.lines[r].returned=0;e.materials=i.lines,e.spinner.hide()}))},t.prototype.valChk=function(){if(this.materials){for(var t=0,e=0;e<this.materials.length;e++)+this.materials[e].returned>0&&t++;if(0==t)return this.adm.showMessage("No materials entered to be returned","Warning",3),!1}if(!this.materials)return this.adm.showMessage("No materials found","Warning",3),!1;for(t=0,e=0;e<this.materials.length;e++)+this.materials[e].returned>+this.materials[e].available&&t++;return!(t>0&&(this.adm.showMessage("Retuned qty can not be more than sold","Warning",3),1))},t.prototype.savePurchase=function(){var t=this;this.valChk()&&g.a.fire({title:"Confirms Sale Return Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});for(var i=[],n=0;n<t.materials.length;n++)+t.materials[n].returned>0&&i.push({Lotno:+t.materials[n].sno,ItemId:+t.materials[n].itemid,ItemName:t.materials[n].itemname,Batchno:t.materials[n].batchno,Manudate:new Date,Expdate:new Date,Qty:+t.materials[n].returned,Um:+t.materials[n].umid,Rat:+t.materials[n].rat,Mrp:+t.materials[n].conversion,BranchId:t.materials[n].gin});var r=[];for(n=0;n<t.taxes.length;n++)+t.taxes[n].taxvalue>0&&r.push({Taxcode:t.taxes[n].taxCode,Taxper:+t.taxes[n].taxPer,Taxvalue:+t.taxes[n].taxvalue});t.crm.setSaleReturn(t.header,i,r,1).subscribe((function(e){var i=e;t.spinner.hide(),"OK"==i.result?(t.makeCle(),g.a.fire("Transaction Completed Successfully!","Your Sale Return saved.","success"),t.listAdd()):g.a.fire(i.result,"Some error in transaction","error")}))}}))},t.prototype.deletePurchase=function(){},t.prototype.openModal=function(t){this.modalService.open(t,{backdrop:"static",windowClass:"terms-modal",keyboard:!1})},t.\u0275fac=function(e){return new(e||t)(b.Sb(dr.a),b.Sb(m.a),b.Sb(er),b.Sb(X.r),b.Sb(a.a),b.Sb(r.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-post-sale-returns"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","100%"],["align","right",2,"width","20%"],[2,"width","30%"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","20%"],[2,"width","10%"],[1,"btn-lg","btn-success",3,"click"],["type","text","disabled","",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["colspan","3"],["rowspan","2",2,"width","30%"],["disabled","",2,"width","100%","height","50px",3,"ngModel","ngModelChange"],["type","text","disabled","",1,"form-control",2,"width","100%","text-align","right",3,"value"],[2,"width","100%","height","250px","overflow-y","scroll"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[4,"ngFor","ngForOf"],["align","right",2,"width","70%"],["colspan","2"],[2,"width","22%"],[2,"width","8%"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",2,"width","100%",3,"click"],["type","button","class","btn-lg btn-primary mr-1 mb-1",3,"click",4,"ngIf"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"click",4,"ngIf"],["type","button",1,"btn-lg","btn-dark","mr-1","mb-1",3,"click"],["customContent",""],["content",""],["type","number",3,"ngModel","ngModelChange","input"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"click"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["align","right",2,"width","15%"],["type","date",1,"form-control",3,"value","input"],[1,"btn","btn-secondary",3,"click"],[1,"ft-edit","font-medium-1",3,"click"],["type","number",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange","input"],["align","right",2,"width","40%"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d1","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["align","left",2,"width","25%"],["type","button",1,"btn-lg","btn-secondary","mr-1","mb-1",3,"click"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],[2,"text-align","right"],[2,"text-align","center"],["scope","row"],["align","right"],["scope","row",2,"text-align","right"],["align","center"],[1,"ft-trash","font-medium-1",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Yr,159,51,"div",0),b.Uc(2,yr,42,2,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,d.c,d.q,d.t,n.o,d.v,X.q],pipes:[n.f,n.e],styles:["ng-sidebar-container{height:100vh}::ng-deep .ng-sidebar{background-color:#fff;width:95%}.has-search .form-control{padding-left:2.375rem}.has-search .form-control-feedback{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}#content{width:95%}.terms-modal .modal-content{width:900px;position:absolute;left:-200px}.terms-modal .close,.terms-modal .modal-title{color:#000}.dark-modal .modal-content{background-color:#292b2c;width:190%;color:#fff;position:absolute;left:-300px}.dark-modal .close,.dark-modal .modal-title{color:#fff}"],encapsulation:2}),t}(),Mr=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-post-ticket-clearances"]],decls:2,vars:0,template:function(t,e){1&t&&(b.Yb(0,"p"),b.Wc(1,"crm-post-ticket-clearances works!"),b.Xb())},styles:[""]}),t}(),kr=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-post-tickets"]],decls:2,vars:0,template:function(t,e){1&t&&(b.Yb(0,"p"),b.Wc(1,"crm-post-tickets works!"),b.Xb())},styles:[""]}),t}(),Dr=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-advances-customerwise"]],decls:2,vars:0,template:function(t,e){1&t&&(b.Yb(0,"p"),b.Wc(1,"crm-pre-rep-advances-customerwise works!"),b.Xb())},styles:[""]}),t}(),Wr=function(){function t(t,e){this.adm=t,this.http=e}return t.prototype.getTeleCallsList=function(t,e){var i={frmDate:t,toDate:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMPreSaleReports/GetCRMListofTeleCalls",i,this.adm.makeConfig())},t.prototype.getTeleCallsPending=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMPreSaleReports/GetCRMPendingTeleCalls",t,this.adm.makeConfig())},t.prototype.getEnquiriesList=function(t,e){var i={frmDate:t,toDate:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMPreSaleReports/GetCRMListofEnquiries",i,this.adm.makeConfig())},t.prototype.getEnquiriesPending=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMPreSaleReports/GetCRMPendingEnquiries",t,this.adm.makeConfig())},t.prototype.getCallerWiseCalls=function(t,e){var i={frmDate:t,toDate:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMPreSaleReports/GetCRMCallerwiseCalls",i,this.adm.makeConfig())},t.prototype.getListofOrders=function(t,e){var i={frmDate:t,toDate:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMPreSaleReports/GetCRMListofSaleOrders",i,this.adm.makeConfig())},t.prototype.getListofPendingOrders=function(){return this.http.post(this.adm.getActualURL()+"api/CRMPreSaleReports/GetCRMListofPendingSaleOrders",this.adm.getUserCompleteInformation().usr,this.adm.makeConfig())},t.prototype.getItemWisePendingOrders=function(){return this.http.post(this.adm.getActualURL()+"api/CRMPreSaleReports/GetCRMItemWisePendingSaleOrders",this.adm.getUserCompleteInformation().usr,this.adm.makeConfig())},t.prototype.getPendingAdvances=function(){return this.http.post(this.adm.getActualURL()+"api/CRMPreSaleReports/crmRepOrderPendingAdvances",this.adm.getUserCompleteInformation().usr,this.adm.makeConfig())},t.prototype.getCustomerWiseOrders=function(t,e,i){var n={recordId:t,frmDate:e,toDate:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMPreSaleReports/GetCRMCustomerWiseSaleOrders",n,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function wr(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td",22),b.Wc(4),b.Xb(),b.Yb(5,"td",22),b.Wc(6),b.Xb(),b.Yb(7,"td",22),b.Wc(8),b.Xb(),b.Yb(9,"td",22),b.Wc(10),b.Xb(),b.Yb(11,"td",23),b.Wc(12),b.Xb(),b.Yb(13,"td",22),b.Wc(14),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.det1),b.Db(2),b.Xc(i.det2),b.Db(2),b.Xc(i.det3),b.Db(2),b.Xc(i.det4),b.Db(2),b.Xc(i.det5),b.Db(2),b.Xc(i.det6)}}function xr(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",24),b.Yb(2,"span",25),b.Wc(3," No records found "),b.Xb(),b.Xb(),b.Xb())}function Ir(t,e){if(1&t&&(b.Yb(0,"section",2),b.Yb(1,"div",3),b.Yb(2,"div",4),b.Yb(3,"div",5),b.Yb(4,"div",6),b.Yb(5,"h4",7),b.Wc(6,"Advances Liable for Customers"),b.Xb(),b.Yb(7,"div",8),b.Yb(8,"div",9),b.Tb(9,"i",10),b.Yb(10,"div",11),b.Yb(11,"a",12),b.Wc(12,"Download Pdf"),b.Xb(),b.Yb(13,"a",13),b.Wc(14,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"div",14),b.Yb(16,"div",15),b.Yb(17,"div",16),b.Yb(18,"table",17),b.Yb(19,"thead",18),b.Yb(20,"tr"),b.Yb(21,"th"),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th",19),b.Wc(24,"Rect"),b.Xb(),b.Yb(25,"th",19),b.Wc(26,"Date "),b.Xb(),b.Yb(27,"th",19),b.Wc(28,"Customer "),b.Xb(),b.Yb(29,"th",19),b.Wc(30,"Mobile "),b.Xb(),b.Yb(31,"th",20),b.Wc(32,"Amount "),b.Xb(),b.Yb(33,"th",19),b.Wc(34,"Mode "),b.Xb(),b.Xb(),b.Xb(),b.Yb(35,"tbody"),b.Uc(36,wr,15,7,"tr",21),b.Uc(37,xr,4,0,"tr",1),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(11),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc),b.Db(23),b.vc("ngForOf",i.details),b.Db(1),b.vc("ngIf",i.details.length<=0)}}function Sr(t,e){1&t&&(b.Yb(0,"span"),b.Yb(1,"h2"),b.Wc(2,"Please verify your authorization"),b.Xb(),b.Xb())}var Ar=function(){function t(t,e,i,n,r){this.ckey=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.searchtext="",this.authCheck=!1,this.adm.screenCheck(7,9,2,0)?(this.listAdd(),this.authCheck=!0):(this.authCheck=!1,this.router.navigateByUrl("crm/crmunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.ckey.getPendingAdvances().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return t=e,console.log("details",t),this.details=t.details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile,this.spinner.hide(),[2]}))}))}))},t.prototype.makePdf=function(){this.adm.makePdf(this.pdffile)},t.prototype.makeExcel=function(){this.adm.makeExcel(this.excelfile)},t.\u0275fac=function(e){return new(e||t)(b.Sb(Wr),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-advances-liable"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"text-align","left"],[2,"text-align","right"],[4,"ngFor","ngForOf"],["align","left"],["align","right"],["colspan","4","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Ir,38,4,"section",0),b.Uc(2,Sr,3,0,"span",1)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}();function Rr(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",25),b.Yb(2,"font",26),b.Wc(3),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(3),b.Zc(" List of Tele Calls from ",i.adm.strDate(i.fromdate)," to ",i.adm.strDate(i.todate)," ")}}function Or(t,e){1&t&&b.Tb(0,"div",27)}function Ur(t,e){if(1&t&&(b.Yb(0,"div",28),b.Yb(1,"div",29),b.Tb(2,"i",30),b.Yb(3,"div",31),b.Yb(4,"a",32),b.Wc(5,"Download Pdf"),b.Xb(),b.Yb(6,"a",33),b.Wc(7,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(4),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc)}}function Tr(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td",39),b.Wc(4),b.Xb(),b.Yb(5,"td",39),b.Wc(6),b.Xb(),b.Yb(7,"td",39),b.Wc(8),b.Xb(),b.Yb(9,"td",39),b.Wc(10),b.Xb(),b.Yb(11,"td",39),b.Wc(12),b.Xb(),b.Yb(13,"td",39),b.Wc(14),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.det1),b.Db(2),b.Xc(i.det2),b.Db(2),b.Xc(i.det3),b.Db(2),b.Xc(i.det4),b.Db(2),b.Xc(i.det5),b.Db(2),b.Xc(i.det7)}}function Pr(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",40),b.Yb(2,"span",41),b.Wc(3," No records found "),b.Xb(),b.Xb(),b.Xb())}function Fr(t,e){if(1&t&&(b.Yb(0,"div",34),b.Yb(1,"table",35),b.Yb(2,"thead",36),b.Yb(3,"tr"),b.Yb(4,"th"),b.Wc(5,"#"),b.Xb(),b.Yb(6,"th",37),b.Wc(7,"Seq"),b.Xb(),b.Yb(8,"th",37),b.Wc(9,"Date"),b.Xb(),b.Yb(10,"th",37),b.Wc(11,"Employee"),b.Xb(),b.Yb(12,"th",37),b.Wc(13,"Customer "),b.Xb(),b.Yb(14,"th",37),b.Wc(15,"Mobile"),b.Xb(),b.Yb(16,"th",37),b.Wc(17,"Status"),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"tbody"),b.Uc(19,Tr,15,7,"tr",38),b.Uc(20,Pr,4,0,"tr",19),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(19),b.vc("ngForOf",i.details),b.Db(1),b.vc("ngIf",i.details.length<=0)}}var Lr=new Date,Nr=function(){function t(t,e,i,n,r){this.crm=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.fromdate={year:Lr.getFullYear(),month:Lr.getMonth()+1,day:Lr.getDate()},this.todate={year:Lr.getFullYear(),month:Lr.getMonth()+1,day:Lr.getDate()},this.adm.screenCheck(7,9,2,0)?this.authCheck=!0:(this.authCheck=!1,this.router.navigateByUrl("fo/unAuthorize"))}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getTeleCallsList(this.adm.strDate(this.fromdate),this.adm.strDate(this.todate)).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return t=e,console.log(t),t&&(this.details=t.details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile),this.spinner.hide(),[2]}))}))}))},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(b.Sb(Wr),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-callerwise-calls"]],decls:44,vars:6,consts:[[1,"card-title"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[2,"width","100%"],[2,"width","20%"],[2,"width","10%"],[2,"width","50%"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d1","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["placeholder","yyyy-mm-dd","name","dp1","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],[4,"ngIf"],["style","width: 100%; height: 300px;",4,"ngIf"],["class","position-relative float-right",4,"ngIf"],[1,"card-content"],[1,"card-body"],["class","table-responsive",4,"ngIf"],["colspan","4"],["face","Arial","size","3","color","blue"],[2,"width","100%","height","300px"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"text-align","left"],[4,"ngFor","ngForOf"],["align","left"],["colspan","8","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){if(1&t){var i=b.Zb();b.Tb(0,"ngx-spinner"),b.Yb(1,"h3",0),b.Wc(2,"List of Tele Calls"),b.Xb(),b.Yb(3,"section",1),b.Yb(4,"div",2),b.Yb(5,"div",3),b.Yb(6,"div",4),b.Yb(7,"div",5),b.Yb(8,"table",6),b.Yb(9,"tr"),b.Yb(10,"td",7),b.Wc(11," From "),b.Xb(),b.Yb(12,"td",7),b.Wc(13," To "),b.Xb(),b.Yb(14,"td",8),b.Wc(15," \xa0 "),b.Xb(),b.Yb(16,"td",9),b.Wc(17,"\xa0"),b.Xb(),b.Xb(),b.Yb(18,"tr"),b.Yb(19,"td",7),b.Yb(20,"div",10),b.Yb(21,"input",11,12),b.kc("ngModelChange",(function(t){return e.fromdate=t})),b.Xb(),b.Yb(23,"div",13),b.Yb(24,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(22).toggle()})),b.Tb(25,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(26,"td",7),b.Yb(27,"div",10),b.Yb(28,"input",16,17),b.kc("ngModelChange",(function(t){return e.todate=t})),b.Xb(),b.Yb(30,"div",13),b.Yb(31,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(29).toggle()})),b.Tb(32,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(33,"td",8),b.Yb(34,"button",18),b.kc("click",(function(){return e.listAdd()})),b.Wc(35,"Show"),b.Xb(),b.Xb(),b.Yb(36,"td",9),b.Wc(37,"\xa0"),b.Xb(),b.Xb(),b.Uc(38,Rr,4,2,"tr",19),b.Xb(),b.Uc(39,Or,1,0,"div",20),b.Uc(40,Ur,8,2,"div",21),b.Xb(),b.Yb(41,"div",22),b.Yb(42,"div",23),b.Uc(43,Fr,21,2,"div",24),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}2&t&&(b.Db(21),b.vc("ngModel",e.fromdate),b.Db(7),b.vc("ngModel",e.todate),b.Db(10),b.vc("ngIf",e.details),b.Db(1),b.vc("ngIf",!e.details),b.Db(1),b.vc("ngIf",e.details),b.Db(3),b.vc("ngIf",e.details))},directives:[r.a,X.q,d.c,d.q,d.t,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}(),qr=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-employeewise-details"]],decls:2,vars:0,template:function(t,e){1&t&&(b.Yb(0,"p"),b.Wc(1,"crm-pre-rep-employeewise-details works!"),b.Xb())},styles:[""]}),t}();function Br(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",25),b.Yb(2,"font",26),b.Wc(3),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(3),b.Zc(" List of Tele Calls from ",i.adm.strDate(i.fromdate)," to ",i.adm.strDate(i.todate)," ")}}function Er(t,e){1&t&&b.Tb(0,"div",27)}function Gr(t,e){if(1&t&&(b.Yb(0,"div",28),b.Yb(1,"div",29),b.Tb(2,"i",30),b.Yb(3,"div",31),b.Yb(4,"a",32),b.Wc(5,"Download Pdf"),b.Xb(),b.Yb(6,"a",33),b.Wc(7,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(4),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc)}}function zr(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td",39),b.Wc(4),b.Xb(),b.Yb(5,"td",39),b.Wc(6),b.Xb(),b.Yb(7,"td",39),b.Wc(8),b.Xb(),b.Yb(9,"td",39),b.Wc(10),b.Xb(),b.Yb(11,"td",39),b.Wc(12),b.Xb(),b.Yb(13,"td",39),b.Wc(14),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.det1),b.Db(2),b.Xc(i.det2),b.Db(2),b.Xc(i.det3),b.Db(2),b.Xc(i.det4),b.Db(2),b.Xc(i.det5),b.Db(2),b.Xc(i.det7)}}function $r(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",40),b.Yb(2,"span",41),b.Wc(3," No records found "),b.Xb(),b.Xb(),b.Xb())}function Zr(t,e){if(1&t&&(b.Yb(0,"div",34),b.Yb(1,"table",35),b.Yb(2,"thead",36),b.Yb(3,"tr"),b.Yb(4,"th"),b.Wc(5,"#"),b.Xb(),b.Yb(6,"th",37),b.Wc(7,"Seq"),b.Xb(),b.Yb(8,"th",37),b.Wc(9,"Date"),b.Xb(),b.Yb(10,"th",37),b.Wc(11,"Employee"),b.Xb(),b.Yb(12,"th",37),b.Wc(13,"Customer "),b.Xb(),b.Yb(14,"th",37),b.Wc(15,"Mobile"),b.Xb(),b.Yb(16,"th",37),b.Wc(17,"Status"),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"tbody"),b.Uc(19,zr,15,7,"tr",38),b.Uc(20,$r,4,0,"tr",19),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(19),b.vc("ngForOf",i.details),b.Db(1),b.vc("ngIf",i.details.length<=0)}}var _r=new Date,jr=function(){function t(t,e,i,n,r){this.crm=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.fromdate={year:_r.getFullYear(),month:_r.getMonth()+1,day:_r.getDate()},this.todate={year:_r.getFullYear(),month:_r.getMonth()+1,day:_r.getDate()},this.adm.screenCheck(7,9,2,0)?this.authCheck=!0:(this.authCheck=!1,this.router.navigateByUrl("fo/unAuthorize"))}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getEnquiriesList(this.adm.strDate(this.fromdate),this.adm.strDate(this.todate)).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return t=e,console.log(t),t&&(this.details=t.details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile),this.spinner.hide(),[2]}))}))}))},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(b.Sb(Wr),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-enquiries-list"]],decls:44,vars:6,consts:[[1,"card-title"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[2,"width","100%"],[2,"width","20%"],[2,"width","10%"],[2,"width","50%"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d1","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["placeholder","yyyy-mm-dd","name","dp1","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],[4,"ngIf"],["style","width: 100%; height: 300px;",4,"ngIf"],["class","position-relative float-right",4,"ngIf"],[1,"card-content"],[1,"card-body"],["class","table-responsive",4,"ngIf"],["colspan","4"],["face","Arial","size","3","color","blue"],[2,"width","100%","height","300px"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"text-align","left"],[4,"ngFor","ngForOf"],["align","left"],["colspan","8","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){if(1&t){var i=b.Zb();b.Tb(0,"ngx-spinner"),b.Yb(1,"h3",0),b.Wc(2,"List of Tele Calls"),b.Xb(),b.Yb(3,"section",1),b.Yb(4,"div",2),b.Yb(5,"div",3),b.Yb(6,"div",4),b.Yb(7,"div",5),b.Yb(8,"table",6),b.Yb(9,"tr"),b.Yb(10,"td",7),b.Wc(11," From "),b.Xb(),b.Yb(12,"td",7),b.Wc(13," To "),b.Xb(),b.Yb(14,"td",8),b.Wc(15," \xa0 "),b.Xb(),b.Yb(16,"td",9),b.Wc(17,"\xa0"),b.Xb(),b.Xb(),b.Yb(18,"tr"),b.Yb(19,"td",7),b.Yb(20,"div",10),b.Yb(21,"input",11,12),b.kc("ngModelChange",(function(t){return e.fromdate=t})),b.Xb(),b.Yb(23,"div",13),b.Yb(24,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(22).toggle()})),b.Tb(25,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(26,"td",7),b.Yb(27,"div",10),b.Yb(28,"input",16,17),b.kc("ngModelChange",(function(t){return e.todate=t})),b.Xb(),b.Yb(30,"div",13),b.Yb(31,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(29).toggle()})),b.Tb(32,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(33,"td",8),b.Yb(34,"button",18),b.kc("click",(function(){return e.listAdd()})),b.Wc(35,"Show"),b.Xb(),b.Xb(),b.Yb(36,"td",9),b.Wc(37,"\xa0"),b.Xb(),b.Xb(),b.Uc(38,Br,4,2,"tr",19),b.Xb(),b.Uc(39,Er,1,0,"div",20),b.Uc(40,Gr,8,2,"div",21),b.Xb(),b.Yb(41,"div",22),b.Yb(42,"div",23),b.Uc(43,Zr,21,2,"div",24),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}2&t&&(b.Db(21),b.vc("ngModel",e.fromdate),b.Db(7),b.vc("ngModel",e.todate),b.Db(10),b.vc("ngIf",e.details),b.Db(1),b.vc("ngIf",!e.details),b.Db(1),b.vc("ngIf",e.details),b.Db(3),b.vc("ngIf",e.details))},directives:[r.a,X.q,d.c,d.q,d.t,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}();function Vr(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",20),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Yb(9,"td"),b.Wc(10),b.Xb(),b.Yb(11,"td"),b.Wc(12),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.det1),b.Db(2),b.Xc(i.det2),b.Db(2),b.Xc(i.det3),b.Db(2),b.Xc(i.det4),b.Db(2),b.Xc(i.det5)}}function Kr(t,e){if(1&t&&(b.Yb(0,"section",2),b.Yb(1,"div",3),b.Yb(2,"div",4),b.Yb(3,"div",5),b.Yb(4,"div",6),b.Yb(5,"h4",7),b.Wc(6,"List of Pending Enquiries"),b.Xb(),b.Yb(7,"div",8),b.Yb(8,"div",9),b.Tb(9,"i",10),b.Yb(10,"div",11),b.Yb(11,"a",12),b.Wc(12,"Download Pdf"),b.Xb(),b.Yb(13,"a",13),b.Wc(14,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"div",14),b.Yb(16,"div",15),b.Yb(17,"div",16),b.Yb(18,"table",17),b.Yb(19,"thead",18),b.Yb(20,"tr"),b.Yb(21,"th"),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th"),b.Wc(24,"Customer"),b.Xb(),b.Yb(25,"th"),b.Wc(26,"Mobile"),b.Xb(),b.Yb(27,"th"),b.Wc(28,"Scheduled"),b.Xb(),b.Yb(29,"th"),b.Wc(30,"Prev Mode"),b.Xb(),b.Yb(31,"th"),b.Wc(32,"Handled By"),b.Xb(),b.Xb(),b.Xb(),b.Yb(33,"tbody"),b.Uc(34,Vr,13,6,"tr",19),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(11),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc),b.Db(21),b.vc("ngForOf",i.details)}}function Qr(t,e){1&t&&(b.Yb(0,"span"),b.Yb(1,"h2"),b.Wc(2,"Please verify your authorization"),b.Xb(),b.Xb())}var Jr=function(){function t(t,e,i,n,r){this.crm=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.searchtext="",this.authCheck=!1,this.adm.screenCheck(7,9,2,0)?(this.listAdd(),this.authCheck=!0):(this.authCheck=!1,this.router.navigateByUrl("crm/crmunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getEnquiriesPending().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return this.details=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile,this.spinner.hide(),[2]}))}))}))},t.prototype.makePdf=function(){this.adm.makePdf(this.pdffile)},t.prototype.makeExcel=function(){this.adm.makeExcel(this.excelfile)},t.\u0275fac=function(e){return new(e||t)(b.Sb(Wr),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-enquiries-pending"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Kr,35,3,"section",0),b.Uc(2,Qr,3,0,"span",1)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}();function Hr(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td",22),b.Wc(4),b.Xb(),b.Yb(5,"td",23),b.Wc(6),b.Xb(),b.Yb(7,"td",24),b.Wc(8),b.Xb(),b.Yb(9,"td",23),b.Wc(10),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.det1),b.Db(2),b.Xc(i.det2),b.Db(2),b.Xc(i.det5),b.Db(2),b.Xc(i.det3)}}function to(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",25),b.Yb(2,"span",26),b.Wc(3," No records found "),b.Xb(),b.Xb(),b.Xb())}function eo(t,e){if(1&t&&(b.Yb(0,"section",2),b.Yb(1,"div",3),b.Yb(2,"div",4),b.Yb(3,"div",5),b.Yb(4,"div",6),b.Yb(5,"h4",7),b.Wc(6,"Item wise Pending"),b.Xb(),b.Yb(7,"div",8),b.Yb(8,"div",9),b.Tb(9,"i",10),b.Yb(10,"div",11),b.Yb(11,"a",12),b.Wc(12,"Download Pdf"),b.Xb(),b.Yb(13,"a",13),b.Wc(14,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"div",14),b.Yb(16,"div",15),b.Yb(17,"div",16),b.Yb(18,"table",17),b.Yb(19,"thead",18),b.Yb(20,"tr"),b.Yb(21,"th"),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th",19),b.Wc(24,"Item"),b.Xb(),b.Yb(25,"th",20),b.Wc(26,"Qty "),b.Xb(),b.Yb(27,"th",20),b.Wc(28,"UOM "),b.Xb(),b.Yb(29,"th",20),b.Wc(30,"Value "),b.Xb(),b.Xb(),b.Xb(),b.Yb(31,"tbody"),b.Uc(32,Hr,11,5,"tr",21),b.Uc(33,to,4,0,"tr",1),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(11),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc),b.Db(19),b.vc("ngForOf",i.details),b.Db(1),b.vc("ngIf",i.details.length<=0)}}function io(t,e){1&t&&(b.Yb(0,"span"),b.Yb(1,"h2"),b.Wc(2,"Please verify your authorization"),b.Xb(),b.Xb())}var no=function(){function t(t,e,i,n,r){this.ckey=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.searchtext="",this.authCheck=!1,this.adm.screenCheck(7,9,2,0)?(this.listAdd(),this.authCheck=!0):(this.authCheck=!1,this.router.navigateByUrl("crm/crmunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.ckey.getItemWisePendingOrders().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return t=e,console.log("details",t),this.details=t.details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile,this.spinner.hide(),[2]}))}))}))},t.prototype.makePdf=function(){this.adm.makePdf(this.pdffile)},t.prototype.makeExcel=function(){this.adm.makeExcel(this.excelfile)},t.\u0275fac=function(e){return new(e||t)(b.Sb(Wr),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-item-wise-pendings"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"text-align","left"],[2,"text-align","right"],[4,"ngFor","ngForOf"],["align","left"],["align","right"],["align","center"],["colspan","4","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,eo,34,4,"section",0),b.Uc(2,io,3,0,"span",1)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}();function ro(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",26),b.Yb(2,"font",27),b.Wc(3),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(3),b.Zc(" List of Reservations from ",i.adm.strDate(i.fromdate)," to ",i.adm.strDate(i.todate)," ")}}function oo(t,e){1&t&&b.Tb(0,"div",28)}function co(t,e){if(1&t&&(b.Yb(0,"div",29),b.Yb(1,"div",30),b.Tb(2,"i",31),b.Yb(3,"div",32),b.Yb(4,"a",33),b.Wc(5,"Download Pdf"),b.Xb(),b.Yb(6,"a",34),b.Wc(7,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(4),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc)}}function ao(t,e){if(1&t&&(b.Yb(0,"span"),b.Wc(1),b.Xb()),2&t){var i=b.oc().index;b.Db(1),b.Xc(i+1)}}function so(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Uc(2,ao,2,1,"span",20),b.Xb(),b.Yb(3,"td",41),b.Wc(4),b.Xb(),b.Yb(5,"td",41),b.Wc(6),b.Xb(),b.Yb(7,"td",41),b.Wc(8),b.Xb(),b.Yb(9,"td",42),b.Wc(10),b.Xb(),b.Yb(11,"td",42),b.Wc(12),b.Xb(),b.Yb(13,"td",42),b.Wc(14),b.Xb(),b.Yb(15,"td",42),b.Wc(16),b.Xb(),b.Yb(17,"th",39),b.Wc(18),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index,r=b.oc(2);b.Db(2),b.vc("ngIf",n<r.details.length-2),b.Db(2),b.Xc(i.det1),b.Db(2),b.Xc(i.det2),b.Db(2),b.Xc(i.det3),b.Db(2),b.Xc(i.det5),b.Db(2),b.Xc(i.det6),b.Db(2),b.Xc(i.det7),b.Db(2),b.Xc(i.det8),b.Db(2),b.Xc(i.det9)}}function bo(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",43),b.Yb(2,"span",44),b.Wc(3," No records found "),b.Xb(),b.Xb(),b.Xb())}function lo(t,e){if(1&t&&(b.Yb(0,"div",35),b.Yb(1,"table",36),b.Yb(2,"thead",37),b.Yb(3,"tr"),b.Yb(4,"th"),b.Wc(5,"#"),b.Xb(),b.Yb(6,"th",38),b.Wc(7,"SO No"),b.Xb(),b.Yb(8,"th",38),b.Wc(9,"Date"),b.Xb(),b.Yb(10,"th",38),b.Wc(11,"Customer"),b.Xb(),b.Yb(12,"th",39),b.Wc(13,"Base"),b.Xb(),b.Yb(14,"th",39),b.Wc(15,"Discount"),b.Xb(),b.Yb(16,"th",39),b.Wc(17,"Taxes"),b.Xb(),b.Yb(18,"th",39),b.Wc(19,"Others"),b.Xb(),b.Yb(20,"th",39),b.Wc(21,"Total"),b.Xb(),b.Xb(),b.Xb(),b.Yb(22,"tbody"),b.Uc(23,so,19,9,"tr",40),b.Uc(24,bo,4,0,"tr",20),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(23),b.vc("ngForOf",i.details),b.Db(1),b.vc("ngIf",i.details.length<=0)}}var uo=new Date,ho=function(){function t(t,e,i,n,r,o){var c=this;this.adm=t,this.spinner=e,this.router=i,this.toastr=n,this.cus=r,this.crm=o,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.fromdate={year:uo.getFullYear(),month:uo.getMonth()+1,day:uo.getDate()},this.todate={year:uo.getFullYear(),month:uo.getMonth()+1,day:uo.getDate()},this.cusdetail={recordId:0,partyName:""},this.adm.screenCheck(7,9,2,0)?(this.authCheck=!0,this.cus.getPartyDetails("CUS").subscribe((function(t){c.customers=t.parties}))):(this.authCheck=!1,this.router.navigateByUrl("fo/unAuthorize"))}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getCustomerWiseOrders(+this.cusdetail.recordId,this.adm.strDate(this.fromdate),this.adm.strDate(this.todate)).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return t=e,console.log(t),t&&(this.details=t.details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile),this.spinner.hide(),[2]}))}))}))},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b),b.Sb(O.a),b.Sb(Wr))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-orders-customerwise"]],decls:44,vars:8,consts:[[1,"card-title"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[2,"width","100%"],[2,"width","20%"],[2,"width","50%"],[2,"width","10%"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d1","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["placeholder","yyyy-mm-dd","name","dp1","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],["bindLabel","partyName",3,"items","ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],[4,"ngIf"],["style","width: 100%; height: 300px;",4,"ngIf"],["class","position-relative float-right",4,"ngIf"],[1,"card-content"],[1,"card-body"],["class","table-responsive",4,"ngIf"],["colspan","4"],["face","Arial","size","3","color","blue"],[2,"width","100%","height","300px"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"text-align","left"],[2,"text-align","right"],[4,"ngFor","ngForOf"],["align","left"],["align","right"],["colspan","9","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){if(1&t){var i=b.Zb();b.Tb(0,"ngx-spinner"),b.Yb(1,"h3",0),b.Wc(2,"Customer wise Orders"),b.Xb(),b.Yb(3,"section",1),b.Yb(4,"div",2),b.Yb(5,"div",3),b.Yb(6,"div",4),b.Yb(7,"div",5),b.Yb(8,"table",6),b.Yb(9,"tr"),b.Yb(10,"td",7),b.Wc(11," From "),b.Xb(),b.Yb(12,"td",7),b.Wc(13," To "),b.Xb(),b.Yb(14,"td",8),b.Wc(15," Customer "),b.Xb(),b.Yb(16,"td",9),b.Wc(17,"\xa0"),b.Xb(),b.Xb(),b.Yb(18,"tr"),b.Yb(19,"td",7),b.Yb(20,"div",10),b.Yb(21,"input",11,12),b.kc("ngModelChange",(function(t){return e.fromdate=t})),b.Xb(),b.Yb(23,"div",13),b.Yb(24,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(22).toggle()})),b.Tb(25,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(26,"td",7),b.Yb(27,"div",10),b.Yb(28,"input",16,17),b.kc("ngModelChange",(function(t){return e.todate=t})),b.Xb(),b.Yb(30,"div",13),b.Yb(31,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(29).toggle()})),b.Tb(32,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(33,"td",8),b.Yb(34,"ng-select",18),b.kc("ngModelChange",(function(t){return e.cusdetail=t})),b.Xb(),b.Xb(),b.Yb(35,"td",9),b.Yb(36,"button",19),b.kc("click",(function(){return e.listAdd()})),b.Wc(37,"Show"),b.Xb(),b.Xb(),b.Xb(),b.Uc(38,ro,4,2,"tr",20),b.Xb(),b.Uc(39,oo,1,0,"div",21),b.Uc(40,co,8,2,"div",22),b.Xb(),b.Yb(41,"div",23),b.Yb(42,"div",24),b.Uc(43,lo,25,2,"div",25),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}2&t&&(b.Db(21),b.vc("ngModel",e.fromdate),b.Db(7),b.vc("ngModel",e.todate),b.Db(6),b.vc("items",e.customers)("ngModel",e.cusdetail),b.Db(4),b.vc("ngIf",e.details),b.Db(1),b.vc("ngIf",!e.details),b.Db(1),b.vc("ngIf",e.details),b.Db(3),b.vc("ngIf",e.details))},directives:[r.a,X.q,d.c,d.q,d.t,gi.a,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}(),po=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-orders-delayed"]],decls:2,vars:0,template:function(t,e){1&t&&(b.Yb(0,"p"),b.Wc(1,"crm-pre-rep-orders-delayed works!"),b.Xb())},styles:[""]}),t}();function mo(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",25),b.Yb(2,"font",26),b.Wc(3),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(3),b.Zc(" List of Tele Calls from ",i.adm.strDate(i.fromdate)," to ",i.adm.strDate(i.todate)," ")}}function fo(t,e){1&t&&b.Tb(0,"div",27)}function go(t,e){if(1&t&&(b.Yb(0,"div",28),b.Yb(1,"div",29),b.Tb(2,"i",30),b.Yb(3,"div",31),b.Yb(4,"a",32),b.Wc(5,"Download Pdf"),b.Xb(),b.Yb(6,"a",33),b.Wc(7,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(4),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc)}}function Xo(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td",40),b.Wc(4),b.Xb(),b.Yb(5,"td",40),b.Wc(6),b.Xb(),b.Yb(7,"td",40),b.Wc(8),b.Xb(),b.Yb(9,"td",41),b.Wc(10),b.Xb(),b.Yb(11,"td",41),b.Wc(12),b.Xb(),b.Yb(13,"td",41),b.Wc(14),b.Xb(),b.Yb(15,"td",41),b.Wc(16),b.Xb(),b.Yb(17,"td",41),b.Wc(18),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.det1),b.Db(2),b.Xc(i.det2),b.Db(2),b.Xc(i.det3),b.Db(2),b.Xc(i.det5),b.Db(2),b.Xc(i.det6),b.Db(2),b.Xc(i.det7),b.Db(2),b.Xc(i.det8),b.Db(2),b.Xc(i.det9)}}function Yo(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",42),b.Yb(2,"span",43),b.Wc(3," No records found "),b.Xb(),b.Xb(),b.Xb())}function vo(t,e){if(1&t&&(b.Yb(0,"div",34),b.Yb(1,"table",35),b.Yb(2,"thead",36),b.Yb(3,"tr"),b.Yb(4,"th"),b.Wc(5,"#"),b.Xb(),b.Yb(6,"th",37),b.Wc(7,"Seq"),b.Xb(),b.Yb(8,"th",37),b.Wc(9,"Date"),b.Xb(),b.Yb(10,"th",37),b.Wc(11,"Customer"),b.Xb(),b.Yb(12,"th",38),b.Wc(13,"Base "),b.Xb(),b.Yb(14,"th",38),b.Wc(15,"Discount "),b.Xb(),b.Yb(16,"th",38),b.Wc(17,"Taxes "),b.Xb(),b.Yb(18,"th",38),b.Wc(19,"Others "),b.Xb(),b.Yb(20,"th",38),b.Wc(21,"Total "),b.Xb(),b.Xb(),b.Xb(),b.Yb(22,"tbody"),b.Uc(23,Xo,19,9,"tr",39),b.Uc(24,Yo,4,0,"tr",19),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(23),b.vc("ngForOf",i.details),b.Db(1),b.vc("ngIf",i.details.length<=0)}}var yo=new Date,Co=function(){function t(t,e,i,n,r){this.crm=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.fromdate={year:yo.getFullYear(),month:yo.getMonth()+1,day:yo.getDate()},this.todate={year:yo.getFullYear(),month:yo.getMonth()+1,day:yo.getDate()},this.adm.screenCheck(7,9,2,0)?this.authCheck=!0:(this.authCheck=!1,this.router.navigateByUrl("fo/unAuthorize"))}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getListofOrders(this.adm.strDate(this.fromdate),this.adm.strDate(this.todate)).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return t=e,console.log(t),t&&(this.details=t.details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile),this.spinner.hide(),[2]}))}))}))},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(b.Sb(Wr),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-orders-list"]],decls:44,vars:6,consts:[[1,"card-title"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[2,"width","100%"],[2,"width","20%"],[2,"width","10%"],[2,"width","50%"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d1","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["placeholder","yyyy-mm-dd","name","dp1","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],[4,"ngIf"],["style","width: 100%; height: 300px;",4,"ngIf"],["class","position-relative float-right",4,"ngIf"],[1,"card-content"],[1,"card-body"],["class","table-responsive",4,"ngIf"],["colspan","4"],["face","Arial","size","3","color","blue"],[2,"width","100%","height","300px"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"text-align","left"],[2,"text-align","right"],[4,"ngFor","ngForOf"],["align","left"],["align","right"],["colspan","9","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){if(1&t){var i=b.Zb();b.Tb(0,"ngx-spinner"),b.Yb(1,"h3",0),b.Wc(2,"List of Tele Calls"),b.Xb(),b.Yb(3,"section",1),b.Yb(4,"div",2),b.Yb(5,"div",3),b.Yb(6,"div",4),b.Yb(7,"div",5),b.Yb(8,"table",6),b.Yb(9,"tr"),b.Yb(10,"td",7),b.Wc(11," From "),b.Xb(),b.Yb(12,"td",7),b.Wc(13," To "),b.Xb(),b.Yb(14,"td",8),b.Wc(15," \xa0 "),b.Xb(),b.Yb(16,"td",9),b.Wc(17,"\xa0"),b.Xb(),b.Xb(),b.Yb(18,"tr"),b.Yb(19,"td",7),b.Yb(20,"div",10),b.Yb(21,"input",11,12),b.kc("ngModelChange",(function(t){return e.fromdate=t})),b.Xb(),b.Yb(23,"div",13),b.Yb(24,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(22).toggle()})),b.Tb(25,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(26,"td",7),b.Yb(27,"div",10),b.Yb(28,"input",16,17),b.kc("ngModelChange",(function(t){return e.todate=t})),b.Xb(),b.Yb(30,"div",13),b.Yb(31,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(29).toggle()})),b.Tb(32,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(33,"td",8),b.Yb(34,"button",18),b.kc("click",(function(){return e.listAdd()})),b.Wc(35,"Show"),b.Xb(),b.Xb(),b.Yb(36,"td",9),b.Wc(37,"\xa0"),b.Xb(),b.Xb(),b.Uc(38,mo,4,2,"tr",19),b.Xb(),b.Uc(39,fo,1,0,"div",20),b.Uc(40,go,8,2,"div",21),b.Xb(),b.Yb(41,"div",22),b.Yb(42,"div",23),b.Uc(43,vo,25,2,"div",24),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}2&t&&(b.Db(21),b.vc("ngModel",e.fromdate),b.Db(7),b.vc("ngModel",e.todate),b.Db(10),b.vc("ngIf",e.details),b.Db(1),b.vc("ngIf",!e.details),b.Db(1),b.vc("ngIf",e.details),b.Db(3),b.vc("ngIf",e.details))},directives:[r.a,X.q,d.c,d.q,d.t,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}();function Mo(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td",22),b.Wc(4),b.Xb(),b.Yb(5,"td",22),b.Wc(6),b.Xb(),b.Yb(7,"td",22),b.Wc(8),b.Xb(),b.Yb(9,"td",23),b.Wc(10),b.Xb(),b.Yb(11,"td",23),b.Wc(12),b.Xb(),b.Yb(13,"td",23),b.Wc(14),b.Xb(),b.Yb(15,"td",23),b.Wc(16),b.Xb(),b.Yb(17,"td",23),b.Wc(18),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.det1),b.Db(2),b.Xc(i.det2),b.Db(2),b.Xc(i.det3),b.Db(2),b.Xc(i.det5),b.Db(2),b.Xc(i.det6),b.Db(2),b.Xc(i.det7),b.Db(2),b.Xc(i.det8),b.Db(2),b.Xc(i.det9)}}function ko(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",24),b.Yb(2,"span",25),b.Wc(3," No records found "),b.Xb(),b.Xb(),b.Xb())}function Do(t,e){if(1&t&&(b.Yb(0,"section",2),b.Yb(1,"div",3),b.Yb(2,"div",4),b.Yb(3,"div",5),b.Yb(4,"div",6),b.Yb(5,"h4",7),b.Wc(6,"List of Pending Orders"),b.Xb(),b.Yb(7,"div",8),b.Yb(8,"div",9),b.Tb(9,"i",10),b.Yb(10,"div",11),b.Yb(11,"a",12),b.Wc(12,"Download Pdf"),b.Xb(),b.Yb(13,"a",13),b.Wc(14,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"div",14),b.Yb(16,"div",15),b.Yb(17,"div",16),b.Yb(18,"table",17),b.Yb(19,"thead",18),b.Yb(20,"tr"),b.Yb(21,"th"),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th",19),b.Wc(24,"Seq"),b.Xb(),b.Yb(25,"th",19),b.Wc(26,"Date"),b.Xb(),b.Yb(27,"th",19),b.Wc(28,"Customer"),b.Xb(),b.Yb(29,"th",20),b.Wc(30,"Base "),b.Xb(),b.Yb(31,"th",20),b.Wc(32,"Discount "),b.Xb(),b.Yb(33,"th",20),b.Wc(34,"Taxes "),b.Xb(),b.Yb(35,"th",20),b.Wc(36,"Others "),b.Xb(),b.Yb(37,"th",20),b.Wc(38,"Total "),b.Xb(),b.Xb(),b.Xb(),b.Yb(39,"tbody"),b.Uc(40,Mo,19,9,"tr",21),b.Uc(41,ko,4,0,"tr",1),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(11),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc),b.Db(27),b.vc("ngForOf",i.details),b.Db(1),b.vc("ngIf",i.details.length<=0)}}function Wo(t,e){1&t&&(b.Yb(0,"span"),b.Yb(1,"h2"),b.Wc(2,"Please verify your authorization"),b.Xb(),b.Xb())}var wo=function(){function t(t,e,i,n,r){this.ckey=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.searchtext="",this.authCheck=!1,this.adm.screenCheck(7,9,2,0)?(this.listAdd(),this.authCheck=!0):(this.authCheck=!1,this.router.navigateByUrl("crm/crmunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.ckey.getListofPendingOrders().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return this.details=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile,this.spinner.hide(),console.log(t),[2]}))}))}))},t.prototype.makePdf=function(){this.adm.makePdf(this.pdffile)},t.prototype.makeExcel=function(){this.adm.makeExcel(this.excelfile)},t.\u0275fac=function(e){return new(e||t)(b.Sb(Wr),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-orders-pending"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"text-align","left"],[2,"text-align","right"],[4,"ngFor","ngForOf"],["align","left"],["align","right"],["colspan","9","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Do,42,4,"section",0),b.Uc(2,Wo,3,0,"span",1)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}();function xo(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",25),b.Yb(2,"font",26),b.Wc(3),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(3),b.Zc(" List of Tele Calls from ",i.adm.strDate(i.fromdate)," to ",i.adm.strDate(i.todate)," ")}}function Io(t,e){1&t&&b.Tb(0,"div",27)}function So(t,e){if(1&t&&(b.Yb(0,"div",28),b.Yb(1,"div",29),b.Tb(2,"i",30),b.Yb(3,"div",31),b.Yb(4,"a",32),b.Wc(5,"Download Pdf"),b.Xb(),b.Yb(6,"a",33),b.Wc(7,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(4),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc)}}function Ao(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td",39),b.Wc(4),b.Xb(),b.Yb(5,"td",39),b.Wc(6),b.Xb(),b.Yb(7,"td",39),b.Wc(8),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.det1),b.Db(2),b.Xc(i.det2),b.Db(2),b.Xc(i.det3)}}function Ro(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",40),b.Yb(2,"span",41),b.Wc(3," No records found "),b.Xb(),b.Xb(),b.Xb())}function Oo(t,e){if(1&t&&(b.Yb(0,"div",34),b.Yb(1,"table",35),b.Yb(2,"thead",36),b.Yb(3,"tr"),b.Yb(4,"th"),b.Wc(5,"#"),b.Xb(),b.Yb(6,"th",37),b.Wc(7,"Seq"),b.Xb(),b.Yb(8,"th",37),b.Wc(9,"Caller"),b.Xb(),b.Yb(10,"th",37),b.Wc(11,"Calls"),b.Xb(),b.Yb(12,"th",37),b.Wc(13,"Enquiries "),b.Xb(),b.Xb(),b.Xb(),b.Yb(14,"tbody"),b.Uc(15,Ao,9,4,"tr",38),b.Uc(16,Ro,4,0,"tr",19),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(15),b.vc("ngForOf",i.details),b.Db(1),b.vc("ngIf",i.details.length<=0)}}var Uo=new Date,To=function(){function t(t,e,i,n,r){this.crm=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.fromdate={year:Uo.getFullYear(),month:Uo.getMonth()+1,day:Uo.getDate()},this.todate={year:Uo.getFullYear(),month:Uo.getMonth()+1,day:Uo.getDate()},this.adm.screenCheck(7,9,2,0)?this.authCheck=!0:(this.authCheck=!1,this.router.navigateByUrl("fo/unAuthorize"))}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getTeleCallsList(this.adm.strDate(this.fromdate),this.adm.strDate(this.todate)).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return t=e,console.log(t),t&&(this.details=t.details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile),this.spinner.hide(),[2]}))}))}))},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(b.Sb(Wr),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-tele-calls-list"]],decls:44,vars:6,consts:[[1,"card-title"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[2,"width","100%"],[2,"width","20%"],[2,"width","10%"],[2,"width","50%"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d1","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["placeholder","yyyy-mm-dd","name","dp1","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],[4,"ngIf"],["style","width: 100%; height: 300px;",4,"ngIf"],["class","position-relative float-right",4,"ngIf"],[1,"card-content"],[1,"card-body"],["class","table-responsive",4,"ngIf"],["colspan","4"],["face","Arial","size","3","color","blue"],[2,"width","100%","height","300px"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"text-align","left"],[4,"ngFor","ngForOf"],["align","left"],["colspan","4","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){if(1&t){var i=b.Zb();b.Tb(0,"ngx-spinner"),b.Yb(1,"h3",0),b.Wc(2,"List of Tele Calls"),b.Xb(),b.Yb(3,"section",1),b.Yb(4,"div",2),b.Yb(5,"div",3),b.Yb(6,"div",4),b.Yb(7,"div",5),b.Yb(8,"table",6),b.Yb(9,"tr"),b.Yb(10,"td",7),b.Wc(11," From "),b.Xb(),b.Yb(12,"td",7),b.Wc(13," To "),b.Xb(),b.Yb(14,"td",8),b.Wc(15," \xa0 "),b.Xb(),b.Yb(16,"td",9),b.Wc(17,"\xa0"),b.Xb(),b.Xb(),b.Yb(18,"tr"),b.Yb(19,"td",7),b.Yb(20,"div",10),b.Yb(21,"input",11,12),b.kc("ngModelChange",(function(t){return e.fromdate=t})),b.Xb(),b.Yb(23,"div",13),b.Yb(24,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(22).toggle()})),b.Tb(25,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(26,"td",7),b.Yb(27,"div",10),b.Yb(28,"input",16,17),b.kc("ngModelChange",(function(t){return e.todate=t})),b.Xb(),b.Yb(30,"div",13),b.Yb(31,"div",14),b.kc("click",(function(){return b.Mc(i),b.Jc(29).toggle()})),b.Tb(32,"i",15),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(33,"td",8),b.Yb(34,"button",18),b.kc("click",(function(){return e.listAdd()})),b.Wc(35,"Show"),b.Xb(),b.Xb(),b.Yb(36,"td",9),b.Wc(37,"\xa0"),b.Xb(),b.Xb(),b.Uc(38,xo,4,2,"tr",19),b.Xb(),b.Uc(39,Io,1,0,"div",20),b.Uc(40,So,8,2,"div",21),b.Xb(),b.Yb(41,"div",22),b.Yb(42,"div",23),b.Uc(43,Oo,17,2,"div",24),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}2&t&&(b.Db(21),b.vc("ngModel",e.fromdate),b.Db(7),b.vc("ngModel",e.todate),b.Db(10),b.vc("ngIf",e.details),b.Db(1),b.vc("ngIf",!e.details),b.Db(1),b.vc("ngIf",e.details),b.Db(3),b.vc("ngIf",e.details))},directives:[r.a,X.q,d.c,d.q,d.t,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}();function Po(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",20),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Yb(9,"td"),b.Wc(10),b.Xb(),b.Yb(11,"td"),b.Wc(12),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.det1),b.Db(2),b.Xc(i.det2),b.Db(2),b.Xc(i.det3),b.Db(2),b.Xc(i.det4),b.Db(2),b.Xc(i.det5)}}function Fo(t,e){if(1&t&&(b.Yb(0,"section",2),b.Yb(1,"div",3),b.Yb(2,"div",4),b.Yb(3,"div",5),b.Yb(4,"div",6),b.Yb(5,"h4",7),b.Wc(6,"List of Pending Tele Calls"),b.Xb(),b.Yb(7,"div",8),b.Yb(8,"div",9),b.Tb(9,"i",10),b.Yb(10,"div",11),b.Yb(11,"a",12),b.Wc(12,"Download Pdf"),b.Xb(),b.Yb(13,"a",13),b.Wc(14,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"div",14),b.Yb(16,"div",15),b.Yb(17,"div",16),b.Yb(18,"table",17),b.Yb(19,"thead",18),b.Yb(20,"tr"),b.Yb(21,"th"),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th"),b.Wc(24,"Customer"),b.Xb(),b.Yb(25,"th"),b.Wc(26,"Mobile"),b.Xb(),b.Yb(27,"th"),b.Wc(28,"Scheduled"),b.Xb(),b.Yb(29,"th"),b.Wc(30,"Prev Mode"),b.Xb(),b.Yb(31,"th"),b.Wc(32,"Handled By"),b.Xb(),b.Xb(),b.Xb(),b.Yb(33,"tbody"),b.Uc(34,Po,13,6,"tr",19),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc();b.Db(11),b.vc("href",i.pdffile,b.Oc),b.Db(2),b.vc("href",i.excelfile,b.Oc),b.Db(21),b.vc("ngForOf",i.details)}}function Lo(t,e){1&t&&(b.Yb(0,"span"),b.Yb(1,"h2"),b.Wc(2,"Please verify your authorization"),b.Xb(),b.Xb())}var No=function(){function t(t,e,i,n,r){this.crm=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.searchtext="",this.authCheck=!1,this.adm.screenCheck(7,9,2,0)?(this.listAdd(),this.authCheck=!0):(this.authCheck=!1,this.router.navigateByUrl("crm/crmunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getTeleCallsPending().subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return this.details=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile,this.spinner.hide(),[2]}))}))}))},t.prototype.makePdf=function(){this.adm.makePdf(this.pdffile)},t.prototype.makeExcel=function(){this.adm.makeExcel(this.excelfile)},t.\u0275fac=function(e){return new(e||t)(b.Sb(Wr),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-pre-rep-tele-calls-pending"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Fo,35,3,"section",0),b.Uc(2,Lo,3,0,"span",1)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}(),qo=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getPriceListRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMPriceLists/GetPriceListRequirements",t,this.adm.makeConfig())},t.prototype.getPriceListRxRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMPriceLists/GetPriceListRequirementsRx",t,this.adm.makeConfig())},t.prototype.getPriceLists=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMPriceLists/GetCRMPricesLists",t,this.adm.makeConfig())},t.prototype.getPriceListInfo=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMPriceLists/GetCRMPriceListDetails",e,this.adm.makeConfig())},t.prototype.setPriceList=function(t,e,i){var n={header:t,lines:e,traCheck:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMPriceLists/setCRMPriceList",n,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Bo(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1," Active"),b.Xb())}function Eo(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1," Default"),b.Xb())}function Go(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1," Inactive"),b.Xb())}function zo(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",9),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.pc(7,"date"),b.Xb(),b.Yb(8,"td"),b.Uc(9,Bo,2,0,"span",0),b.Uc(10,Eo,2,0,"span",0),b.Uc(11,Go,2,0,"span",0),b.Xb(),b.Yb(12,"td"),b.Yb(13,"i",10),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).openOld(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.priceListName),b.Db(2),b.Xc(b.rc(7,6,n.effectiveDate,"dd-MMM-yy")),b.Db(3),b.vc("ngIf",1==n.pos),b.Db(1),b.vc("ngIf",2==n.pos),b.Db(1),b.vc("ngIf",3==n.pos)}}function $o(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Price Lists "),b.Xb(),b.Yb(3,"table",2),b.Yb(4,"tr"),b.Yb(5,"td",3),b.Yb(6,"button",4),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(7,"New"),b.Xb(),b.Xb(),b.Yb(8,"td",5),b.Wc(9," \xa0 "),b.Xb(),b.Xb(),b.Xb(),b.Yb(10,"table",6),b.Yb(11,"thead",7),b.Yb(12,"tr"),b.Yb(13,"th"),b.Wc(14,"#"),b.Xb(),b.Yb(15,"th"),b.Wc(16,"Price List"),b.Xb(),b.Yb(17,"th"),b.Wc(18,"Effect From"),b.Xb(),b.Yb(19,"th"),b.Wc(20,"Status"),b.Xb(),b.Tb(21,"th"),b.Xb(),b.Xb(),b.Yb(22,"tbody"),b.Uc(23,zo,14,9,"tr",8),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(23),b.vc("ngForOf",n.pricelists)}}function Zo(t,e){if(1&t){var i=b.Zb();b.Yb(0,"td",14),b.Yb(1,"button",26),b.kc("click",(function(){return b.Mc(i),b.oc(2).makeReset()})),b.Wc(2,"Make as new"),b.Xb(),b.Xb()}}function _o(t,e){1&t&&(b.Yb(0,"td",14),b.Wc(1,"\xa0"),b.Xb())}function jo(t,e){if(1&t&&(b.Yb(0,"option",30),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Xc(i.taxName)}}function Vo(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",9),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Yb(8,"input",27),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.price=t})),b.Xb(),b.Xb(),b.Yb(9,"td"),b.Yb(10,"select",17),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.tax=t})),b.Yb(11,"option",28),b.Wc(12,"--Select--"),b.Xb(),b.Uc(13,jo,2,2,"option",29),b.Xb(),b.Xb(),b.Yb(14,"td"),b.Wc(15),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index,o=b.oc(2);b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.grpname),b.Db(2),b.Xc(n.product),b.Db(2),b.vc("ngModel",n.price),b.Db(2),b.vc("ngModel",n.tax),b.Db(3),b.vc("ngForOf",o.taxes),b.Db(2),b.Yc(" ",n.uom," ")}}function Ko(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," Price Details"),b.Xb(),b.Yb(3,"table",11),b.Yb(4,"tr"),b.Yb(5,"td",12),b.Wc(6,"Price List Name"),b.Xb(),b.Yb(7,"td",13),b.Wc(8,"Effective From"),b.Xb(),b.Yb(9,"td",13),b.Wc(10,"\xa0"),b.Xb(),b.Yb(11,"td",12),b.Wc(12,"Status"),b.Xb(),b.Yb(13,"td",14),b.Wc(14," \xa0"),b.Xb(),b.Yb(15,"td",14),b.Wc(16," \xa0"),b.Xb(),b.Yb(17,"td",14),b.Wc(18,"\xa0"),b.Xb(),b.Yb(19,"td",14),b.Wc(20,"\xa0"),b.Xb(),b.Xb(),b.Yb(21,"tr"),b.Yb(22,"td",12),b.Yb(23,"input",15),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.PriceListName=t})),b.Xb(),b.Xb(),b.Yb(24,"td",13),b.Yb(25,"input",16),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.header.EffectiveDate=e.parseDate(t.target.value)})),b.pc(26,"date"),b.Xb(),b.Xb(),b.Yb(27,"td",13),b.Wc(28," \xa0 "),b.Xb(),b.Yb(29,"td",12),b.Yb(30,"select",17),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.Pos=t})),b.Yb(31,"option",18),b.Wc(32,"Active"),b.Xb(),b.Yb(33,"option",19),b.Wc(34,"Defualt"),b.Xb(),b.Yb(35,"option",20),b.Wc(36,"Inactive"),b.Xb(),b.Xb(),b.Xb(),b.Yb(37,"td",14),b.Yb(38,"button",21),b.kc("click",(function(){b.Mc(i);var t=b.oc(),e=b.Jc(4);return t.makeFilters(e)})),b.Wc(39,"Filters"),b.Xb(),b.Xb(),b.Yb(40,"td",14),b.Yb(41,"button",22),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(42,"Save"),b.Xb(),b.Xb(),b.Yb(43,"td",14),b.Yb(44,"button",23),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(45,"Close"),b.Xb(),b.Xb(),b.Uc(46,Zo,3,0,"td",24),b.Uc(47,_o,2,0,"td",24),b.Xb(),b.Xb(),b.Yb(48,"table",25),b.Yb(49,"thead",7),b.Yb(50,"tr"),b.Yb(51,"th"),b.Wc(52,"#"),b.Xb(),b.Yb(53,"th"),b.Wc(54,"Group"),b.Xb(),b.Yb(55,"th"),b.Wc(56,"Product"),b.Xb(),b.Yb(57,"th"),b.Wc(58,"Price"),b.Xb(),b.Yb(59,"th"),b.Wc(60,"Tax"),b.Xb(),b.Yb(61,"th"),b.Wc(62,"UOM"),b.Xb(),b.Xb(),b.Xb(),b.Yb(63,"tbody"),b.Uc(64,Vo,16,7,"tr",8),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(23),b.vc("ngModel",n.header.PriceListName),b.Db(2),b.vc("value",b.rc(26,6,n.header.EffectiveDate,"yyyy-MM-dd")),b.Db(5),b.vc("ngModel",n.header.Pos),b.Db(16),b.vc("ngIf",n.recordId>0),b.Db(1),b.vc("ngIf",0==n.recordId),b.Db(17),b.vc("ngForOf",n.pricedetails)}}function Qo(t,e){if(1&t&&(b.Yb(0,"option",30),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function Jo(t,e){if(1&t&&(b.Yb(0,"option",30),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Xc(i.taxName)}}function Ho(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",9),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Yb(8,"input",27),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.price=t})),b.Xb(),b.Xb(),b.Yb(9,"td"),b.Yb(10,"select",17),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.tax=t})),b.Yb(11,"option",28),b.Wc(12,"--Select--"),b.Xb(),b.Uc(13,Jo,2,2,"option",29),b.Xb(),b.Xb(),b.Yb(14,"td"),b.Wc(15),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index,o=b.oc(2);b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.grpname),b.Db(2),b.Xc(n.product),b.Db(2),b.vc("ngModel",n.price),b.Db(2),b.vc("ngModel",n.tax),b.Db(3),b.vc("ngForOf",o.taxes),b.Db(2),b.Yc(" ",n.uom," ")}}function tc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div",31),b.Yb(1,"h6",32),b.Wc(2,"Filter"),b.Xb(),b.Yb(3,"button",33),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(4,"span",34),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",35),b.Yb(7,"table",11),b.Yb(8,"tr"),b.Yb(9,"td",36),b.Wc(10,"Group"),b.Xb(),b.Yb(11,"td",36),b.Wc(12,"Search"),b.Xb(),b.Yb(13,"td",37),b.Wc(14,"Amount"),b.Xb(),b.Yb(15,"td",38),b.Wc(16,"\xa0"),b.Xb(),b.Yb(17,"td",38),b.Wc(18,"\xa0"),b.Xb(),b.Xb(),b.Yb(19,"tr"),b.Yb(20,"td",36),b.Yb(21,"select",39),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().grp=t}))("change",(function(){return b.Mc(i),b.oc().makeGroupFilters()})),b.Yb(22,"option",40),b.Wc(23,"--All--"),b.Xb(),b.Uc(24,Qo,2,2,"option",29),b.Xb(),b.Xb(),b.Yb(25,"td",36),b.Yb(26,"input",41),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().searchtext=t}))("input",(function(){return b.Mc(i),b.oc().makeTextFilter()})),b.Xb(),b.Xb(),b.Yb(27,"td",37),b.Yb(28,"input",27),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().calvalue=t})),b.Xb(),b.Xb(),b.Yb(29,"td",38),b.Yb(30,"select",17),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().caltype=t})),b.Yb(31,"option",18),b.Wc(32,"Add %"),b.Xb(),b.Yb(33,"option",19),b.Wc(34,"Add Value"),b.Xb(),b.Xb(),b.Xb(),b.Yb(35,"td",38),b.Yb(36,"button",42),b.kc("click",(function(){return b.Mc(i),b.oc().makeCalculations()})),b.Wc(37,"Add"),b.Xb(),b.Xb(),b.Xb(),b.Yb(38,"tr"),b.Yb(39,"td",43),b.Yb(40,"button",44),b.kc("click",(function(){return b.Mc(i),b.oc().assignValues()})),b.Wc(41,"Assign"),b.Xb(),b.Xb(),b.Yb(42,"td",38),b.Yb(43,"button",45),b.kc("click",(function(){return b.Mc(i),b.oc().resetValues()})),b.Wc(44,"Reset"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(45,"div",46),b.Yb(46,"table",25),b.Yb(47,"thead",7),b.Yb(48,"tr"),b.Yb(49,"th"),b.Wc(50,"#"),b.Xb(),b.Yb(51,"th",47),b.kc("click",(function(){return b.Mc(i),b.oc().categoryWiseSort()})),b.Wc(52,"Group"),b.Xb(),b.Yb(53,"th"),b.Wc(54,"Product"),b.Xb(),b.Yb(55,"th"),b.Wc(56,"Price"),b.Xb(),b.Yb(57,"th"),b.Wc(58,"Tax"),b.Xb(),b.Yb(59,"th"),b.Wc(60,"UOM"),b.Xb(),b.Xb(),b.Xb(),b.Yb(61,"tbody"),b.Uc(62,Ho,16,7,"tr",8),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(21),b.vc("ngModel",n.grp),b.Db(3),b.vc("ngForOf",n.groups),b.Db(2),b.vc("ngModel",n.searchtext),b.Db(2),b.vc("ngModel",n.calvalue),b.Db(2),b.vc("ngModel",n.caltype),b.Db(32),b.vc("ngForOf",n.filterdetails)}}var ec=function(){function t(t,e,i,n,r){var o=this;this.crm=t,this.adm=e,this.modalService=i,this.router=n,this.spinner=r,this.categorywisecheck=3,this.groups=[],this.grp=" ",this.searchtext="",this.caltype="1",this.calvalue=0,this.header={PriceListName:"",EffectiveDate:new Date,Pos:1,MrpCheck:0},this.recordId=0,this.mrpcheck=!1,this.opened=!1,this.adm.screenCheck(7,1,1,0)?(this.listAdd(),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getPriceListRequirements().subscribe((function(t){var e=t;o.pricedetails=e.prices,o.taxes=e.taxes}))):this.router.navigateByUrl("crm/crmunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.opened=!0},t.prototype.openOld=function(t){var e=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getPriceListInfo(t.recordId).subscribe((function(i){var n=i;console.log(n),e.header={PriceListName:n.header.priceListName,EffectiveDate:n.header.effectiveDate,Pos:n.header.pos,MrpCheck:n.header.mrpCheck},e.mrpcheck=n.header.mrpCheck,e.recordId=t.recordId,e.pricedetails=n.pricedetails,e.spinner.hide(),e.opened=!0}))},t.prototype.makeCle=function(){this.recordId=0,this.mrpcheck=!1,this.header={PriceListName:"",EffectiveDate:new Date,Pos:1,MrpCheck:0};for(var t=0;t<this.pricedetails.length;t++)this.pricedetails[t].price=0},t.prototype.makeReset=function(){this.recordId=0,this.mrpcheck=!1,this.header={PriceListName:"",EffectiveDate:new Date,Pos:1,MrpCheck:0},this.mrpcheck=!1},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getPriceLists().subscribe((function(e){t.pricelists=e,t.spinner.hide()}))},t.prototype.valChk=function(){return""!=this.header.PriceListName.trim()||(this.adm.showMessage("Price list not mentioned","Warning",3),!1)},t.prototype.save=function(){var t=this;this.valChk()&&g.a.fire({title:0==this.recordId?"Confirms Price Details":"Modifies Price Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var i=[],n=0;t.recordId>0?(t.header.RecordId=t.recordId,n=2):n=1,t.header.MrpCheck=t.mrpcheck?1:0,t.header.Pos=+t.header.Pos;for(var r=0;r<t.pricedetails.length;r++)i.push({ProductId:+t.pricedetails[r].productid,Price:+t.pricedetails[r].price,taxId:+t.pricedetails[r].tax>0?+t.pricedetails[r].tax:null});t.crm.setPriceList(t.header,i,n).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Price Details saved.","success"),t.listAdd(),t.close()):g.a.fire(i.result,"Error in transaction.","error"),t.spinner.hide()}))}}))},t.prototype.close=function(){this.opened=!1},t.prototype.parseDate=function(t){return t?new Date(t):null},t.prototype.makeFilters=function(t){this.subdetails=[],this.filterdetails=[];for(var e=0;e<this.pricedetails.length;e++)this.groupCheck(this.pricedetails[e].grpname)||this.groups.push(this.pricedetails[e].grpname),this.subdetails.push({productid:this.pricedetails[e].productid,product:this.pricedetails[e].product,grpname:this.pricedetails[e].grpname,uom:this.pricedetails[e].uom,price:this.pricedetails[e].price,tax:this.pricedetails[e].tax}),this.filterdetails.push({productid:this.pricedetails[e].productid,product:this.pricedetails[e].product,grpname:this.pricedetails[e].grpname,uom:this.pricedetails[e].uom,price:this.pricedetails[e].price,tax:this.pricedetails[e].tax});this.modalService.open(t,{backdrop:"static",windowClass:"terms-modal",keyboard:!1})},t.prototype.groupCheck=function(t){return this.groups.filter((function(e){return e==t})).length>0},t.prototype.makeGroupFilters=function(){var t=this;this.searchtext="",this.filterdetails=" "==this.grp?this.subdetails:this.subdetails.filter((function(e){return e.grpname==t.grp}))},t.prototype.makeTextFilter=function(){var t=this;this.filterdetails=""==this.searchtext.trim()?this.subdetails:this.subdetails.filter((function(e){return e.product.toUpperCase().includes(t.searchtext.toUpperCase())}))},t.prototype.makeCalculations=function(){if("1"==this.caltype)for(var t=0;t<this.filterdetails.length;t++)this.filterdetails[t].price=+this.filterdetails[t].price+ +this.calvalue/100*+this.filterdetails[t].price;else for(t=0;t<this.filterdetails.length;t++)this.filterdetails[t].price=+this.filterdetails[t].price+ +this.calvalue},t.prototype.resetValues=function(){for(var t=0;t<this.filterdetails.length;t++)this.filterdetails[t].price=this.findPrice(this.filterdetails[t])},t.prototype.findPrice=function(t){for(var e=0;e<this.pricedetails.length;e++)if(this.pricedetails[e].productid==t.productid)return this.pricedetails[e].price},t.prototype.assignValues=function(){var t=this;console.log(this.filterdetails,this.pricedetails);for(var e=0;e<this.filterdetails.length;e++){var i=this.pricedetails.filter((function(i){return i.productid==t.filterdetails[e].productid}));i.length>0&&(i[0].price=this.filterdetails[e].price,i[0].tax=this.filterdetails[e].tax)}},t.prototype.categoryWiseSort=function(){},t.\u0275fac=function(e){return new(e||t)(b.Sb(qo),b.Sb(a.a),b.Sb(X.r),b.Sb(o.c),b.Sb(r.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-price-list"]],decls:5,vars:2,consts:[[4,"ngIf"],["customContent",""],[2,"width","80%"],["align","left",2,"width","50%"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],["align","right",2,"width","50%"],[1,"table","m-0",2,"width","80%"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"],[1,"ft-edit","font-medium-1",3,"click"],[2,"width","100%"],[2,"width","18%"],[2,"width","16%"],[2,"width","8%"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],["type","date",1,"form-control",3,"value","input"],[1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],["type","button",1,"btn-lg","btn-danger",2,"width","100%",3,"click"],["type","button",1,"btn-lg","btn-primary",2,"width","100%",3,"click"],["type","button",1,"btn-lg","btn-dark",2,"width","100%",3,"click"],["style","width: 8%;",4,"ngIf"],[1,"table","m-0",2,"width","100%"],["type","button",1,"btn-lg","btn-warning",2,"width","100%",3,"click"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"width","30%"],[2,"width","20%"],[2,"width","10%"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value"," "],["type","text","placeholder","search...",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"btn-sm","btn-info",3,"click"],["colspan","4"],[1,"btn-sm","btn-success",3,"click"],[1,"btn-sm","btn-warning",3,"click"],[2,"width","100%","height","500px","overflow-y","scroll"],[3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,$o,24,1,"div",0),b.Uc(2,Ko,65,9,"div",0),b.Uc(3,tc,63,6,"ng-template",null,1,b.Vc)),2&t&&(b.Db(1),b.vc("ngIf",!e.opened),b.Db(1),b.vc("ngIf",e.opened))},directives:[r.a,n.p,n.o,d.c,d.q,d.t,d.z,d.u,d.B,d.v],pipes:[n.e],styles:["ng-sidebar-container{height:100vh}::ng-deep .ng-sidebar{background-color:#fff;width:95%}.has-search .form-control{padding-left:2.375rem}.has-search .form-control-feedback{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}#content{width:95%}.terms-modal .modal-content{width:900px;position:absolute;left:-200px}.terms-modal .close,.terms-modal .modal-title{color:#000}.dark-modal .modal-content{background-color:#292b2c;width:190%;color:#fff;position:absolute;left:-300px}.dark-modal .close,.dark-modal .modal-title{color:#fff}"],encapsulation:2}),t}(),ic=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getCRMQuotationRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMQuotations/GetSaleQuotationRequirements",t,this.adm.makeConfig())},t.prototype.getCRMQuotations=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={frmDate:t,toDate:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMQuotations/GetCRMQuotations",i,this.adm.makeConfig())},t.prototype.getCRMQuotation=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={recordId:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMQuotations/GetCRMQuotation",e,this.adm.makeConfig())},t.prototype.setCRMQuotation=function(t,e,i,n,r){var o={header:t,lines:e,terms:i,taxes:n,traCheck:r,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMQuotations/setCRMQuotation",o,this.adm.makeConfig())},t.prototype.getCRMQuotationsForApproval=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMQuotations/GetCRMQuotationsForApprovals",t,this.adm.makeConfig())},t.prototype.setCRMQuotationForApproval=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMQuotations/SetCRMQuotationForApproval",e,this.adm.makeConfig())},t.prototype.printQuotation=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMQuotations/PrintSaleQuotation",e,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function nc(t,e){if(1&t&&(b.Yb(0,"ng-option",53),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.vc("value",i.recordId),b.Db(1),b.Xc(i.partyName)}}function rc(t,e){if(1&t&&(b.Yb(0,"option",53),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.addressName),b.Db(1),b.Xc(i.addressName)}}function oc(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1,"Terms"),b.Xb())}function cc(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1,"Customers"),b.Xb())}function ac(t,e){1&t&&(b.Yb(0,"span"),b.Wc(1,"Materials"),b.Xb())}function sc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td",61),b.Wc(2),b.Xb(),b.Yb(3,"td",62),b.Yb(4,"i",63),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(4).delTerm(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit;b.Db(2),b.Yc(" ",n," ")}}function bc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"table",28),b.Yb(1,"tr"),b.Yb(2,"td",61),b.Yb(3,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(3).term=t})),b.Xb(),b.Xb(),b.Yb(4,"td",62),b.Yb(5,"button",25),b.kc("click",(function(){return b.Mc(i),b.oc(3).addTerm()})),b.Wc(6,"Add"),b.Xb(),b.Xb(),b.Xb(),b.Uc(7,sc,5,1,"tr",45),b.Xb()}if(2&t){var n=b.oc(3);b.Db(3),b.vc("ngModel",n.term),b.Db(4),b.vc("ngForOf",n.terms)}}function dc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"app-crm-customers-child",64),b.kc("notify",(function(t){return b.Mc(i),b.oc(3).getNewSupplier(t)})),b.Xb()}}function lc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"app-crm-materials-child",64),b.kc("notify",(function(t){return b.Mc(i),b.oc(3).getNewMaterial(t)})),b.Xb()}}function uc(t,e){if(1&t&&(b.Yb(0,"div",54),b.Yb(1,"h6",55),b.Uc(2,oc,2,0,"span",0),b.Uc(3,cc,2,0,"span",0),b.Uc(4,ac,2,0,"span",0),b.Xb(),b.Yb(5,"button",56),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(6,"span",57),b.Wc(7,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(8,"div",58),b.Uc(9,bc,8,2,"table",59),b.Uc(10,dc,1,0,"app-crm-customers-child",60),b.Uc(11,lc,1,0,"app-crm-materials-child",60),b.Xb()),2&t){var i=b.oc(2);b.Db(2),b.vc("ngIf",4==i.modeltype),b.Db(1),b.vc("ngIf",1==i.modeltype),b.Db(1),b.vc("ngIf",2==i.modeltype),b.Db(5),b.vc("ngIf",4==i.modeltype),b.Db(1),b.vc("ngIf",1==i.modeltype),b.Db(1),b.vc("ngIf",2==i.modeltype)}}function hc(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Xb()),2&t){var i=e.$implicit;b.Db(2),b.Xc(i.itemname),b.Db(2),b.Xc(i.taxcode),b.Db(2),b.Xc(i.taxper),b.Db(2),b.Xc(i.taxvalu)}}function pc(t,e){if(1&t&&(b.Yb(0,"div"),b.Yb(1,"table",41),b.Yb(2,"thead",42),b.Yb(3,"tr"),b.Yb(4,"th"),b.Wc(5,"Item"),b.Xb(),b.Yb(6,"th"),b.Wc(7,"Tax"),b.Xb(),b.Yb(8,"th"),b.Wc(9,"Tax%"),b.Xb(),b.Yb(10,"th"),b.Wc(11,"Tax"),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"tbody"),b.Uc(13,hc,9,4,"tr",45),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc(3);b.Db(13),b.vc("ngForOf",i.taxes)}}function mc(t,e){if(1&t&&(b.Yb(0,"div",54),b.Yb(1,"h6",55),b.Wc(2),b.Xb(),b.Yb(3,"button",56),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(4,"span",57),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",58),b.Uc(7,pc,14,1,"div",0),b.Xb()),2&t){var i=b.oc(2);b.Db(2),b.Xc(i.title),b.Db(5),b.vc("ngIf","Taxes"==i.title)}}function fc(t,e){if(1&t&&(b.Yb(0,"ng-option",53),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.vc("value",i.recordId),b.Db(1),b.Xc(i.itemname)}}function gc(t,e){if(1&t&&(b.Yb(0,"option",53),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.umid),b.Db(1),b.Xc(i.um)}}function Xc(t,e){if(1&t&&(b.Yb(0,"option",53),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.taxid),b.Db(1),b.Xc(i.taxname)}}function Yc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td",43),b.Wc(2),b.Xb(),b.Yb(3,"td",44),b.Wc(4),b.Xb(),b.Yb(5,"td",31),b.Yb(6,"input",65),b.kc("input",(function(){return b.Mc(i),b.oc(2).makeCalcu()}))("ngModelChange",(function(t){return b.Mc(i),e.$implicit.qty=t})),b.Xb(),b.Xb(),b.Yb(7,"td",31),b.Wc(8),b.Xb(),b.Yb(9,"td",31),b.Yb(10,"input",66),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.leaddays=t})),b.Xb(),b.Xb(),b.Yb(11,"td",31),b.Yb(12,"input",65),b.kc("input",(function(){return b.Mc(i),b.oc(2).makeCalcu()}))("ngModelChange",(function(t){return b.Mc(i),e.$implicit.rat=t})),b.Xb(),b.Xb(),b.Yb(13,"th",31),b.Wc(14),b.pc(15,"number"),b.Xb(),b.Yb(16,"td",31),b.Wc(17),b.pc(18,"number"),b.Xb(),b.Yb(19,"td",43),b.Yb(20,"i",63),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).deleteItem(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Yc(" ",n.itemname,""),b.Db(2),b.vc("ngModel",n.qty),b.Db(2),b.Xc(n.um),b.Db(2),b.vc("ngModel",n.leaddays),b.Db(2),b.vc("ngModel",n.rat),b.Db(2),b.Yc(" ",b.rc(15,8,n.qty*n.rat*n.discper/100,"0.2")," "),b.Db(3),b.Xc(b.rc(18,11,n.qty*n.rat-n.qty*n.rat*n.discper/100,"0.2"))}}function vc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",67),b.kc("click",(function(){return b.Mc(i),b.oc(2).delete()})),b.Wc(1,"Delete"),b.Xb()}if(2&t){var n=b.oc(2);b.vc("disabled",!n.delCheck)}}function yc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," Sale Quotation Details "),b.Xb(),b.Tb(3,"br"),b.Yb(4,"table",1),b.Yb(5,"tr"),b.Yb(6,"td",2),b.Wc(7," Customer "),b.Xb(),b.Yb(8,"td",3),b.Yb(9,"ng-select",4),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().custid=t}))("change",(function(t){return b.Mc(i),b.oc().findAddresses(t)})),b.Uc(10,nc,2,2,"ng-option",5),b.Xb(),b.Xb(),b.Yb(11,"td",6),b.Yb(12,"button",7),b.kc("click",(function(){b.Mc(i);var t=b.Jc(114);return b.oc().openModal(t,1)})),b.Wc(13,"New"),b.Xb(),b.Xb(),b.Yb(14,"td",2),b.Wc(15," SQ No "),b.Xb(),b.Yb(16,"td",8),b.Yb(17,"input",9),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().poseq=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"tr"),b.Yb(19,"td",2),b.Wc(20,"Check Address"),b.Xb(),b.Yb(21,"td",10),b.Yb(22,"select",11),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().addr=t}))("change",(function(){return b.Mc(i),b.oc().assignAddress()})),b.Yb(23,"option",12),b.Wc(24,"-Select-"),b.Xb(),b.Uc(25,rc,2,2,"option",5),b.Xb(),b.Xb(),b.Yb(26,"td",2),b.Wc(27," Transaction Date "),b.Xb(),b.Yb(28,"td",8),b.Yb(29,"input",13),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.tradat=e.parseDate(t.target.value)})),b.pc(30,"date"),b.Xb(),b.Xb(),b.Xb(),b.Yb(31,"tr"),b.Yb(32,"td",14),b.Wc(33,"Address"),b.Xb(),b.Yb(34,"td",15),b.Yb(35,"textarea",16),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.address=t})),b.Xb(),b.Xb(),b.Yb(36,"td",2),b.Wc(37,"ZIP"),b.Xb(),b.Yb(38,"td",17),b.Yb(39,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.zip=t})),b.Xb(),b.Xb(),b.Yb(40,"td",2),b.Wc(41," Validitydate Date "),b.Xb(),b.Yb(42,"td",8),b.Yb(43,"input",13),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.validitydate=e.parseDate(t.target.value)})),b.pc(44,"date"),b.Xb(),b.Xb(),b.Xb(),b.Yb(45,"tr"),b.Yb(46,"td",2),b.Wc(47,"Mobile"),b.Xb(),b.Yb(48,"td",17),b.Yb(49,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.mobile=t})),b.Xb(),b.Xb(),b.Yb(50,"td",2),b.Wc(51," Sale type "),b.Xb(),b.Yb(52,"td",8),b.Yb(53,"select",19),b.Yb(54,"option",20),b.Wc(55,"General"),b.Xb(),b.Yb(56,"option",21),b.Wc(57,"Central"),b.Xb(),b.Yb(58,"option",22),b.Wc(59,"Imports"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(60,"tr"),b.Yb(61,"td",2),b.Wc(62," Country "),b.Xb(),b.Yb(63,"td",23),b.Yb(64,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.country=t})),b.Xb(),b.Xb(),b.Yb(65,"td",2),b.Wc(66," Tel "),b.Xb(),b.Yb(67,"td",17),b.Yb(68,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.tel=t})),b.Xb(),b.Xb(),b.Yb(69,"td",2),b.Wc(70," Employee "),b.Xb(),b.Yb(71,"td",8),b.Yb(72,"input",24),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().employee.name=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(73,"tr"),b.Yb(74,"td",2),b.Wc(75," State "),b.Xb(),b.Yb(76,"td",23),b.Yb(77,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.stat=t})),b.Xb(),b.Xb(),b.Yb(78,"td",2),b.Wc(79," Fax "),b.Xb(),b.Yb(80,"td",17),b.Yb(81,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.fax=t})),b.Xb(),b.Xb(),b.Yb(82,"td",2),b.Wc(83," Designation "),b.Xb(),b.Yb(84,"td",8),b.Yb(85,"input",24),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().employee.designation=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(86,"tr"),b.Yb(87,"td",2),b.Wc(88," District "),b.Xb(),b.Yb(89,"td",23),b.Yb(90,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.district=t})),b.Xb(),b.Xb(),b.Yb(91,"td",2),b.Wc(92," Email "),b.Xb(),b.Yb(93,"td",17),b.Yb(94,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.email=t})),b.Xb(),b.Xb(),b.Yb(95,"td",2),b.Wc(96," Mobile "),b.Xb(),b.Yb(97,"td",8),b.Yb(98,"input",24),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().employee.mobile=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(99,"tr"),b.Yb(100,"td",2),b.Wc(101," City "),b.Xb(),b.Yb(102,"td",23),b.Yb(103,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.city=t})),b.Xb(),b.Xb(),b.Yb(104,"td",2),b.Wc(105," Web "),b.Xb(),b.Yb(106,"td",17),b.Yb(107,"input",18),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().supdetail.webid=t})),b.Xb(),b.Xb(),b.Yb(108,"td",2),b.Wc(109," \xa0 "),b.Xb(),b.Yb(110,"td",8),b.Yb(111,"button",25),b.kc("click",(function(){b.Mc(i);var t=b.Jc(114);return b.oc().openModal(t,4)})),b.Wc(112,"Terms"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Uc(113,uc,12,6,"ng-template",null,26,b.Vc),b.Uc(115,mc,8,2,"ng-template",null,27,b.Vc),b.Tb(117,"br"),b.Yb(118,"table",28),b.Yb(119,"tr"),b.Yb(120,"td",29),b.Wc(121,"Material"),b.Xb(),b.Yb(122,"td",30),b.Wc(123,"\xa0"),b.Xb(),b.Yb(124,"td",6),b.Wc(125,"Qty"),b.Xb(),b.Yb(126,"td",6),b.Wc(127,"UOM"),b.Xb(),b.Yb(128,"td",6),b.Wc(129,"Lead Days"),b.Xb(),b.Yb(130,"td",31),b.Wc(131,"Rate"),b.Xb(),b.Yb(132,"td",6),b.Wc(133,"Disc%"),b.Xb(),b.Yb(134,"td",6),b.Wc(135,"Discount"),b.Xb(),b.Yb(136,"td",31),b.Wc(137,"Tax"),b.Xb(),b.Yb(138,"td",32),b.Wc(139,"\xa0"),b.Xb(),b.Xb(),b.Yb(140,"tr"),b.Yb(141,"td",29),b.Yb(142,"ng-select",33),b.kc("change",(function(t){return b.Mc(i),b.oc().makeUnits(t)})),b.Uc(143,fc,2,2,"ng-option",5),b.Xb(),b.Xb(),b.Yb(144,"td",30),b.Yb(145,"button",7),b.kc("click",(function(){b.Mc(i);var t=b.Jc(114);return b.oc().openModal(t,2)})),b.Wc(146,"New"),b.Xb(),b.Xb(),b.Yb(147,"td",6),b.Yb(148,"input",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().qty=t})),b.Xb(),b.Xb(),b.Yb(149,"td",6),b.Yb(150,"select",35),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().umid=t})),b.Uc(151,gc,2,2,"option",5),b.Xb(),b.Xb(),b.Yb(152,"td",6),b.Yb(153,"input",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().leaddays=t})),b.Xb(),b.Xb(),b.Yb(154,"td",6),b.Yb(155,"input",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().rat=t})),b.Xb(),b.Xb(),b.Yb(156,"td",6),b.Yb(157,"input",34),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().discper=t})),b.Xb(),b.Xb(),b.Yb(158,"td",6),b.Tb(159,"input",36),b.Xb(),b.Yb(160,"td",31),b.Yb(161,"select",37),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().itemtax=t})),b.Yb(162,"option",38),b.Wc(163,"--Select--"),b.Xb(),b.Uc(164,Xc,2,2,"option",5),b.Xb(),b.Xb(),b.Yb(165,"td",32),b.Yb(166,"button",25),b.kc("click",(function(){return b.Mc(i),b.oc().addItems()})),b.Wc(167,"Add"),b.Xb(),b.Xb(),b.Xb(),b.Yb(168,"tr"),b.Yb(169,"td",39),b.Yb(170,"div",40),b.Yb(171,"table",41),b.Yb(172,"thead",42),b.Yb(173,"tr"),b.Yb(174,"th",43),b.Wc(175,"#"),b.Xb(),b.Yb(176,"th",44),b.Wc(177,"Material"),b.Xb(),b.Yb(178,"th",31),b.Wc(179,"Qty"),b.Xb(),b.Yb(180,"th",31),b.Wc(181,"UOM"),b.Xb(),b.Yb(182,"th",31),b.Wc(183,"Lead Days"),b.Xb(),b.Yb(184,"th",31),b.Wc(185,"Rate"),b.Xb(),b.Yb(186,"th",31),b.Wc(187,"Discount"),b.Xb(),b.Yb(188,"th",31),b.Wc(189,"Value"),b.Xb(),b.Tb(190,"th",43),b.Xb(),b.Xb(),b.Yb(191,"tbody"),b.Uc(192,Yc,21,14,"tr",45),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(193,"table",28),b.Yb(194,"tr"),b.Yb(195,"td",46),b.Wc(196,"Base"),b.Xb(),b.Yb(197,"td",46),b.Wc(198,"Discount"),b.Xb(),b.Yb(199,"td",46),b.Wc(200,"Taxes"),b.Xb(),b.Yb(201,"td",31),b.Wc(202,"\xa0"),b.Xb(),b.Yb(203,"td",46),b.Wc(204,"Others"),b.Xb(),b.Yb(205,"td",46),b.Wc(206,"Total"),b.Xb(),b.Xb(),b.Yb(207,"tr"),b.Yb(208,"td",46),b.Tb(209,"input",47),b.pc(210,"number"),b.Xb(),b.Yb(211,"td",46),b.Yb(212,"input",48),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().discount=t}))("input",(function(){return b.Mc(i),b.oc().makeOthers()})),b.Xb(),b.Xb(),b.Yb(213,"td",46),b.Tb(214,"input",47),b.pc(215,"number"),b.Xb(),b.Yb(216,"td",31),b.Yb(217,"button",25),b.kc("click",(function(){b.Mc(i);var t=b.Jc(116);return b.oc().open(t,2)})),b.Wc(218,"Add"),b.Xb(),b.Xb(),b.Yb(219,"td",46),b.Yb(220,"input",49),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().otherAmt=t}))("input",(function(){return b.Mc(i),b.oc().makeOthers()})),b.Xb(),b.Xb(),b.Yb(221,"td",46),b.Tb(222,"input",47),b.pc(223,"number"),b.Xb(),b.Xb(),b.Xb(),b.Yb(224,"table"),b.Yb(225,"tr"),b.Yb(226,"td",17),b.Uc(227,vc,2,1,"button",50),b.Yb(228,"button",51),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(229),b.Xb(),b.Yb(230,"button",52),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(231,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(9),b.vc("ngModel",n.custid),b.Db(1),b.vc("ngForOf",n.suppliers),b.Db(7),b.vc("ngModel",n.poseq),b.Db(5),b.vc("ngModel",n.addr),b.Db(3),b.vc("ngForOf",n.addresses),b.Db(4),b.vc("value",b.rc(30,40,n.tradat,"yyyy-MM-dd")),b.Db(6),b.vc("ngModel",n.supdetail.address),b.Db(4),b.vc("ngModel",n.supdetail.zip),b.Db(4),b.vc("value",b.rc(44,43,n.validitydate,"yyyy-MM-dd")),b.Db(6),b.vc("ngModel",n.supdetail.mobile),b.Db(15),b.vc("ngModel",n.supdetail.country),b.Db(4),b.vc("ngModel",n.supdetail.tel),b.Db(4),b.vc("ngModel",n.employee.name),b.Db(5),b.vc("ngModel",n.supdetail.stat),b.Db(4),b.vc("ngModel",n.supdetail.fax),b.Db(4),b.vc("ngModel",n.employee.designation),b.Db(5),b.vc("ngModel",n.supdetail.district),b.Db(4),b.vc("ngModel",n.supdetail.email),b.Db(4),b.vc("ngModel",n.employee.mobile),b.Db(5),b.vc("ngModel",n.supdetail.city),b.Db(4),b.vc("ngModel",n.supdetail.webid),b.Db(36),b.vc("ngForOf",n.items),b.Db(5),b.vc("ngModel",n.qty),b.Db(2),b.vc("ngModel",n.umid),b.Db(1),b.vc("ngForOf",n.units),b.Db(2),b.vc("ngModel",n.leaddays),b.Db(2),b.vc("ngModel",n.rat),b.Db(2),b.vc("ngModel",n.discper),b.Db(2),b.wc("value",n.qty*n.rat*n.discper/100),b.Db(2),b.vc("ngModel",n.itemtax),b.Db(3),b.vc("ngForOf",n.itemtaxes),b.Db(28),b.vc("ngForOf",n.itemdetails),b.Db(17),b.wc("value",b.rc(210,46,n.baseAmt,"0.2")),b.Db(3),b.vc("ngModel",n.discount),b.Db(2),b.wc("value",b.rc(215,49,n.taxesAmt,"0.2")),b.Db(6),b.vc("ngModel",n.otherAmt),b.Db(2),b.wc("value",b.rc(223,52,n.totalAmt,"0.2")),b.Db(5),b.vc("ngIf",n.delVisible),b.Db(1),b.vc("disabled",!n.creCheck),b.Db(1),b.Xc(n.saveStr)}}function Cc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",73),b.Wc(2),b.Xb(),b.Yb(3,"td",62),b.Wc(4),b.Xb(),b.Yb(5,"td",23),b.Wc(6),b.Xb(),b.Yb(7,"td",62),b.Wc(8),b.Xb(),b.Yb(9,"td",2),b.Wc(10),b.pc(11,"number"),b.Xb(),b.Yb(12,"td",2),b.Wc(13),b.pc(14,"number"),b.Xb(),b.Yb(15,"th",74),b.Wc(16),b.pc(17,"number"),b.Xb(),b.Yb(18,"td",43),b.Yb(19,"i",75),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).openOld(t)})),b.Xb(),b.Xb(),b.Yb(20,"td",43),b.Yb(21,"i",76),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).printOrder(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.seq),b.Db(2),b.Xc(n.partyName),b.Db(2),b.Xc(n.mobile),b.Db(2),b.Xc(b.rc(11,7,n.baseamt,"0.2")),b.Db(3),b.Xc(b.rc(14,10,n.others,"0.2")),b.Db(3),b.Xc(b.rc(17,13,n.totalAmt,"0.2"))}}function Mc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Sale Quotations "),b.Xb(),b.Yb(3,"table",28),b.Yb(4,"tr"),b.Yb(5,"td",68),b.Yb(6,"input",13),b.kc("input",(function(t){b.Mc(i);var e=b.oc();return e.listdat=e.parseDate(t.target.value)})),b.pc(7,"date"),b.Xb(),b.Xb(),b.Yb(8,"td",69),b.Yb(9,"button",70),b.kc("click",(function(){return b.Mc(i),b.oc().ShowOrders()})),b.Wc(10,"Show"),b.Xb(),b.Xb(),b.Yb(11,"td",69),b.Yb(12,"button",71),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(13,"New"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(14,"table",41),b.Yb(15,"thead",42),b.Yb(16,"tr"),b.Yb(17,"th",43),b.Wc(18,"#"),b.Xb(),b.Yb(19,"th",62),b.Wc(20,"SQ"),b.Xb(),b.Yb(21,"th",23),b.Wc(22,"Customer"),b.Xb(),b.Yb(23,"th",62),b.Wc(24,"Mobile"),b.Xb(),b.Yb(25,"th",72),b.Wc(26,"Base Amount"),b.Xb(),b.Yb(27,"th",72),b.Wc(28,"Others"),b.Xb(),b.Yb(29,"th",72),b.Wc(30,"Total"),b.Xb(),b.Tb(31,"th",43),b.Tb(32,"th",43),b.Xb(),b.Xb(),b.Yb(33,"tbody"),b.Uc(34,Cc,22,16,"tr",45),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(6),b.vc("value",b.rc(7,2,n.listdat,"yyyy-MM-dd")),b.Db(28),b.vc("ngForOf",n.purchaseorders)}}new Date;var kc=function(){function t(t){this.activeModal=t}return t.\u0275fac=function(e){return new(e||t)(b.Sb(X.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["ngbd-modal-content"]],inputs:{name:"name"},decls:12,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,e){1&t&&(b.Yb(0,"div",0),b.Yb(1,"h4",1),b.Wc(2,"Hi there!"),b.Xb(),b.Yb(3,"button",2),b.kc("click",(function(){return e.activeModal.dismiss("Cross click")})),b.Yb(4,"span",3),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",4),b.Yb(7,"p"),b.Wc(8),b.Xb(),b.Xb(),b.Yb(9,"div",5),b.Yb(10,"button",6),b.kc("click",(function(){return e.activeModal.close("Close click")})),b.Wc(11,"Close"),b.Xb(),b.Xb()),2&t&&(b.Db(8),b.Yc("Hello, ",e.name,"!"))},encapsulation:2}),t}(),Dc=function(){function t(t,e,i,n,r,o,c,a){this.acc=t,this.adm=e,this.ino=i,this.modalService=n,this.spinner=r,this.router=o,this.toastr=c,this.inv=a,this.fileName="../../../assets/img/employee.jpg",this.NewfileReqObj=[],this.fileNames=[],this.files=[],this.filename="",this.modeltype=0,this.discper=0,this.creCheck=!1,this.delCheck=!1,this.delVisible=!1,this.dateCheck=!1,this.saveStr="",this.recordID=0,this.title="",this.addr="",this.itemtax=0,this.itemtaxes=[],this.employee={recordid:null,name:"",mobile:"",designation:""},this.custid=null,this.supdetail={accountId:0,accountname:"",address:"",country:" ",stat:" ",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",webid:"",pricelist:""},this.enqid=-1,this.poseq="",this.items={},this.material={grp:"",itemcode:"",itemname:"",recordId:-1,reorderqty:0,shelflife:0,statu:"",stdrat:0,stdum:"",stdumId:0},this.slno=1,this.itemdetails=[],this.terms=[],this.taxes=[],this.tradat=new Date,this.validitydate=new Date,this.qty=null,this.umid=-1,this.rat=null,this.leaddays=null,this.baseAmt=0,this.discount=0,this.taxesAmt=0,this.otherAmt=0,this.totalAmt=0,this.advanceCheck=!1,this.advseq="",this.advanceamt=0,this.advancemode=" ",this.advanbankdet="",this.pono="",this.advasupplier="",this.orderamt=0,this.advvoucher="",this.listdat=new Date,this.opened=!1,this.adm.screenCheck(7,2,3,0)?(this.delCheck=this.adm.screenCheck(7,2,3,3),this.dateCheck=this.adm.screenCheck(7,2,3,4),this.listAdd()):this.router.navigateByUrl("crm/crmunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.creCheck=this.adm.screenCheck(7,2,3,1),this.saveStr="Save",this.opened=!0},t.prototype.makeCle=function(){this.validitydate.setDate(this.validitydate.getDate()+15),this.slno=1,this.delVisible=!1,this.recordID=0,this.supdetail={accountId:0,accountname:"",address:"",country:" ",stat:" ",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",webid:"",pricelist:""},this.itemdetails=[];for(var t=0;t<this.taxes.length;t++)this.taxes[t].taxvalue=0;this.baseAmt=0,this.discount=0,this.taxesAmt=0,this.otherAmt=0,this.totalAmt=0},t.prototype.openOld=function(t){var e=this;t.pos<=2?(this.recordID=t.recordId,this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.ino.getCRMQuotation(this.recordID).subscribe((function(t){var i=t;if(console.log(i,"result"),"OK"==i.result){if(e.delVisible=!0,e.creCheck=e.adm.screenCheck(7,2,3,2),e.saveStr="Modify",e.opened=!0,i.header){e.supdetail={accountId:i.header.partyId,accountname:i.header.partyName,address:i.header.addr,country:null,empno:i.header.refEmployee,stat:i.header.stat,district:i.header.district,city:i.header.city,zip:i.header.zip,mobile:i.header.mobile,tel:i.header.tel,fax:i.header.fax,email:i.header.email,webid:i.header.webid},e.custid=i.header.partyId,e.baseAmt=i.header.baseamt,e.discount=i.header.discount,e.taxesAmt=i.header.taxes,e.otherAmt=i.header.others,e.totalAmt=i.header.totalAmt,e.poseq=i.header.seq,e.itemdetails=[];for(var n=0;n<i.lines.length;n++)e.itemdetails.push({slno:i.lines[n].sno,itemid:i.lines[n].itemId,itemname:i.lines[n].itemName,umid:i.lines[n].um,um:i.lines[n].branchId,qty:i.lines[n].qty,rat:i.lines[n].rat,discper:i.lines[n].discPer,leaddays:i.lines[n].leadDays,value:+i.lines[n].qty*+i.lines[n].rat});for(e.taxes=[],n=0;n<i.taxes.length;n++)e.taxes.push({taxcode:i.taxes[n].taxCode,taxper:i.taxes[n].taxper,taxvalu:i.taxes[n].taxValue,lineid:i.taxes[n].lineId,itemname:e.findItemName(i,i.taxes[n].lineId)});for(n=0;n<i.terms.length;n++)e.terms.filter((function(t){return t.includes(i.terms[n].term)})).length<=0&&e.terms.push(i.terms[n].term)}e.makeEmployee(),e.spinner.hide()}else e.adm.showMessage(i.result,"Error",4),e.spinner.hide()}))):this.adm.showMessage("This quotation is processed for further transaction","Warning",3)},t.prototype.findItemName=function(t,e){var i=t.lines.filter((function(t){return t.sno==e})),n="";return i.length>0&&(n=i[0].itemName),n},t.prototype.valChk=function(){return!0},t.prototype.delete=function(){var t=this;g.a.fire({title:"Deletes Sale Quotation Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});for(var i={RecordId:t.recordID,Dat:new Date(t.adm.stringData(t.tradat)),PurchaseType:"General",RefQuotationId:+t.enqid,Validity:new Date(t.adm.stringData(t.validitydate)),Vendorid:t.supdetail.accountId,Vendorname:t.supdetail.accountname,Addr:t.supdetail.address,Country:t.supdetail.country,Stat:t.supdetail.stat,District:t.supdetail.district,City:t.supdetail.city,Zip:t.supdetail.zip,Mobile:t.supdetail.mobile,Tel:t.supdetail.tel,Fax:t.supdetail.fax,Email:t.supdetail.email,Webid:t.supdetail.webid,Baseamt:t.baseAmt,Discount:t.discount,Taxes:t.taxesAmt,Others:t.otherAmt,TotalAmt:t.totalAmt},n=[],r=0;r<t.itemdetails.length;r++)n.push({ItemId:t.itemdetails[r].itemid,ItemName:t.itemdetails[r].itemname,Qty:t.itemdetails[r].qty,Um:t.itemdetails[r].umid,Rat:t.itemdetails[r].rat,LeadDays:t.itemdetails[r].leaddays});var o=[];for(r=0;r<t.terms.length;r++)o.push({Term:t.terms[r]});var c=[];for(r=0;r<t.taxes.length;r++)t.taxes[r].taxvalue>0&&c.push({Taxcode:t.taxes[r].taxcode,Taxper:t.taxes[r].taxper,Taxvalue:t.taxes[r].taxvalue});t.ino.setCRMQuotation(i,n,o,c,3).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Your Sale Quotation deleted.","success"),t.listAdd(),t.makeCle(),t.opened=!1):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()}))}}))},t.prototype.addTerms=function(){},t.prototype.addItems=function(){this.material.itemname&&""!=this.material.itemname?this.qty<=0?this.adm.showMessage("Qty not mentioned","Warning",3):this.rat<=0?this.adm.showMessage("Rate not mentioned","Warning",3):(this.itemdetails.push({slno:this.slno,itemid:this.material.recordId,itemname:this.material.itemname,umid:+this.umid,um:this.findUnit(+this.umid),qty:this.qty,discper:this.discper,discount:this.qty*this.rat*this.discper/100,taxid:this.itemtax,leaddays:+this.leaddays,rat:this.rat,value:this.qty*this.rat}),this.slno++,this.material={grp:"",itemcode:"",itemname:"",recordId:-1,reorderqty:0,shelflife:0,statu:"",stdrat:0,stdum:"",stdumId:0},this.qty=null,this.rat=null,this.leaddays=null,this.discper=0,this.makeCalcu()):this.adm.showMessage("Material not selected","Warning",3)},t.prototype.findUnit=function(t){var e=this.units.filter((function(e){return e.umid==t}));return e.length>0?e[0].um:" "},t.prototype.deleteItem=function(t){var e=this.itemdetails.indexOf(t);e>=0&&(this.itemdetails.splice(e,1),this.makeCalcu())},t.prototype.makeCalcu=function(){this.makeTaxes(),this.baseAmt=0,this.discount=0;for(var t=0;t<this.itemdetails.length;t++)this.baseAmt=this.baseAmt+ +this.itemdetails[t].qty*+this.itemdetails[t].rat,this.discount=this.discount+ +this.itemdetails[t].qty*+this.itemdetails[t].rat*(+this.itemdetails[t].discper/100);this.makeOthers()},t.prototype.makeTaxes=function(){var t=this;this.taxes=[];for(var e=0;e<this.itemdetails.length;e++){var i=this.totalrequirements.taxesdet.filter((function(i){return i.recordId==t.itemdetails[e].taxid}));if(i.length>0)for(var n=0;n<i.length;n++)this.taxes.push({taxcode:i[n].taxCode,taxper:i[n].taxper,taxvalu:Math.round((this.itemdetails[e].qty*this.itemdetails[e].rat-this.itemdetails[e].discount)*i[n].taxper/100),lineid:this.itemdetails[e].slno,itemname:this.itemdetails[e].itemname})}for(this.taxesAmt=0,e=0;e<this.taxes.length;e++)this.taxesAmt=this.taxesAmt+this.taxes[e].taxvalu;this.makeOthers()},t.prototype.makeOthers=function(){this.totalAmt=this.baseAmt+this.taxesAmt-this.discount+this.otherAmt},t.prototype.save=function(){var t=this;this.supdetail.accountname?this.itemdetails.length<=0?this.adm.showMessage("Items not selected","Warning",3):g.a.fire({title:0==this.recordID?"Confirms Sale Quotation Details":"Modifies Sale Quotation Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var i={Dat:new Date(t.adm.stringData(t.tradat)),SaleType:"General",RefEmployee:+t.supdetail.empno,Validity:new Date(t.adm.stringData(t.validitydate)),PartyId:t.supdetail.accountId,PartyName:t.supdetail.accountname,Addr:t.supdetail.address,Country:t.supdetail.country,Stat:t.supdetail.stat,District:t.supdetail.district,City:t.supdetail.city,Zip:t.supdetail.zip,Mobile:t.supdetail.mobile,Tel:t.supdetail.tel,Fax:t.supdetail.fax,Email:t.supdetail.email,Webid:t.supdetail.webid,Baseamt:t.baseAmt,Discount:t.discount,Taxes:t.taxesAmt,Others:t.otherAmt,TotalAmt:t.totalAmt};t.recordID>0&&(i.RecordId=t.recordID);for(var n=[],r=0;r<t.itemdetails.length;r++)n.push({Sno:t.itemdetails[r].slno,ItemId:t.itemdetails[r].itemid,ItemName:t.itemdetails[r].itemname,Qty:t.itemdetails[r].qty,Um:t.itemdetails[r].umid,Rat:t.itemdetails[r].rat,DiscPer:t.itemdetails[r].discper,LeadDays:t.itemdetails[r].leaddays});var o=[];for(r=0;r<t.terms.length;r++)o.push({Term:t.terms[r]});var c=[];for(r=0;r<t.taxes.length;r++)t.taxes[r].taxvalu>0&&c.push({Taxcode:t.taxes[r].taxcode,Taxper:t.taxes[r].taxper,Taxvalue:t.taxes[r].taxvalu,LineId:t.taxes[r].lineid});t.ino.setCRMQuotation(i,n,o,c,0==t.recordID?1:2).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Your Purchase Quotation saved.","success"),t.listAdd(),t.makeCle(),0!=t.recordID&&(t.opened=!1)):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()}))}})):this.adm.showMessage("Customer not selected","Warning",3)},t.prototype.close=function(){this.opened=!1},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.ino.getCRMQuotationRequirements().subscribe((function(e){var i=e;console.log("total",i),t.totalrequirements=i,t.suppliers=i.suppliers,t.totaladdresses=i.addresses,t.items=i.materials,t.listdat=new Date(i.dat),t.tradat=new Date(i.dat),t.poseq=i.seq,t.totalunits=i.units;for(var n=i.terms,r=0;r<n.length;r++)t.terms.push(n[r].term);t.spinner.hide(),t.ShowOrders()}))},t.prototype.ShowOrders=function(){var t=this,e=this.adm.stringData(this.listdat);this.ino.getCRMQuotations(e,e).subscribe((function(e){t.purchaseorders=e}))},t.prototype.openContent=function(){this.modalService.open(kc).componentInstance.name="World"},t.prototype.openModal=function(t,e){this.modeltype=e,this.modalService.open(t,{windowClass:"terms-modal"})},t.prototype.open=function(t,e){var i=this;this.title=1==e?"Terms":"Taxes",this.modalService.open(t,{windowClass:"terms-modal"}).result.then((function(t){i.closeResult="Closed with: "+t}),(function(t){i.closeResult="Dismissed "+i.getDismissReason(t)}))},t.prototype.getDismissReason=function(t){return t===X.a.ESC?"by pressing ESC":t===X.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t.prototype.makeUnits=function(t){var e=this,i=this.items.filter((function(e){return e.recordId==t}));i&&(this.material={grp:i[0].grp,itemcode:i[0].itemcode,itemname:i[0].itemname,recordId:i[0].recordId,reorderqty:i[0].reorderqty,shelflife:0,statu:"",stdrat:0,stdum:i[0].stdum,stdumId:i[0].stdumId}),this.units=this.totalunits.filter((function(t){return t.recordId==e.material.recordId})),this.units.length>0&&(this.umid=this.units[0].umid);var n=this.totalrequirements.suppliers.filter((function(t){return t.recordId==e.supdetail.accountId})),r="",o="";n.length>0&&(r=n[0].pricelist,o=n[0].discountlist);var c=this.totalrequirements.pricesuni.filter((function(t){return t.priceListName==r})),a=0;c.length>0&&(a=c[0].recordId);var s=-1,b=this.totalrequirements.pricesdet.filter((function(t){return t.recordId==a&&t.productId==e.material.recordId}));b.length>0&&(this.rat=b[0].price,s=+b[0].taxId);var d=0,l=this.totalrequirements.discsuni.filter((function(t){return t.discountListName==o}));l.length>0&&(d=l[0].recordId),(b=this.totalrequirements.discsdet.filter((function(t){return t.recordId==d&&t.productId==e.material.recordId}))).length>0&&(this.discper=b[0].discount);var u=[];if(s&&s>0&&(u.push(s),this.itemtax=s),0==u.length)for(var h=this.totalrequirements.pricesdet.filter((function(t){return t.productId==e.material.recordId&&t.taxId>0})),p=0;p<h.length;p++){for(var m=0,f=0;f<u.length;f++)u[f]==h[p].taxId&&m++;0==m&&u.push(h[p].taxId)}if(this.itemtaxes=[],0==u.length){for(p=0;p<this.totalrequirements.taxesuni.length;p++)this.itemtaxes.push({taxid:this.totalrequirements.taxesuni[p].recordId,taxname:this.totalrequirements.taxesuni[p].taxName});this.itemtax=u[0]}else for(this.itemtax=u[0],p=0;p<u.length;p++){var g=this.totalrequirements.taxesuni.filter((function(t){return t.recordId==u[p]}));g.length>0&&this.itemtaxes.push({taxid:g[0].recordId,taxname:g[0].taxName})}},t.prototype.addTerm=function(){this.term?(this.terms.push(this.term),this.term=""):this.adm.showMessage("Term not mentioned","Warning",3)},t.prototype.delTerm=function(t){var e=this.terms.indexOf(t);this.terms.splice(e,1)},t.prototype.closeAdvance=function(){this.advanceCheck=!1},t.prototype.ConfirmText=function(){var t=this;g.a.fire({title:"Confirms Purchase Quotation Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.save(),g.a.fire("Transaction Completed Successfully!","Your Purchase Order saved.","success"))}))},t.prototype.parseDate=function(t){return t?new Date(t):null},t.prototype.findAddresses=function(t){var e=this,i=this.suppliers.filter((function(e){return e.recordId==t}));i&&(this.supdetail={accountId:i[0].recordId,accountname:i[0].partyName,empno:i[0].employee,pricelist:i[0].pricelist}),this.addresses=this.totaladdresses.filter((function(t){return t.recordId==e.supdetail.accountId})),this.employee={recordid:null,name:"",mobile:"",designation:""},this.makeEmployee()},t.prototype.makeEmployee=function(){var t=this,e=this.totalrequirements.employees.filter((function(e){return e.recordId==t.supdetail.empno}));e.length>0&&(this.employee={name:e[0].empname,mobile:e[0].mobile,designation:e[0].tel})},t.prototype.assignAddress=function(){var t=this,e=this.addresses.filter((function(e){return e.addressName==t.addr}));e&&e.length>0&&(this.supdetail.address=e[0].addres,this.supdetail.country=e[0].country,this.supdetail.stat=e[0].stat,this.supdetail.district=e[0].district,this.supdetail.city=e[0].city,this.supdetail.zip=e[0].zip,this.supdetail.mobile=e[0].mobile,this.supdetail.tel=e[0].tel,this.supdetail.fax=e[0].fax,this.supdetail.email=e[0].email,this.supdetail.webid=e[0].webid)},t.prototype.onSelectFile=function(t){var e=this;if(this.NewfileReqObj=[],t.target.files){var i=new FileReader;this.fileevent=t,this.UploadAttach(),this.files.push(t.target.files[0]);for(var n=0;n<t.target.files.length;n++)i.readAsDataURL(t.target.files[n]),i.onload=function(t){e.fileName=t.target.result,e.fileNames.push({typ:"Image",file:t.target.result})}}},t.prototype.UploadAttach=function(){var t=this,e=document.getElementById("file-upload");if(e.files.length>0){var i=e.files[0];this.filename=i.name;var n=this.filename.split(".")[this.filename.split(".").length-1],r=new FileReader;r.readAsDataURL(i),r.onload=function(){t.fileobj=r.result;var e=t.fileobj.split(",");t.fileobj=e[1],"JPG"!=n.toUpperCase()&&"PNG"!=n.toUpperCase()&&"TXT"!=n.toUpperCase()&&"PDF"!=n.toUpperCase()&&"XLS"!=n.toUpperCase()&&"XLSX"!=n.toUpperCase()&&"JPG"!=n.toUpperCase()&&"JPEG"!=n.toUpperCase()&&"GIF"!=n.toUpperCase()||(t.fileReqObj={Filename:t.filename,ContentType:"application/"+n,Contents:t.fileobj,FileType:n,MsgID:"",Private:!1,Public:!0,Description:t.filename},t.NewfileReqObj.push(t.fileReqObj))}}},t.prototype.getNewSupplier=function(t){console.log("new customer",t),t&&(this.suppliers.push({recordId:t.recordid,partyName:t.supplier.PartyName,employee:t.supplier.Employee,pricelist:t.supplier.Pricelist,discountlist:t.supplier.Discountlist}),this.totaladdresses.push({recordId:t.recordid,addressName:t.addresses[0].AddressName,addres:t.addresses[0].Addres,country:t.addresses[0].Country,stat:t.addresses[0].Stat,district:t.addresses[0].District,city:t.addresses[0].City,zip:t.addresses[0].Zip,mobile:t.addresses[0].Mobile,tel:t.addresses[0].Tel,fax:t.addresses[0].Fax,email:t.addresses[0].Email,webid:t.addresses[0].Webid}))},t.prototype.getNewMaterial=function(t){if(console.log(t,"MAterial new"),t){this.items.push({recordId:t.recordid,itemcode:t.item.Itemid,itemname:t.item.ItemName,grp:t.itemgroup,stdrat:0,shelflife:0,reorderqty:0,statu:1,stdum:t.units.length>0?t.units[0].stdum:"",stdumId:t.units.length>0?+t.units[0].stdid:-1,costingType:0});for(var e=0;e<t.units.length;e++)this.totalunits.push({recordId:t.recordid,umid:+t.units[e].mainid,um:t.units[e].mainum,cofactor:+t.units[e].cove,stdumid:+t.units[e].stdid,stdum:t.units[e].stdum})}},t.prototype.printOrder=function(t){var e=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.ino.printQuotation(t.recordId).subscribe((function(i){var n=i;""!=n.filename&&(window.open(e.adm.getReportsURL()+n.filename,"_blank"),t.printCount=t.printCount+1),e.spinner.hide()}))},t.\u0275fac=function(e){return new(e||t)(b.Sb(c.a),b.Sb(a.a),b.Sb(ic),b.Sb(X.r),b.Sb(r.c),b.Sb(o.c),b.Sb($.b),b.Sb(mi.a))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-quotations-rx"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","99%"],["align","right",2,"width","10%"],["colspan","3"],["id","cmbsupplier",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"width","8%"],["type","button",1,"btn","btn-info","mr-1","mb-1",2,"width","100%",3,"click"],[2,"width","20%"],["type","text","disabled","",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["colspan","4"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value",""],["type","date",1,"form-control",3,"value","input"],["rowspan","2","align","right",2,"width","10%"],["rowspan","2",2,"width","25%"],[2,"width","100%","height","50px",3,"ngModel","ngModelChange"],["colspan","2"],["type","text",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"form-control",2,"width","100%"],["value","1"],["value","2"],["value","3"],[2,"width","25%"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",2,"width","100%",3,"click"],["customContent",""],["content",""],[2,"width","100%"],[2,"width","27%"],[2,"width","6%"],[2,"width","10%"],[2,"width","7%"],["id","cmbitem",3,"change"],["type","number",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["type","number","disabled","",1,"form-control",2,"width","100%",3,"value"],[1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["colspan","11"],[2,"width","100%","height","300px","overflow-y","scroll"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[2,"width","5%"],[2,"width","30%"],[4,"ngFor","ngForOf"],[2,"width","18%"],["type","text","disabled","",1,"form-control",2,"width","100%","text-align","right",3,"value"],["type","number","disabled","",1,"form-control",2,"width","100%","text-align","right",3,"ngModel","ngModelChange","input"],["type","number",1,"form-control",2,"width","100%","text-align","right",3,"ngModel","ngModelChange","input"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],[3,"value"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["style","width: 100%;",4,"ngIf"],[3,"notify",4,"ngIf"],[2,"width","85%"],[2,"width","15%"],[1,"ft-trash-2","font-medium-1",3,"click"],[3,"notify"],["type","number",1,"form-control",3,"ngModel","input","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],["align","right",2,"width","40%"],["align","left",2,"width","25%"],["type","button",1,"btn-lg","btn-info","mr-1","mb-1",3,"click"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],[2,"text-align","right","width","10%"],["scope","row",2,"width","5%"],["scope","row",2,"text-align","right","width","10%"],[1,"ft-edit","font-medium-1",3,"click"],[1,"ft-printer","font-medium-1",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,yc,232,55,"div",0),b.Uc(2,Mc,35,5,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,gi.a,d.q,d.t,n.o,d.c,d.z,d.u,d.B,d.v,gi.g,Ui,Hi],pipes:[n.e,n.f],styles:["ng-sidebar-container{height:100vh}::ng-deep .ng-sidebar{background-color:#fff;width:95%}.has-search .form-control{padding-left:2.375rem}.has-search .form-control-feedback{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}#content{width:95%}.terms-modal .modal-content{width:900px;position:absolute;left:-200px}.terms-modal .close,.terms-modal .modal-title{color:#000}.dark-modal .modal-content{background-color:#292b2c;width:190%;color:#fff;position:absolute;left:-300px}.dark-modal .close,.dark-modal .modal-title{color:#fff}"],encapsulation:2}),t}(),Wc=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-receipts-from-customers"]],decls:2,vars:0,template:function(t,e){1&t&&(b.Yb(0,"p"),b.Wc(1,"crm-receipts-from-customers works!"),b.Xb())},styles:[""]}),t}(),wc=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getRXOrders=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={frmDate:t,toDate:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRx/GetCRMRxOrders",i,this.adm.makeConfig())},t.prototype.getCustomerWiseAnalysis=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={frmDate:t,toDate:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRepAnalysis/GetCRMCustomerWiseBusinessInfo",i,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function xc(t,e){1&t&&(b.Yb(0,"tr"),b.Yb(1,"td",26),b.Tb(2,"font",27),b.Xb(),b.Xb())}function Ic(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td",28),b.Wc(4),b.Xb(),b.Yb(5,"td",28),b.Wc(6),b.Xb(),b.Yb(7,"td",29),b.Wc(8),b.Xb(),b.Yb(9,"td",29),b.Wc(10),b.Xb(),b.Yb(11,"td",29),b.Wc(12),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.seq),b.Db(2),b.Xc(i.customer),b.Db(2),b.Xc(i.business1),b.Db(2),b.Xc(i.business2),b.Db(2),b.Xc(i.growth)}}var Sc=function(){function t(t,e,i,n,r){this.crm=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.adm.screenCheck(6,7,3,0)?(this.authCheck=!0,this.listAdd()):(this.authCheck=!1,this.router.navigateByUrl("fo/unAuthorize"))}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getCustomerWiseAnalysis("1-Apr-22","1-Apr-22").subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return t=e,console.log(t),this.details=JSON.parse(t.reservations),this.pdffile=this.adm.getReportsURL()+t.pdffile,this.excelfile=this.adm.getReportsURL()+t.excelfile,this.spinner.hide(),[2]}))}))}))},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(b.Sb(wc),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-rep-analysis-customer-wise-business"]],decls:44,vars:4,consts:[[1,"card-title"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[2,"width","100%"],[2,"width","20%"],[2,"width","10%"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],[2,"width","50%"],[4,"ngIf"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[2,"text-align","left"],[2,"text-align","right"],[4,"ngFor","ngForOf"],["colspan","4"],["face","Arial","size","3","color","blue"],["align","left"],["align","right"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Yb(1,"h3",0),b.Wc(2,"Customer wise business analysis"),b.Xb(),b.Yb(3,"section",1),b.Yb(4,"div",2),b.Yb(5,"div",3),b.Yb(6,"div",4),b.Yb(7,"div",5),b.Yb(8,"table",6),b.Yb(9,"tr"),b.Tb(10,"td",7),b.Tb(11,"td",7),b.Yb(12,"td",8),b.Yb(13,"button",9),b.kc("click",(function(){return e.listAdd()})),b.Wc(14,"Show"),b.Xb(),b.Xb(),b.Yb(15,"td",10),b.Wc(16,"\xa0"),b.Xb(),b.Xb(),b.Uc(17,xc,3,0,"tr",11),b.Xb(),b.Yb(18,"div",12),b.Yb(19,"div",13),b.Tb(20,"i",14),b.Yb(21,"div",15),b.Yb(22,"a",16),b.Wc(23,"Download Pdf"),b.Xb(),b.Yb(24,"a",17),b.Wc(25,"Download Excel"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(26,"div",18),b.Yb(27,"div",19),b.Yb(28,"div",20),b.Yb(29,"table",21),b.Yb(30,"thead",22),b.Yb(31,"tr"),b.Yb(32,"th"),b.Wc(33,"#"),b.Xb(),b.Yb(34,"th",23),b.Wc(35,"Customer"),b.Xb(),b.Yb(36,"th",24),b.Wc(37,"Business1"),b.Xb(),b.Yb(38,"th",24),b.Wc(39,"Business2"),b.Xb(),b.Yb(40,"th",24),b.Wc(41,"Growth"),b.Xb(),b.Xb(),b.Xb(),b.Yb(42,"tbody"),b.Uc(43,Ic,13,6,"tr",25),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t&&(b.Db(17),b.vc("ngIf",e.details),b.Db(5),b.vc("href",e.pdffile,b.Oc),b.Db(2),b.vc("href",e.excelfile,b.Oc),b.Db(19),b.vc("ngForOf",e.details))},directives:[r.a,n.p,X.l,X.o,X.n,n.o],styles:[""]}),t}(),Ac=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getDayWiseOrders=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={frmDate:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRxDummy/GetCRMRxDayWiseOrders",e,this.adm.makeConfig())},t.prototype.setDayWiseOrders=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={orders:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMRxDummy/setCRMRxDummyDet",e,this.adm.makeConfig())},t.prototype.getClosedOrders=function(t,e){var i={frmDate:t,toDate:e,usr:this.adm.getUserCompleteInformation().usr};return console.log(i),this.http.post(this.adm.getActualURL()+"api/CRMRxDummy/getClosedOrders",i,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Rc(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.pc(7,"date"),b.Xb(),b.Yb(8,"td"),b.Wc(9),b.Xb(),b.Yb(10,"td"),b.Wc(11),b.Xb(),b.Yb(12,"td"),b.Wc(13),b.Xb(),b.Yb(14,"td"),b.Wc(15),b.Xb(),b.Yb(16,"td"),b.Wc(17),b.Xb(),b.Yb(18,"td"),b.Wc(19),b.Xb(),b.Yb(20,"td"),b.Wc(21),b.Xb(),b.Yb(22,"td"),b.Wc(23),b.Xb(),b.Yb(24,"td"),b.Wc(25),b.Xb(),b.Yb(26,"td"),b.Wc(27),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Xc(i.soid),b.Db(2),b.Xc(b.rc(7,13,i.dat,"short")),b.Db(3),b.Xc(i.customer),b.Db(2),b.Xc(i.product),b.Db(2),b.Xc(i.shade),b.Db(2),b.Xc(i.sid),b.Db(2),b.Xc(i.addiPower),b.Db(2),b.Xc(i.cylindrical),b.Db(2),b.Xc(i.spherical),b.Db(2),b.Xc(i.dia),b.Db(2),b.Xc(i.coating),b.Db(2),b.Xc(i.qty)}}var Oc=new Date,Uc=function(){function t(t,e,i){this.adm=t,this.crm=e,this.spinner=i,this.frmdate={year:Oc.getFullYear(),month:Oc.getMonth()+1,day:Oc.getDate()},this.todate={year:Oc.getFullYear(),month:Oc.getMonth()+1,day:Oc.getDate()},this.showDetails()}return t.prototype.ngOnInit=function(){},t.prototype.showDetails=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getClosedOrders(this.adm.strDate(this.frmdate),this.adm.strDate(this.todate)).subscribe((function(e){t.dets=e,console.log(e),t.spinner.hide()}))},t.\u0275fac=function(e){return new(e||t)(b.Sb(a.a),b.Sb(Ac),b.Sb(r.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-rep-closed-orders"]],decls:75,vars:3,consts:[["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[2,"width","50%"],[1,"form-inline"],[1,"form-group"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["d3","ngbDatepicker"],["type","button","value","Show",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t){var i=b.Zb();b.Tb(0,"ngx-spinner"),b.Yb(1,"section",0),b.Yb(2,"div",1),b.Yb(3,"div",2),b.Yb(4,"div",3),b.Yb(5,"div",4),b.Yb(6,"h4",5),b.Wc(7,"List of Closed Orders"),b.Xb(),b.Yb(8,"table",6),b.Yb(9,"tr"),b.Yb(10,"td"),b.Wc(11," From "),b.Xb(),b.Yb(12,"td"),b.Wc(13," To "),b.Xb(),b.Yb(14,"td"),b.Wc(15,"\xa0"),b.Xb(),b.Xb(),b.Yb(16,"tr"),b.Yb(17,"td"),b.Yb(18,"form",7),b.Yb(19,"div",8),b.Yb(20,"div",9),b.Yb(21,"input",10,11),b.kc("ngModelChange",(function(t){return e.frmdate=t})),b.Xb(),b.Yb(23,"div",12),b.Yb(24,"div",13),b.kc("click",(function(){return b.Mc(i),b.Jc(22).toggle()})),b.Tb(25,"i",14),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(26,"td"),b.Yb(27,"form",7),b.Yb(28,"div",8),b.Yb(29,"div",9),b.Yb(30,"input",10,15),b.kc("ngModelChange",(function(t){return e.todate=t})),b.Xb(),b.Yb(32,"div",12),b.Yb(33,"div",13),b.kc("click",(function(){return b.Mc(i),b.Jc(31).toggle()})),b.Tb(34,"i",14),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(35,"td"),b.Yb(36,"input",16),b.kc("click",(function(){return e.showDetails()})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(37,"div",17),b.Yb(38,"div",18),b.Tb(39,"i",19),b.Tb(40,"div",20),b.Xb(),b.Xb(),b.Xb(),b.Yb(41,"div",21),b.Yb(42,"div",22),b.Yb(43,"div",23),b.Yb(44,"table",24),b.Yb(45,"thead",25),b.Yb(46,"tr"),b.Yb(47,"th"),b.Wc(48,"#"),b.Xb(),b.Yb(49,"th"),b.Wc(50,"SO Id"),b.Xb(),b.Yb(51,"th"),b.Wc(52,"Date"),b.Xb(),b.Yb(53,"th"),b.Wc(54,"Customer"),b.Xb(),b.Yb(55,"th"),b.Wc(56,"Product"),b.Xb(),b.Yb(57,"th"),b.Wc(58,"Shade"),b.Xb(),b.Yb(59,"th"),b.Wc(60,"Side"),b.Xb(),b.Yb(61,"th"),b.Wc(62,"Add P"),b.Xb(),b.Yb(63,"th"),b.Wc(64,"Cyl"),b.Xb(),b.Yb(65,"th"),b.Wc(66,"Sphe"),b.Xb(),b.Yb(67,"th"),b.Wc(68,"Dia"),b.Xb(),b.Yb(69,"th"),b.Wc(70,"Coat"),b.Xb(),b.Yb(71,"th"),b.Wc(72,"Qty"),b.Xb(),b.Xb(),b.Xb(),b.Yb(73,"tbody"),b.Uc(74,Rc,28,16,"tr",26),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}2&t&&(b.Db(21),b.vc("ngModel",e.frmdate),b.Db(9),b.vc("ngModel",e.todate),b.Db(44),b.vc("ngForOf",e.dets))},directives:[r.a,d.C,d.r,d.s,X.q,d.c,d.q,d.t,X.l,X.o,X.n,n.o],pipes:[n.e],styles:[""]}),t}();function Tc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Yb(8,"input",12),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.discount=t})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.product),b.Db(2),b.Xc(n.coat),b.Db(2),b.vc("ngModel",n.discount)}}function Pc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," RX Sale Discounts List "),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",2),b.Yb(6,"table",1),b.Yb(7,"tr"),b.Yb(8,"td",3),b.Wc(9,"Discount List"),b.Xb(),b.Yb(10,"td",4),b.Yb(11,"input",5),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).pricename=t})),b.Xb(),b.Xb(),b.Yb(12,"td",6),b.Yb(13,"button",7),b.kc("click",(function(){return b.Mc(i),b.oc(2).savePrice()})),b.Wc(14,"Save"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"td",4),b.Yb(16,"button",8),b.kc("click",(function(){return b.Mc(i),b.oc(2).close()})),b.Wc(17,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"table",9),b.Yb(19,"thead",10),b.Yb(20,"tr"),b.Yb(21,"th"),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th"),b.Wc(24,"Product"),b.Xb(),b.Yb(25,"th"),b.Wc(26,"Coating"),b.Xb(),b.Yb(27,"th"),b.Wc(28,"Discount"),b.Xb(),b.Xb(),b.Xb(),b.Yb(29,"tbody"),b.Uc(30,Tc,9,4,"tr",11),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(11),b.vc("disabled",n.editcheck)("ngModel",n.pricename),b.Db(19),b.vc("ngForOf",n.prices)}}function Fc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Yb(6,"i",15),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(3).openOld(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n)}}function Lc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of RX Sale Discounts "),b.Xb(),b.Yb(3,"button",13),b.kc("click",(function(){return b.Mc(i),b.oc(2).openNew()})),b.Wc(4,"New"),b.Xb(),b.Yb(5,"table",14),b.Yb(6,"thead",10),b.Yb(7,"tr"),b.Yb(8,"th"),b.Wc(9,"#"),b.Xb(),b.Yb(10,"th"),b.Wc(11,"Name"),b.Xb(),b.Yb(12,"th"),b.Wc(13,"Open"),b.Xb(),b.Xb(),b.Xb(),b.Yb(14,"tbody"),b.Uc(15,Fc,7,2,"tr",11),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(15),b.vc("ngForOf",n.names)}}function Nc(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,Pc,31,3,"div",0),b.Uc(2,Lc,16,1,"div",0),b.Xb()),2&t){var i=b.oc();b.Db(1),b.vc("ngIf",i.opencheck),b.Db(1),b.vc("ngIf",!i.opencheck)}}function qc(t,e){1&t&&(b.Yb(0,"div"),b.Yb(1,"h1"),b.Wc(2,"You are not authorised to view this page"),b.Xb(),b.Xb())}var Bc=function(){function t(t,e,i){this.crm=t,this.adm=e,this.spinner=i,this.authCheck=!1,this.prices=[],this.pricename="",this.opencheck=!1,this.editcheck=!1,this.adm.screenCheck(7,1,2,0)&&(this.authCheck=!0,this.namesAdd())}return t.prototype.openNew=function(){this.pricename="",this.opencheck=!0,this.editcheck=!1,this.listAdd()},t.prototype.openOld=function(t){this.pricename=t,this.opencheck=!0,this.editcheck=!0,this.listAdd()},t.prototype.close=function(){this.opencheck=!1},t.prototype.namesAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getRxDiscountListNames().subscribe((function(e){t.names=e,console.log(t.names),t.spinner.hide()}))},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getRxDiscountList(this.pricename).subscribe((function(e){var i=e;console.log(i,"discs"),t.prices=i,t.spinner.hide()}))},t.prototype.ngOnInit=function(){},t.prototype.valChk=function(){if(""==this.pricename)return this.adm.showMessage("Discount list name not mentioned","Warning",3),!1;for(var t=0;t<this.names.length;t++)if(this.names[t].toUpperCase()==this.pricename.toUpperCase()&&!this.editcheck)return this.adm.showMessage("Discount list name is already existed","Warning",3),!1;return!0},t.prototype.savePrice=function(){var t=this;this.valChk()&&g.a.fire({title:this.editcheck?"Modifies Discount List Details":"Confirms Discount List Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});for(var i=[],n=0;n<t.prices.length;n++)i.push({PriceListName:t.pricename,Product:t.prices[n].product,Coat:t.prices[n].coat,Discount:t.prices[n].discount});console.log(i),t.crm.setRxDiscountsList(i).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Discounts reverted Successfully Successfully!","Discount Details Saved.","success"),t.namesAdd(),t.opencheck=!1):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()}))}}))},t.\u0275fac=function(e){return new(e||t)(b.Sb(ht),b.Sb(a.a),b.Sb(r.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-rx-discounts-list"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","100%"],[2,"width","40%"],["align","right",2,"width","25%"],["align","right",2,"width","60%"],["type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],[2,"width","25%"],["type","button",1,"btn","btn-info","mr-1","mb-1",3,"click"],["type","button",1,"btn","btn-dark","mr-1","mb-1",3,"click"],[1,"table","m-0",2,"width","99%"],[1,"thead-light"],[4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary","mr-1","mb-1",3,"click"],[1,"table","m-0",2,"width","50%"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,Nc,3,2,"div",0),b.Uc(2,qc,3,0,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,d.c,d.q,d.t,n.o,d.v],styles:[""]}),t}(),Ec=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-sale-returns"]],decls:2,vars:0,template:function(t,e){1&t&&(b.Yb(0,"p"),b.Wc(1,"crm-sale-returns works!"),b.Xb())},styles:[""]}),t}(),Gc=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getTaxAssigningRequirements=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/CRMTaxAssigning/CRMTaxAssignRequirements",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getListOfTaxAssignings=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/CRMTaxAssigning/GetCRMTaxAssignings",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getTaxCompleteDetail=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMTaxAssigning/GetCRMTaxAssigning",e,this.adm.makeConfig())},t.prototype.setTaxCompleteDetail=function(t,e,i){var n={header:t,lines:e,traCheck:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMTaxAssigning/SetCRMTaxAssigning",n,this.adm.makeConfig())},t.prototype.getCRMSettings=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/CRMSetup/GetCRMSetupDetails",t,this.adm.makeConfig())},t.prototype.setCRMSettings=function(t){var e={list:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMSetup/SetCRMSetupDetails",e,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),zc=function(){function t(t,e,i,n){var r=this;this.adm=t,this.crm=e,this.router=i,this.spinner=n,this.target=-1,this.cycle=-1,this.adm.screenCheck(7,10,2,0)?(this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getCRMSettings().subscribe((function(t){var e=t;if(e)for(var i=0;i<e.length;i++)switch(e[i].setupCode){case"crm_cyl":r.cycle=+e[i].pos;break;case"crm_brd":r.target=+e[i].pos}r.spinner.hide()}))):this.router.navigateByUrl("crm/crmunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.save=function(){var t=this;g.a.fire({title:"Reverts Setting Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var i=[];i.push({SetupCode:"crm_cyl",SetupDescription:"To check cycle of target setting",Pos:t.cycle.toString(),PosDescription:"1 for Monthly 2 for Quartyerly 3 for half yearly and 4 for yearly"}),i.push({SetupCode:"crm_brd",SetupDescription:"To check Target Way",Pos:t.target.toString(),PosDescription:"1 for Product wise 2 for Category wise and 3 for Lumpsum"}),t.crm.setCRMSettings(i).subscribe((function(t){var e=t;"OK"==e.result?g.a.fire("Transaction Completed Successfully!","Settings Reverted successfully","success"):g.a.fire(e.result,"Error in transaction.","error")})),t.spinner.hide()}}))},t.\u0275fac=function(e){return new(e||t)(b.Sb(a.a),b.Sb(Gc),b.Sb(o.c),b.Sb(r.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-settings"]],decls:35,vars:2,consts:[[2,"width","50%"],[2,"width","30%"],[2,"width","70%"],[1,"form-control",3,"ngModel","ngModelChange"],["value","-1"],["value","1"],["value","2"],["value","3"],["value","4"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Yb(1,"table",0),b.Yb(2,"tr"),b.Yb(3,"td",1),b.Wc(4,"Cycle type"),b.Xb(),b.Yb(5,"td",2),b.Yb(6,"select",3),b.kc("ngModelChange",(function(t){return e.cycle=t})),b.Yb(7,"option",4),b.Wc(8,"--Select--"),b.Xb(),b.Yb(9,"option",5),b.Wc(10,"Monthly"),b.Xb(),b.Yb(11,"option",6),b.Wc(12,"Quarterly"),b.Xb(),b.Yb(13,"option",7),b.Wc(14,"Half Yearly"),b.Xb(),b.Yb(15,"option",8),b.Wc(16,"Yearly"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(17,"tr"),b.Yb(18,"td",1),b.Wc(19,"Target on"),b.Xb(),b.Yb(20,"td",2),b.Yb(21,"select",3),b.kc("ngModelChange",(function(t){return e.target=t})),b.Yb(22,"option",4),b.Wc(23,"--Select--"),b.Xb(),b.Yb(24,"option",5),b.Wc(25,"Product"),b.Xb(),b.Yb(26,"option",6),b.Wc(27,"Category"),b.Xb(),b.Yb(28,"option",7),b.Wc(29,"Lumpsum"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(30,"tr"),b.Tb(31,"td",1),b.Yb(32,"td",2),b.Yb(33,"button",9),b.kc("click",(function(){return e.save()})),b.Wc(34,"Submit"),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t&&(b.Db(6),b.vc("ngModel",e.cycle),b.Db(15),b.vc("ngModel",e.target))},directives:[r.a,d.z,d.q,d.t,d.u,d.B],styles:[""]}),t}(),$c=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getTargetRequirements=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/CRMTargetSettings/GetCRMTargetRequirements",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getTargetSettingDetails=function(t,e,i,n,r){this.userdetails=this.adm.getUserCompleteInformation();var o={empno:t,detail:e,yea:i,targetType:n,brandType:r,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/CRMTargetSettings/GetCRMTargetDetails",o,this.adm.makeConfig())},t.prototype.setTarget=function(t){var e={targets:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/CRMTargetSettings/SetCRMTarget",e,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(b.gc(a.a),b.gc(U.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Zc(t,e){if(1&t&&(b.Yb(0,"option",12),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.recordId),b.Db(1),b.Xc(i.empname)}}function _c(t,e){if(1&t&&(b.Yb(0,"option",12),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.id),b.Db(1),b.Xc(i.text)}}function jc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",22),b.Wc(2),b.Xb(),b.Yb(3,"td",1),b.Wc(4),b.Xb(),b.Yb(5,"td",19),b.Wc(6),b.Xb(),b.Yb(7,"td",20),b.Yb(8,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.target=t})),b.Xb(),b.Xb(),b.Yb(9,"td",3),b.Yb(10,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.calls=t})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.category),b.Db(2),b.Xc(n.itemname),b.Db(2),b.vc("ngModel",n.target),b.Db(2),b.vc("ngModel",n.calls)}}function Vc(t,e){if(1&t&&(b.Yb(0,"table",16),b.Yb(1,"thead",17),b.Yb(2,"tr"),b.Yb(3,"th",18),b.Wc(4,"#"),b.Xb(),b.Yb(5,"th",1),b.Wc(6,"Category"),b.Xb(),b.Yb(7,"th",19),b.Wc(8,"Product"),b.Xb(),b.Yb(9,"th",20),b.Wc(10,"Target"),b.Xb(),b.Yb(11,"th",3),b.Wc(12,"Calls"),b.Xb(),b.Xb(),b.Xb(),b.Yb(13,"tbody"),b.Uc(14,jc,11,5,"tr",21),b.Xb(),b.Xb()),2&t){var i=b.oc(2);b.Db(14),b.vc("ngForOf",i.totalitems)}}function Kc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",22),b.Wc(2),b.Xb(),b.Yb(3,"td",24),b.Wc(4),b.Xb(),b.Yb(5,"td",1),b.Yb(6,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.target=t})),b.Xb(),b.Xb(),b.Yb(7,"td",20),b.Yb(8,"input",8),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.calls=t})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.category),b.Db(2),b.vc("ngModel",n.target),b.Db(2),b.vc("ngModel",n.calls)}}function Qc(t,e){if(1&t&&(b.Yb(0,"table",23),b.Yb(1,"thead",17),b.Yb(2,"tr"),b.Yb(3,"th",18),b.Wc(4,"#"),b.Xb(),b.Yb(5,"th",24),b.Wc(6,"Category"),b.Xb(),b.Yb(7,"th",1),b.Wc(8,"Target"),b.Xb(),b.Yb(9,"th",20),b.Wc(10,"Calls"),b.Xb(),b.Xb(),b.Xb(),b.Yb(11,"tbody"),b.Uc(12,Kc,9,4,"tr",21),b.Xb(),b.Xb()),2&t){var i=b.oc(2);b.Db(12),b.vc("ngForOf",i.totalitems)}}function Jc(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"td",2),b.Yb(2,"button",13),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(3,"Submit"),b.Xb(),b.Xb(),b.Uc(4,Vc,15,1,"table",14),b.Uc(5,Qc,13,1,"table",15),b.Xb()}if(2&t){var n=b.oc();b.Db(4),b.vc("ngIf",n.target-0==1),b.Db(1),b.vc("ngIf",n.target-0>1)}}var Hc=function(){function t(t,e,i,n){var r=this;this.adm=t,this.crm=e,this.router=i,this.spinner=n,this.target=-1,this.cycle=-1,this.empno=-1,this.desig="",this.empid="",this.year=+(new Date).getFullYear().toString(),this.cyc=-1,this.cycles=[],this.adm.screenCheck(7,2,10,0)?(this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getTargetRequirements().subscribe((function(t){var e=t;switch(r.target=+e.brandType,r.cycle=+e.targetType,r.cycle){case 1:r.cycles.push({id:1,text:"Jan"}),r.cycles.push({id:2,text:"Feb"}),r.cycles.push({id:3,text:"Mar"}),r.cycles.push({id:4,text:"Apr"}),r.cycles.push({id:5,text:"May"}),r.cycles.push({id:6,text:"Jun"}),r.cycles.push({id:7,text:"Jul"}),r.cycles.push({id:8,text:"Aug"}),r.cycles.push({id:9,text:"Sep"}),r.cycles.push({id:10,text:"Oct"}),r.cycles.push({id:11,text:"Nov"}),r.cycles.push({id:12,text:"Dec"});break;case 2:r.cycles.push({id:2,text:"Q1"}),r.cycles.push({id:3,text:"Q2"}),r.cycles.push({id:4,text:"Q3"}),r.cycles.push({id:1,text:"Q4"});break;case 3:r.cycles.push({id:1,text:"H1"}),r.cycles.push({id:2,text:"H2"});break;case 4:r.cycles.push({id:1,text:"Complete"})}r.employees=e.employees,console.log(e,"Details"),r.spinner.hide(),r.target<=0||r.cycle<=0?(r.adm.showMessage("Settings for this are not done","Warning",3),r.setscheck=!1):r.setscheck=!0}))):this.router.navigateByUrl("crm/crmunauthorize")}return t.prototype.findEmployee=function(){var t=this,e=this.employees.filter((function(e){return e.recordId==+t.empno}));e.length>0?(this.desig=e[0].city,this.empid=e[0].empno):(this.desig="",this.empid="")},t.prototype.valchkSmall=function(){return+this.empno<=0?(this.adm.showMessage("Employee not selected","Warning",3),!1):!(+this.cyc<=0&&(this.adm.showMessage("Cycle not selected","Warning",3),1))},t.prototype.onShow=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getTargetSettingDetails(+this.empno,+this.cyc,+this.year,+this.cycle,+this.target).subscribe((function(e){console.log(e,"info"),t.totalitems=e,t.spinner.hide()}))},t.prototype.ngOnInit=function(){},t.prototype.save=function(){var t=this;console.log("totalitems",this.totalitems,this.empid,this.cycle,this.cyc);var e=[];switch(this.cycle){case 1:e.push({month:+this.cyc,year:+this.year});break;case 2:switch(+this.cyc){case 2:e.push({month:4,year:+this.year}),e.push({month:5,year:+this.year}),e.push({month:6,year:+this.year});break;case 3:e.push({month:7,year:+this.year}),e.push({month:8,year:+this.year}),e.push({month:9,year:+this.year});break;case 4:e.push({month:10,year:+this.year}),e.push({month:11,year:+this.year}),e.push({month:12,year:+this.year});break;case 1:e.push({month:1,year:+this.year+1}),e.push({month:2,year:+this.year+1}),e.push({month:3,year:+this.year+1})}break;case 3:switch(+this.cyc){case 1:e.push({month:4,year:+this.year}),e.push({month:5,year:+this.year}),e.push({month:6,year:+this.year}),e.push({month:7,year:+this.year}),e.push({month:8,year:+this.year}),e.push({month:9,year:+this.year});break;case 2:e.push({month:10,year:+this.year}),e.push({month:11,year:+this.year}),e.push({month:12,year:+this.year}),e.push({month:1,year:+this.year+1}),e.push({month:2,year:+this.year+1}),e.push({month:3,year:+this.year+1})}}for(var i=[],n=0;n<e.length;n++)for(var r=0;r<this.totalitems.length;r++)i.push({Slno:this.totalitems[r].slno,Empno:+this.empno,Yea:e[n].year,Mont:e[n].month,CategoryId:+this.totalitems[r].categoryid,ProductId:+this.totalitems[r].itemid,Tgt:+this.totalitems[r].target/+e.length,Calls:+this.totalitems[r].calls/+e.length});console.log("total list",i),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.setTarget(i).subscribe((function(e){var i=e;"OK"==i.result?t.adm.showMessage("Target Set Successfully","Success",1):t.adm.showMessage(i.result,"Error",4),t.spinner.hide()}))},t.\u0275fac=function(e){return new(e||t)(b.Sb(a.a),b.Sb($c),b.Sb(o.c),b.Sb(r.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-target-setting"]],decls:37,vars:8,consts:[[2,"width","100%"],[2,"width","25%"],[2,"width","10%"],[2,"width","15%"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],[1,"btn-info",3,"click"],[4,"ngIf"],[3,"value"],[1,"btn-lg","btn-primary",3,"click"],["class","table m-0","style","width: 100%;",4,"ngIf"],["class","table m-0","style","width: 70%;",4,"ngIf"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[2,"width","5%"],[2,"width","35%"],[2,"width","20%"],[4,"ngFor","ngForOf"],["scope","row",2,"width","5%"],[1,"table","m-0",2,"width","70%"],[2,"width","50%"]],template:function(t,e){1&t&&(b.Yb(0,"h4"),b.Wc(1,"Target Setting Details"),b.Xb(),b.Yb(2,"table",0),b.Yb(3,"tr"),b.Yb(4,"td",1),b.Wc(5," Employee "),b.Xb(),b.Yb(6,"td",2),b.Wc(7," ID "),b.Xb(),b.Yb(8,"td",1),b.Wc(9," Designation "),b.Xb(),b.Yb(10,"td",3),b.Wc(11," Year "),b.Xb(),b.Yb(12,"td",3),b.Wc(13," Cycle "),b.Xb(),b.Yb(14,"td",2),b.Wc(15,"\xa0"),b.Xb(),b.Xb(),b.Yb(16,"tr"),b.Yb(17,"td",1),b.Yb(18,"select",4),b.kc("ngModelChange",(function(t){return e.empno=t}))("change",(function(){return e.findEmployee()})),b.Yb(19,"option",5),b.Wc(20,"--Select--"),b.Xb(),b.Uc(21,Zc,2,2,"option",6),b.Xb(),b.Xb(),b.Yb(22,"td",2),b.Yb(23,"input",7),b.kc("ngModelChange",(function(t){return e.empid=t})),b.Xb(),b.Xb(),b.Yb(24,"td",1),b.Yb(25,"input",7),b.kc("ngModelChange",(function(t){return e.desig=t})),b.Xb(),b.Xb(),b.Yb(26,"td",3),b.Yb(27,"input",8),b.kc("ngModelChange",(function(t){return e.year=t})),b.Xb(),b.Xb(),b.Yb(28,"td",3),b.Yb(29,"select",9),b.kc("ngModelChange",(function(t){return e.cyc=t})),b.Yb(30,"option",5),b.Wc(31,"--Select--"),b.Xb(),b.Uc(32,_c,2,2,"option",6),b.Xb(),b.Xb(),b.Yb(33,"td",2),b.Yb(34,"button",10),b.kc("click",(function(){return e.onShow()})),b.Wc(35,"Show"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Uc(36,Jc,6,2,"div",11)),2&t&&(b.Db(18),b.vc("ngModel",e.empno),b.Db(3),b.vc("ngForOf",e.employees),b.Db(2),b.vc("ngModel",e.empid),b.Db(2),b.vc("ngModel",e.desig),b.Db(2),b.vc("ngModel",e.year),b.Db(2),b.vc("ngModel",e.cyc),b.Db(3),b.vc("ngForOf",e.cycles),b.Db(4),b.vc("ngIf",e.totalitems))},directives:[d.z,d.q,d.t,d.u,d.B,n.o,d.c,d.v,n.p],styles:[""]}),t}();function ta(t,e){if(1&t&&(b.Yb(0,"option",21),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.taxcode),b.Db(1),b.Xc(i.taxcode)}}function ea(t,e){if(1&t&&(b.Yb(0,"option",21),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i.taxcode),b.Db(1),b.Xc(i.taxcode)}}function ia(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",22),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Yb(9,"td"),b.Yb(10,"i",23),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).deleteTax(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.TaxCode),b.Db(2),b.Xc(n.Taxper),b.Db(2),b.Xc(n.Taxon)}}function na(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",24),b.kc("click",(function(){return b.Mc(i),b.oc(2).delete()})),b.Wc(1,"Delete"),b.Xb()}}function ra(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," Tax Assigingings "),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",2),b.Wc(6,"Name"),b.Xb(),b.Yb(7,"td",3),b.Yb(8,"input",4),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().header.TaxName=t})),b.Xb(),b.Xb(),b.Xb(),b.Yb(9,"tr"),b.Yb(10,"td",5),b.Wc(11,"\xa0"),b.Xb(),b.Xb(),b.Yb(12,"tr"),b.Yb(13,"td",2),b.Wc(14,"Tax Code"),b.Xb(),b.Yb(15,"td",6),b.Wc(16,"Tax %"),b.Xb(),b.Yb(17,"td",7),b.Wc(18,"Tax on"),b.Xb(),b.Yb(19,"td",6),b.Wc(20," \xa0"),b.Xb(),b.Xb(),b.Yb(21,"tr"),b.Yb(22,"td",2),b.Yb(23,"select",4),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().taxcode=t})),b.Yb(24,"option",8),b.Wc(25,"--Select--"),b.Xb(),b.Uc(26,ta,2,2,"option",9),b.Xb(),b.Xb(),b.Yb(27,"td",6),b.Yb(28,"input",10),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().taxper=t})),b.Xb(),b.Xb(),b.Yb(29,"td",7),b.Yb(30,"select",4),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().taxon=t})),b.Yb(31,"option",8),b.Wc(32,"-Select--"),b.Xb(),b.Yb(33,"option",11),b.Wc(34,"On Change Amount"),b.Xb(),b.Yb(35,"option",12),b.Wc(36,"On Rack Amount"),b.Xb(),b.Uc(37,ea,2,2,"option",9),b.Xb(),b.Xb(),b.Yb(38,"td",6),b.Yb(39,"button",13),b.kc("click",(function(){return b.Mc(i),b.oc().addTax()})),b.Wc(40,"Add"),b.Xb(),b.Xb(),b.Xb(),b.Yb(41,"tr"),b.Yb(42,"td",5),b.Yb(43,"div",14),b.Yb(44,"table",15),b.Yb(45,"thead",16),b.Yb(46,"tr"),b.Yb(47,"th"),b.Wc(48,"#"),b.Xb(),b.Yb(49,"th"),b.Wc(50,"Tax Code"),b.Xb(),b.Yb(51,"th"),b.Wc(52,"Tax %"),b.Xb(),b.Yb(53,"th"),b.Wc(54,"Tax On"),b.Xb(),b.Tb(55,"th"),b.Xb(),b.Xb(),b.Yb(56,"tbody"),b.Uc(57,ia,11,4,"tr",17),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(58,"tr"),b.Yb(59,"td",5),b.Uc(60,na,2,0,"button",18),b.Yb(61,"button",19),b.kc("click",(function(){return b.Mc(i),b.oc().save()})),b.Wc(62),b.Xb(),b.Yb(63,"button",20),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(64,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(8),b.vc("ngModel",n.header.TaxName),b.Db(15),b.vc("ngModel",n.taxcode),b.Db(3),b.vc("ngForOf",n.taxes),b.Db(2),b.vc("ngModel",n.taxper),b.Db(2),b.vc("ngModel",n.taxon),b.Db(7),b.vc("ngForOf",n.taxes),b.Db(20),b.vc("ngForOf",n.lines),b.Db(3),b.vc("ngIf",n.recordId>0),b.Db(2),b.Xc(n.saveStr)}}function oa(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",22),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Yb(6,"i",28),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).openOld(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.taxName)}}function ca(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"table",25),b.Yb(2,"tr"),b.Yb(3,"td",26),b.Yb(4,"h3"),b.Wc(5,"List of Tax Details"),b.Xb(),b.Xb(),b.Yb(6,"td",6),b.Yb(7,"button",13),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(8," New "),b.Xb(),b.Xb(),b.Xb(),b.Yb(9,"tr"),b.Yb(10,"td",27),b.Yb(11,"table",15),b.Yb(12,"thead",16),b.Yb(13,"tr"),b.Yb(14,"th"),b.Wc(15,"#"),b.Xb(),b.Yb(16,"th"),b.Wc(17,"Id"),b.Xb(),b.Tb(18,"th"),b.Xb(),b.Xb(),b.Yb(19,"tbody"),b.Uc(20,oa,7,2,"tr",17),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(20),b.vc("ngForOf",n.taxesList)}}var aa=function(){function t(t,e,i,n){var r=this;this.adm=t,this.crm=e,this.router=i,this.spinner=n,this.recordId=0,this.saveStr="",this.taxes=[],this.taxesdetails=[],this.taxcode="",this.taxper=0,this.taxon="",this.header={TaxName:""},this.lines=[],this.opened=!1,this.adm.screenCheck(7,10,1,0)?(this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getTaxAssigningRequirements().subscribe((function(t){var e=t;console.log(e,"taxes");for(var i=0;i<e.taxes.length;i++)r.taxes.push({taxcode:e.taxes[i]});for(i=0;i<e.taxdetails.length;i++)r.taxesdetails.push({taxcode:e.taxdetails[i].taxCode,taxper:e.taxdetails[i].taxPer});r.spinner.hide()})),this.listAdd()):this.router.navigateByUrl("crm/crmunauthorize")}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getListOfTaxAssignings().subscribe((function(e){t.taxesList=e,t.spinner.hide()}))},t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.opened=!0,this.saveStr="Save"},t.prototype.makeCle=function(){this.recordId=0,this.header={TaxName:""},this.lines=[]},t.prototype.openOld=function(t){var e=this;this.recordId=t.recordId,this.saveStr="Modify",this.recordId=t.recordId,this.opened=!0,this.lines=[],this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getTaxCompleteDetail(t.recordId).subscribe((function(i){var n=i;e.header={RecordId:t.recordId,TaxName:t.taxName};for(var r=0;r<n.lines.length;r++)e.lines.push({TaxCode:n.lines[r].taxCode,Taxper:+n.lines[r].taxPer,TaxOn:n.lines[r].taxOn});e.spinner.hide()}))},t.prototype.valChkSmall=function(){return""==this.taxcode.trim()?(this.adm.showMessage("Tax Code not mentioned","Warning",3),!1):+this.taxper<=0?(this.adm.showMessage("Tax % not mentioned","Warning",3),!1):""!=this.taxon.trim()||(this.adm.showMessage("Tax on not mentioned","Warning",3),!1)},t.prototype.addTax=function(){this.valChkSmall()&&this.lines.push({TaxCode:this.taxcode,Taxper:+this.taxper,TaxOn:this.taxon})},t.prototype.deleteTax=function(t){var e=this.lines.indexOf(t);e>=0&&this.lines.splice(e,1)},t.prototype.close=function(){this.opened=!1},t.prototype.valChk=function(){return""==this.header.TaxName.trim()?(this.adm.showMessage("Tax Id not mentioned","Warning",3),!1):!(this.lines.length<=0&&(this.adm.showMessage("Tax Details not mentioned","Warning",3),1))},t.prototype.save=function(){var t=this;this.valChk()&&g.a.fire({title:0==this.recordId?"Creates Tax Assigning Details":"Modifies Tax Assigning Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.crm.setTaxCompleteDetail(t.header,t.lines,0==t.recordId?1:2).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Taxes Added successfully","success"),t.makeCle(),t.recordId>0&&(t.opened=!1),t.listAdd()):g.a.fire(i.result,"Error in transaction.","error")})))}))},t.prototype.delete=function(){var t=this;g.a.fire({title:"Deletes Tax Assigning Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.crm.setTaxCompleteDetail(t.header,t.lines,3).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Transaction Completed Successfully!","Taxes Deleted successfully","success"),t.makeCle(),t.opened=!1,t.listAdd()):g.a.fire(i.result,"Error in transaction.","error")})))}))},t.\u0275fac=function(e){return new(e||t)(b.Sb(a.a),b.Sb(Gc),b.Sb(o.c),b.Sb(r.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-tax-assigings"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","70%"],[2,"width","30%"],["colspan","3"],[1,"form-control",3,"ngModel","ngModelChange"],["colspan","4"],[2,"width","15%"],[2,"width","40%"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["value","On Change Amount"],["value","On Rack Amount"],["type","button",1,"btn","btn-success",3,"click"],[2,"width","100%","height","250px","overflow-y","scroll"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[4,"ngFor","ngForOf"],["class","btn btn-danger","type","button",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-dark",3,"click"],[3,"value"],["scope","row"],[1,"ft-trash","font-medium-1",3,"click"],["type","button",1,"btn","btn-danger",3,"click"],[2,"width","50%"],[2,"width","85%"],["colspan","2"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,ra,65,9,"div",0),b.Uc(2,ca,21,1,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,d.c,d.q,d.t,d.z,d.u,d.B,n.o,d.v],styles:[""]}),t}(),sa=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-tele-call-post"]],decls:2,vars:0,template:function(t,e){1&t&&(b.Yb(0,"p"),b.Wc(1,"crm-tele-call-post works!"),b.Xb())},styles:[""]}),t}();function ba(t,e){if(1&t){var i=b.Zb();b.Yb(0,"button",33),b.kc("click",(function(){return b.Mc(i),b.oc(2).deleteCall()})),b.Wc(1,"Delete"),b.Xb()}if(2&t){var n=b.oc(2);b.vc("disabled",!n.delCheck)}}function da(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Yb(9,"td"),b.Yb(10,"i",42),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(3).openPending(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.customer),b.Db(2),b.Xc(n.mobile),b.Db(2),b.Xc(n.mode)}}function la(t,e){if(1&t&&(b.Yb(0,"div",34),b.Yb(1,"h6",35),b.Wc(2,"Pending Calls"),b.Xb(),b.Yb(3,"button",36),b.kc("click",(function(){return(0,e.dismiss)("Cross click")})),b.Yb(4,"span",37),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",38),b.Yb(7,"table",39),b.Yb(8,"thead",40),b.Yb(9,"tr"),b.Yb(10,"th"),b.Wc(11,"#"),b.Xb(),b.Yb(12,"th"),b.Wc(13,"Customer"),b.Xb(),b.Yb(14,"th"),b.Wc(15,"Mobile"),b.Xb(),b.Yb(16,"th"),b.Wc(17,"Mode"),b.Xb(),b.Yb(18,"th"),b.Wc(19,"Open"),b.Xb(),b.Xb(),b.Xb(),b.Yb(20,"tbody"),b.Uc(21,da,11,4,"tr",41),b.Xb(),b.Xb(),b.Xb()),2&t){var i=b.oc(2);b.Db(21),b.vc("ngForOf",i.pendings)}}function ua(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," Tele Call Details "),b.Xb(),b.Tb(3,"br"),b.Yb(4,"table",1),b.Yb(5,"tr"),b.Yb(6,"td",2),b.Wc(7,"Sequence"),b.Xb(),b.Yb(8,"td",3),b.Tb(9,"input",4),b.Xb(),b.Xb(),b.Yb(10,"tr"),b.Yb(11,"td",2),b.Wc(12,"*Customer"),b.Xb(),b.Yb(13,"td",3),b.Yb(14,"input",5),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Customer=t})),b.Xb(),b.Xb(),b.Tb(15,"td",6),b.Xb(),b.Yb(16,"tr"),b.Yb(17,"td",2),b.Wc(18,"*Mobile"),b.Xb(),b.Yb(19,"td",3),b.Yb(20,"input",5),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Mobile=t})),b.Xb(),b.Xb(),b.Tb(21,"td",6),b.Xb(),b.Tb(22,"tr"),b.Yb(23,"tr"),b.Yb(24,"td",2),b.Wc(25,"Email"),b.Xb(),b.Yb(26,"td",3),b.Yb(27,"input",5),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.Email=t})),b.Xb(),b.Xb(),b.Tb(28,"td",6),b.Xb(),b.Tb(29,"tr"),b.Yb(30,"tr"),b.Yb(31,"td",2),b.Wc(32,"Prev Call"),b.Xb(),b.Yb(33,"td",3),b.Yb(34,"table",7),b.Yb(35,"tr"),b.Yb(36,"td",8),b.Yb(37,"input",9),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().pendinginfo.seq=t})),b.Xb(),b.Xb(),b.Yb(38,"td",10),b.Yb(39,"input",11),b.kc("click",(function(){b.Mc(i);var t=b.Jc(144);return b.oc().openModal(t)})),b.Xb(),b.Xb(),b.Yb(40,"td",12),b.Wc(41,"Date"),b.Xb(),b.Yb(42,"td",8),b.Tb(43,"input",13),b.pc(44,"date"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Tb(45,"td",6),b.Xb(),b.Tb(46,"tr"),b.Yb(47,"tr"),b.Yb(48,"td",2),b.Wc(49,"Prev Mode"),b.Xb(),b.Yb(50,"td",3),b.Yb(51,"table",7),b.Yb(52,"tr"),b.Yb(53,"td",14),b.Yb(54,"input",9),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().pendinginfo.mode=t})),b.Xb(),b.Xb(),b.Yb(55,"td",12),b.Wc(56,"Mobile"),b.Xb(),b.Yb(57,"td",8),b.Yb(58,"input",9),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().pendinginfo.mobile=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Tb(59,"td",6),b.Xb(),b.Yb(60,"tr"),b.Yb(61,"td",2),b.Wc(62,"Prev Caller"),b.Xb(),b.Yb(63,"td",3),b.Yb(64,"table",7),b.Yb(65,"tr"),b.Yb(66,"td",14),b.Yb(67,"input",9),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().pendinginfo.callername=t})),b.Xb(),b.Xb(),b.Yb(68,"td",12),b.Wc(69,"Prev User"),b.Xb(),b.Yb(70,"td",8),b.Yb(71,"input",9),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().pendinginfo.username=t})),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Tb(72,"td",6),b.Xb(),b.Yb(73,"tr"),b.Yb(74,"td",2),b.Wc(75,"Prvious Comments"),b.Xb(),b.Yb(76,"td",3),b.Yb(77,"textarea",15),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().pendinginfo.customercomments=t})),b.Wc(78,"    \n        "),b.Xb(),b.Xb(),b.Tb(79,"td",6),b.Xb(),b.Yb(80,"tr"),b.Yb(81,"td",2),b.Wc(82,"*Customer Comments"),b.Xb(),b.Yb(83,"td",3),b.Yb(84,"textarea",16),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.CustomerComments=t})),b.Xb(),b.Xb(),b.Tb(85,"td",6),b.Xb(),b.Yb(86,"tr"),b.Yb(87,"td",2),b.Wc(88,"*Caller Comments"),b.Xb(),b.Yb(89,"td",3),b.Yb(90,"textarea",16),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.CallerComments=t})),b.Xb(),b.Xb(),b.Tb(91,"td",6),b.Xb(),b.Yb(92,"tr"),b.Yb(93,"td",2),b.Wc(94,"*Position"),b.Xb(),b.Yb(95,"td",3),b.Yb(96,"select",17),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.CallPosition=t})),b.Yb(97,"option",18),b.Wc(98,"--Select--"),b.Xb(),b.Yb(99,"option",19),b.Wc(100,"Hot"),b.Xb(),b.Yb(101,"option",20),b.Wc(102,"Warm"),b.Xb(),b.Yb(103,"option",21),b.Wc(104,"Cool"),b.Xb(),b.Yb(105,"option",22),b.Wc(106,"Declined"),b.Xb(),b.Xb(),b.Xb(),b.Tb(107,"td",6),b.Xb(),b.Yb(108,"tr"),b.Yb(109,"td",2),b.Wc(110,"Next Call date"),b.Xb(),b.Yb(111,"td",3),b.Yb(112,"div",23),b.Yb(113,"input",24,25),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().nextdate=t})),b.Xb(),b.Yb(115,"div",26),b.Yb(116,"div",27),b.kc("click",(function(){return b.Mc(i),b.Jc(114).toggle()})),b.Tb(117,"i",28),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Tb(118,"td",6),b.Xb(),b.Yb(119,"tr"),b.Yb(120,"td",2),b.Wc(121,"Next Call Mode"),b.Xb(),b.Yb(122,"td",3),b.Yb(123,"select",17),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().call.NextCallMode=t})),b.Yb(124,"option",18),b.Wc(125,"--Select--"),b.Xb(),b.Yb(126,"option",19),b.Wc(127,"Tele Call"),b.Xb(),b.Yb(128,"option",20),b.Wc(129,"Enquiry"),b.Xb(),b.Xb(),b.Xb(),b.Tb(130,"td",6),b.Xb(),b.Yb(131,"tr"),b.Yb(132,"td"),b.Wc(133," \xa0 "),b.Xb(),b.Yb(134,"td"),b.Wc(135," \xa0 "),b.Xb(),b.Xb(),b.Yb(136,"tr"),b.Yb(137,"td"),b.Uc(138,ba,2,1,"button",29),b.Yb(139,"button",30),b.kc("click",(function(){return b.Mc(i),b.oc().saveCall()})),b.Wc(140),b.Xb(),b.Yb(141,"button",31),b.kc("click",(function(){return b.Mc(i),b.oc().close()})),b.Wc(142,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Uc(143,la,22,1,"ng-template",null,32,b.Vc),b.Xb()}if(2&t){var n=b.oc();b.Db(9),b.wc("value",n.seq),b.Db(5),b.vc("ngModel",n.call.Customer),b.Db(6),b.vc("ngModel",n.call.Mobile),b.Db(7),b.vc("ngModel",n.call.Email),b.Db(10),b.vc("ngModel",n.pendinginfo.seq),b.Db(6),b.wc("value",b.rc(44,19,n.pendinginfo.dat,"short")),b.Db(11),b.vc("ngModel",n.pendinginfo.mode),b.Db(4),b.vc("ngModel",n.pendinginfo.mobile),b.Db(9),b.vc("ngModel",n.pendinginfo.callername),b.Db(4),b.vc("ngModel",n.pendinginfo.username),b.Db(6),b.vc("ngModel",n.pendinginfo.customercomments),b.Db(7),b.vc("ngModel",n.call.CustomerComments),b.Db(6),b.vc("ngModel",n.call.CallerComments),b.Db(6),b.vc("ngModel",n.call.CallPosition),b.Db(17),b.vc("ngModel",n.nextdate),b.Db(10),b.vc("ngModel",n.call.NextCallMode),b.Db(15),b.vc("ngIf",n.delVisible),b.Db(1),b.vc("disabled",!n.creCheck),b.Db(1),b.Xc(n.saveStr)}}function ha(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"th",51),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Wc(8),b.Xb(),b.Yb(9,"td"),b.Wc(10),b.Xb(),b.Yb(11,"td"),b.Wc(12),b.Xb(),b.Yb(13,"td"),b.Yb(14,"i",42),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(2).openOld(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.seq),b.Db(2),b.Xc(n.customer),b.Db(2),b.Xc(n.caller),b.Db(2),b.Xc(n.mobile),b.Db(2),b.Xc(n.statu)}}function pa(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of Tele Calls "),b.Xb(),b.Yb(3,"table",43),b.Yb(4,"tr"),b.Yb(5,"td",44),b.Yb(6,"div",23),b.Yb(7,"input",24,45),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc().listdate=t})),b.Xb(),b.Yb(9,"div",26),b.Yb(10,"div",27),b.kc("click",(function(){return b.Mc(i),b.Jc(8).toggle()})),b.Tb(11,"i",28),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"td",46),b.Yb(13,"button",47),b.kc("click",(function(){return b.Mc(i),b.oc().listAdd()})),b.Wc(14,"Show"),b.Xb(),b.Xb(),b.Yb(15,"td",48),b.Yb(16,"button",49),b.kc("click",(function(){return b.Mc(i),b.oc().openNew()})),b.Wc(17,"New"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"table",50),b.Yb(19,"thead",40),b.Yb(20,"tr"),b.Yb(21,"th"),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th"),b.Wc(24,"Seq"),b.Xb(),b.Yb(25,"th"),b.Wc(26,"Customer"),b.Xb(),b.Yb(27,"th"),b.Wc(28,"Caller"),b.Xb(),b.Yb(29,"th"),b.Wc(30,"Mobile"),b.Xb(),b.Yb(31,"th"),b.Wc(32,"Status"),b.Xb(),b.Yb(33,"th"),b.Wc(34,"Open"),b.Xb(),b.Xb(),b.Xb(),b.Yb(35,"tbody"),b.Uc(36,ha,15,6,"tr",41),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc();b.Db(7),b.vc("ngModel",n.listdate),b.Db(29),b.vc("ngForOf",n.details)}}var ma=new Date,fa=function(){function t(t){this.activeModal=t}return t.\u0275fac=function(e){return new(e||t)(b.Sb(X.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["ngbd-modal-content"]],inputs:{name:"name"},decls:12,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,e){1&t&&(b.Yb(0,"div",0),b.Yb(1,"h4",1),b.Wc(2,"Hi there!"),b.Xb(),b.Yb(3,"button",2),b.kc("click",(function(){return e.activeModal.dismiss("Cross click")})),b.Yb(4,"span",3),b.Wc(5,"\xd7"),b.Xb(),b.Xb(),b.Xb(),b.Yb(6,"div",4),b.Yb(7,"p"),b.Wc(8),b.Xb(),b.Xb(),b.Yb(9,"div",5),b.Yb(10,"button",6),b.kc("click",(function(){return e.activeModal.close("Close click")})),b.Wc(11,"Close"),b.Xb(),b.Xb()),2&t&&(b.Db(8),b.Yc("Hello, ",e.name,"!"))},encapsulation:2}),t}(),ga=function(){function t(t,e,i,n,r,o){var c=this;this.crm=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.modalService=o,this.creCheck=!1,this.delCheck=!1,this.delVisible=!1,this.seq="",this.saveStr="",this.employees=[],this.tradate={year:ma.getFullYear(),month:ma.getMonth()+1,day:ma.getDate()},this.listdate={year:ma.getFullYear(),month:ma.getMonth()+1,day:ma.getDate()},this.nextdate={year:ma.getFullYear(),month:ma.getMonth()+1,day:ma.getDate()},this.call={Seq:"",Dat:"",Callerid:null,Customer:"",Mobile:"",Email:"",PrevcallId:null,PrevCallMode:"",CustomerComments:"",CallerComments:"",CallPosition:0,NextCallDate:"",NextCallMode:""},this.pendings=[],this.pendinginfo={id:null,seq:"",callerid:0,callername:"",customer:"",mobile:"",mode:"",dat:null,customercomments:"",username:""},this.recordID=0,this.opened=!1,this.details=[],this.adm.screenCheck(7,2,1,0)?(this.crm.gerCompleteTeleCallRxRequirements().subscribe((function(t){var e=t;console.log(e),c.seq=e.seq,c.employees=e.employees,c.pendings=e.pendings})),this.delCheck=this.adm.screenCheck(7,2,1,3),this.listAdd()):this.router.navigateByUrl("pages/unAuthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openPending=function(t){this.pendinginfo.id=t.id,this.pendinginfo.seq=t.seq,this.pendinginfo.callerid=t.callerId,this.pendinginfo.customer=t.customer,this.pendinginfo.mobile=t.mobile,this.pendinginfo.mode=t.mode,this.pendinginfo.dat=this.adm.stringData(new Date(t.dat)),this.pendinginfo.customercomments=t.customercomments,this.pendinginfo.username=t.username,this.call.Customer=t.customer,this.call.Mobile=t.mobile,this.modalService.dismissAll()},t.prototype.openContent=function(){this.modalService.open(fa).componentInstance.name="World"},t.prototype.openModal=function(t){this.modalService.open(t,{windowClass:"terms-modal"})},t.prototype.open=function(t,e){var i=this;this.modalService.open(t).result.then((function(t){i.closeResult="Closed with: "+t}),(function(t){i.closeResult="Dismissed "+i.getDismissReason(t)}))},t.prototype.getDismissReason=function(t){return t===X.a.ESC?"by pressing ESC":t===X.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t.prototype.openNew=function(){this.makeCle(),this.creCheck=this.adm.screenCheck(7,2,1,1),this.saveStr="Save",this.opened=!0},t.prototype.makeCle=function(){this.delVisible=!1,this.recordID=0,this.call={Seq:"",Dat:"",Callerid:0,Customer:"",Mobile:"",Email:"",PrevcallId:null,PrevCallMode:"",CustomerComments:"",CallerComments:"",CallPosition:null,NextCallDate:"",NextCallMode:"0"},this.pendinginfo={id:null,seq:"",callerid:0,callername:"",customer:"",mobile:"",mode:"",dat:null,customercomments:"",username:""}},t.prototype.openOld=function(t){var e=this;this.recordID=t.recordId,this.delVisible=!0,this.creCheck=this.adm.screenCheck(7,2,1,2),this.saveStr="Modify",this.opened=!0,this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getTeleCallDetailById(t.recordId).subscribe((function(i){e.recordID=t.recordId;var n=i;e.call={Seq:n.seq,Dat:new Date,Callerid:0,Customer:n.customer,Mobile:n.mobile,Email:n.email,PrevcallId:n.prevcallId,PrevCallMode:n.prevCallMode,CustomerComments:n.customerComments,CallerComments:n.callerCommnets,CallPosition:n.pos,NextCallDate:new Date(n.nextcalldate),NextCallMode:n.nextcallmode},e.pendinginfo={id:n.prevcallId,seq:n.seq,callerid:0,callername:n.prevemployee,mobile:n.prevMobile,mode:n.prevCallMode,dat:new Date(n.prevDat),customercomments:n.prevComments,username:n.prevuser},console.log(e.call,e.pendinginfo,"old"),e.spinner.hide()}))},t.prototype.valChk=function(){return this.call.Customer?""==this.call.Customer.trim()?(this.adm.showMessage("Customer not entered","Warning",3),!1):this.call.Mobile?""==this.call.Mobile.trim()?(this.adm.showMessage("Mobile not entered","Warning",3),!1):this.call.CustomerComments?""==this.call.CustomerComments.trim()?(this.adm.showMessage("Customer comments not entered","Warning",3),!1):this.call.CallerComments?""==this.call.CallerComments.trim()?(this.adm.showMessage("Caller comments not entered","Warning",3),!1):!(this.call.CallPosition<=0&&(this.adm.showMessage("Call Position not selected","Warning",3),1)):(this.adm.showMessage("Caller comments not entered","Warning",3),!1):(this.adm.showMessage("Customer comments not entered","Warning",3),!1):(this.adm.showMessage("Mobile not entered","Warning",3),!1):(this.adm.showMessage("Customer not entered","Warning",3),!1)},t.prototype.deleteCall=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.call.RecordId=this.recordID,this.call.Dat=this.adm.strDate(this.tradate),this.crm.setTeleCall(this.call,3).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return t=e,this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),"OK"==t.result?(this.toastr.success("Call Deleted Successfully","Success"),this.listAdd(),this.makeCle(),this.opened=!1,this.spinner.hide()):(this.toastr.error(t.result,"Error"),this.spinner.hide()),[2]}))}))}))},t.prototype.saveCall=function(){var t=this;this.valChk()&&g.a.fire({title:0==this.recordID?"Confirms Tele Call Details":"Modifies Tele Call Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.call.Dat=new Date(t.adm.strDate(t.tradate)),t.call.NextCallDate=new Date(t.adm.strDate(t.nextdate)),t.call.CallPosition=+t.call.CallPosition,t.crm.setTeleCall(t.call,0==t.recordID?1:2).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t;return Object(G.__generator)(this,(function(i){return"OK"==(t=e).result?(g.a.fire("Transaction Completed Successfully!","Tele Call Details saved.","success"),this.pendinginfo={id:null,seq:"",callerid:0,callername:"",customer:"",mobile:"",mode:"",dat:null,customercomments:"",username:""},this.opened=0==this.recordID,this.makeCle(),this.listAdd()):g.a.fire(t.result,"Some error in transaction","error"),[2]}))}))})))}))},t.prototype.close=function(){this.opened=!1},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var e=this.adm.strDate(this.listdate);this.crm.getListOfTeleCalls(e,e).subscribe((function(e){return Object(G.__awaiter)(t,void 0,void 0,(function(){var t,i;return Object(G.__generator)(this,(function(n){for(t=e,this.details=[],i=0;i<t.length;i++)this.details.push({recordId:t[i].recordId,seq:t[i].seq,customer:t[i].customer,caller:t[i].email,mobile:t[i].mobile,statu:this.findstatus(t[i].callPosition)});return this.spinner.hide(),[2]}))}))}))},t.prototype.findcaller=function(t){var e=this.employees.filter((function(e){return e.empid==t}));return e.length>0?e[0].empname:""},t.prototype.findstatus=function(t){var e="";switch(t){case 1:e="Hot";break;case 2:e="Warm";break;case 3:e="Cool";break;case 4:e="Declined"}return e},t.\u0275fac=function(e){return new(e||t)(b.Sb(ge),b.Sb(a.a),b.Sb(r.c),b.Sb(o.c),b.Sb($.b),b.Sb(X.r))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-tele-call-pre"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","80%"],["align","right",2,"width","20%"],[2,"width","70%"],["type","text","disabled","",1,"form-control",2,"width","50%",3,"value"],["type","text",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","10%"],[2,"width","100%"],[2,"width","35%"],["type","text","disabled","",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[2,"width","15%"],["type","button","value","Add",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],["align","right",2,"width","15%"],["type","text","disabled","",1,"form-control",2,"width","100%",3,"value"],[2,"width","50%"],["disabled","","rows","3",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["rows","3",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","0"],["value","1"],["value","2"],["value","3"],["value","4"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["type","button","class","btn btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-info","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn","btn-dark","mb-1",3,"click"],["customContent",""],["type","button",1,"btn","btn-danger","mr-1","mb-1",3,"disabled","click"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"table","m-0",2,"width","99%"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"ft-edit","font-medium-1",3,"click"],[2,"width","90%"],[2,"width","40%"],["d3","ngbDatepicker"],[2,"width","20%"],["type","button",1,"btn","btn-info","mr-1","mb-1",3,"click"],["align","right",2,"width","40%"],["type","button",1,"btn","btn-success","mr-1","mb-1",3,"click"],[1,"table","m-0",2,"width","90%"],["scope","row"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,ua,145,22,"div",0),b.Uc(2,pa,37,2,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.opened),b.Db(1),b.vc("ngIf",!e.opened))},directives:[r.a,n.p,d.c,d.q,d.t,d.z,d.u,d.B,X.q,n.o],pipes:[n.e],styles:["ng-sidebar-container{height:100vh}::ng-deep .ng-sidebar{background-color:#fff;width:95%}.has-search .form-control{padding-left:2.375rem}.has-search .form-control-feedback{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}#content{width:95%}.terms-modal .modal-content{width:900px;position:absolute;left:-200px}.terms-modal .close,.terms-modal .modal-title{color:#000}.dark-modal .modal-content{background-color:#292b2c;width:190%;color:#fff;position:absolute;left:-300px}.dark-modal .close,.dark-modal .modal-title{color:#fff}"],encapsulation:2}),t}();function Xa(t,e){if(1&t&&(b.Yb(0,"option",24),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function Ya(t,e){if(1&t&&(b.Yb(0,"option",24),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function va(t,e){if(1&t&&(b.Yb(0,"option",24),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function ya(t,e){if(1&t&&(b.Yb(0,"option",24),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function Ca(t,e){if(1&t&&(b.Yb(0,"option",24),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function Ma(t,e){if(1&t&&(b.Yb(0,"option",24),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function ka(t,e){if(1&t&&(b.Yb(0,"option",24),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function Da(t,e){if(1&t&&(b.Yb(0,"option",24),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function Wa(t,e){if(1&t&&(b.Yb(0,"option",24),b.Wc(1),b.Xb()),2&t){var i=e.$implicit;b.wc("value",i),b.Db(1),b.Xc(i)}}function wa(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"table",0),b.Yb(2,"tr",13),b.Yb(3,"td",14),b.Wc(4,"SO Id"),b.Xb(),b.Yb(5,"td",15),b.Wc(6,"Customer"),b.Xb(),b.Yb(7,"td",14),b.Wc(8,"Product"),b.Xb(),b.Yb(9,"td",16),b.Wc(10,"Shade"),b.Xb(),b.Yb(11,"td",16),b.Wc(12,"Side"),b.Xb(),b.Yb(13,"td",16),b.Wc(14,"Add"),b.Xb(),b.Yb(15,"td",16),b.Wc(16,"Cyl"),b.Xb(),b.Yb(17,"td",16),b.Wc(18,"Sph"),b.Xb(),b.Yb(19,"td",16),b.Wc(20,"Dia"),b.Xb(),b.Yb(21,"td",16),b.Wc(22,"Coating"),b.Xb(),b.Yb(23,"td",16),b.Wc(24,"Qty"),b.Xb(),b.Xb(),b.Yb(25,"tr"),b.Yb(26,"td"),b.Wc(27),b.Xb(),b.Yb(28,"td"),b.Wc(29),b.Xb(),b.Yb(30,"td"),b.Wc(31),b.Xb(),b.Yb(32,"td"),b.Wc(33),b.Xb(),b.Yb(34,"td"),b.Wc(35),b.Xb(),b.Yb(36,"td"),b.Wc(37),b.Xb(),b.Yb(38,"td"),b.Wc(39),b.Xb(),b.Yb(40,"td"),b.Wc(41),b.Xb(),b.Yb(42,"td"),b.Wc(43),b.Xb(),b.Yb(44,"td"),b.Wc(45),b.Xb(),b.Yb(46,"td"),b.Wc(47),b.Xb(),b.Xb(),b.Xb(),b.Yb(48,"table"),b.Yb(49,"tr",17),b.Yb(50,"td",8),b.Wc(51," Vendor "),b.Xb(),b.Yb(52,"td",18),b.Wc(53," Product "),b.Xb(),b.Yb(54,"td",16),b.Wc(55," Side "),b.Xb(),b.Yb(56,"td",16),b.Wc(57,"Shade"),b.Xb(),b.Yb(58,"td",16),b.Wc(59,"Base"),b.Xb(),b.Yb(60,"td",16),b.Wc(61,"Add"),b.Xb(),b.Yb(62,"td",16),b.Wc(63,"Dia"),b.Xb(),b.Yb(64,"td",16),b.Wc(65,"Coat"),b.Xb(),b.Yb(66,"td",16),b.Wc(67,"Qual"),b.Xb(),b.Yb(68,"td",19),b.Wc(69,"Qty"),b.Xb(),b.Xb(),b.Yb(70,"tr"),b.Yb(71,"td",8),b.Yb(72,"select",20),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.blavendor=t}))("change",(function(){b.Mc(i);var t=e.$implicit;return b.oc().findGIN(t)})),b.Uc(73,Xa,2,2,"option",21),b.Xb(),b.Xb(),b.Yb(74,"td",18),b.Yb(75,"select",20),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.blaproduct=t}))("change",(function(){b.Mc(i);var t=e.$implicit;return b.oc().findGIN(t)})),b.Uc(76,Ya,2,2,"option",21),b.Xb(),b.Xb(),b.Yb(77,"td",16),b.Yb(78,"select",20),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.blasid=t}))("change",(function(){b.Mc(i);var t=e.$implicit;return b.oc().findGIN(t)})),b.Uc(79,va,2,2,"option",21),b.Xb(),b.Xb(),b.Yb(80,"td",16),b.Yb(81,"select",20),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.blashade=t}))("change",(function(){b.Mc(i);var t=e.$implicit;return b.oc().findGIN(t)})),b.Uc(82,ya,2,2,"option",21),b.Xb(),b.Xb(),b.Yb(83,"td",16),b.Yb(84,"select",20),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.blbase=t}))("change",(function(){b.Mc(i);var t=e.$implicit;return b.oc().findGIN(t)})),b.Uc(85,Ca,2,2,"option",21),b.Xb(),b.Xb(),b.Yb(86,"td",16),b.Yb(87,"select",20),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.blaadd=t}))("change",(function(){b.Mc(i);var t=e.$implicit;return b.oc().findGIN(t)})),b.Uc(88,Ma,2,2,"option",21),b.Xb(),b.Xb(),b.Yb(89,"td",16),b.Yb(90,"select",20),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.bladia=t}))("change",(function(){b.Mc(i);var t=e.$implicit;return b.oc().findGIN(t)})),b.Uc(91,ka,2,2,"option",21),b.Xb(),b.Xb(),b.Yb(92,"td",16),b.Yb(93,"select",20),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.blacoat=t}))("change",(function(){b.Mc(i);var t=e.$implicit;return b.oc().findGIN(t)})),b.Uc(94,Da,2,2,"option",21),b.Xb(),b.Xb(),b.Yb(95,"td",22),b.kc("change",(function(){b.Mc(i);var t=e.$implicit;return b.oc().findGIN(t)})),b.Yb(96,"select",23),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.blaqual=t})),b.Uc(97,Wa,2,2,"option",21),b.Xb(),b.Xb(),b.Yb(98,"td",19),b.Wc(99),b.Xb(),b.Xb(),b.Xb(),b.Tb(100,"br"),b.Xb()}if(2&t){var n=e.$implicit,r=b.oc();b.Db(27),b.Xc(n.soid),b.Db(2),b.Xc(n.customer),b.Db(2),b.Xc(n.product),b.Db(2),b.Xc(n.shade),b.Db(2),b.Xc(n.sid),b.Db(2),b.Xc(n.addiPower),b.Db(2),b.Xc(n.cylindrical),b.Db(2),b.Xc(n.spherical),b.Db(2),b.Xc(n.dia),b.Db(2),b.Xc(n.coating),b.Db(2),b.Xc(n.qty),b.Db(25),b.vc("ngModel",n.blavendor),b.Db(1),b.vc("ngForOf",r.detuni.suppliers),b.Db(2),b.vc("ngModel",n.blaproduct),b.Db(1),b.vc("ngForOf",r.detuni.products),b.Db(2),b.vc("ngModel",n.blasid),b.Db(1),b.vc("ngForOf",r.detuni.sid),b.Db(2),b.vc("ngModel",n.blashade),b.Db(1),b.vc("ngForOf",r.detuni.shade),b.Db(2),b.vc("ngModel",n.blbase),b.Db(1),b.vc("ngForOf",r.detuni.baseP),b.Db(2),b.vc("ngModel",n.blaadd),b.Db(1),b.vc("ngForOf",r.detuni.addP),b.Db(2),b.vc("ngModel",n.bladia),b.Db(1),b.vc("ngForOf",r.detuni.dia),b.Db(2),b.vc("ngModel",n.blacoat),b.Db(1),b.vc("ngForOf",r.detuni.coat),b.Db(2),b.vc("ngModel",n.blaqual),b.Db(1),b.vc("ngForOf",r.detuni.qual),b.Db(2),b.Yc(" ",n.blaqty," ")}}var xa=function(){function t(t,e,i){this.spinner=t,this.adm=e,this.crm=i,this.orders=[]}return t.prototype.ngOnInit=function(){},t.prototype.showDetails=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getDayWiseOrders(this.adm.strDate(this.listdat)).subscribe((function(e){t.totaldet=e,t.orders=t.totaldet.orders,t.detuni=t.totaldet.blanksinfo;for(var i=0;i<t.orders.length;i++)t.orders[i].blaproduct=t.orders[i].product,t.orders[i].blasid=t.orders[i].sid,t.orders[i].blashade=t.orders[i].shade,t.orders[i].blaadd=t.orders[i].addiPower,t.orders[i].bladia=t.orders[i].dia,t.orders[i].blacoat=t.orders[i].coating,t.orders[i].blaqual="A",t.orders[i].blbase=t.orders[i].blbase;console.log(t.totaldet),t.spinner.hide()}))},t.prototype.findGIN=function(t){var e=this.totaldet.blanksinventory.filter((function(e){return e.product==t.blaproduct&&e.sid==t.blasid&&e.shade==t.blashade&&e.addP==t.blaadd&&e.dia==t.bladia&&e.coat==t.blacoat&&e.qual==t.blaqual&&e.baseP==t.blbase&&e.supplier==t.blavendor&&e.qty>0}));e.length>0&&(t.gin=e[0].gin,t.item=e[0].itemId,t.blaqty=1)},t.prototype.save=function(){for(var t=this,e=[],i=0;i<this.orders.length;i++)this.orders[i].gin&&this.orders[i].blaqty>0&&e.push({soid:this.orders[i].soid,sno:this.orders[i].sno,gin:this.orders[i].gin,sid:this.orders[i].sid,item:this.orders[i].item});this.crm.setDayWiseOrders(e).subscribe((function(e){var i=e;"OK"==i.result?(t.adm.showMessage("Values added successfully","Success",1),t.orders=[]):(t.adm.showMessage(i.result,"Error",4),t.orders=[])}))},t.\u0275fac=function(e){return new(e||t)(b.Sb(r.c),b.Sb(a.a),b.Sb(Ac))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-temp-orders"]],decls:21,vars:3,consts:[[2,"width","100%"],["align","left",2,"width","40%"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","","enabled","datCheck",1,"form-control",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],[2,"width","20%"],["type","button",1,"btn","btn-success","mr-1","mb-1",3,"click"],[2,"width","40%"],[4,"ngFor","ngForOf"],["type","button","value","Submit",1,"btn","btn-info","mr-1","mb-1",3,"click"],[2,"background-color","black","color","white"],[2,"width","9%"],[2,"width","18%"],[2,"width","8%"],[2,"background-color","lightgray"],[2,"width","14%"],[2,"width","10%"],[3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],[2,"width","8%",3,"change"],[3,"ngModel","ngModelChange"],[3,"value"]],template:function(t,e){if(1&t){var i=b.Zb();b.Tb(0,"ngx-spinner"),b.Yb(1,"h3"),b.Wc(2," List of Orders\n"),b.Xb(),b.Yb(3,"table",0),b.Yb(4,"tr"),b.Yb(5,"td",1),b.Yb(6,"div",2),b.Yb(7,"input",3,4),b.kc("ngModelChange",(function(t){return e.listdat=t})),b.Xb(),b.Yb(9,"div",5),b.Yb(10,"div",6),b.kc("click",(function(){return b.Mc(i),b.Jc(8).toggle()})),b.Tb(11,"i",7),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(12,"td",8),b.Yb(13,"button",9),b.kc("click",(function(){return e.showDetails()})),b.Wc(14,"Show"),b.Xb(),b.Xb(),b.Yb(15,"td",10),b.Wc(16,"\xa0"),b.Xb(),b.Xb(),b.Xb(),b.Yb(17,"h3"),b.Wc(18),b.Xb(),b.Uc(19,wa,101,30,"div",11),b.Yb(20,"input",12),b.kc("click",(function(){return e.save()})),b.Xb()}2&t&&(b.Db(7),b.vc("ngModel",e.listdat),b.Db(11),b.Yc("Total orders ",e.orders.length,""),b.Db(1),b.vc("ngForOf",e.orders))},directives:[r.a,X.q,d.c,d.q,d.t,n.o,d.z,d.u,d.B],styles:[""]}),t}(),Ia=function(){return["/purchases/purdashboard"]},Sa=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crm-unauthorize"]],decls:14,vars:2,consts:[["id","error"],[1,"container-fluid"],[1,"row","auth-height","full-height-vh"],[1,"col-12","d-flex","align-items-center","justify-content-center"],[1,"row"],[1,"col-12","text-center"],["src","../../../assets/img/gallery/error.png","alt","","height","300","width","400",1,"img-fluid","error-img","mt-2"],[1,"mt-4"],[1,"w-75","error-text","mx-auto","mt-4"],[1,"btn","btn-warning","my-2",3,"routerLink"]],template:function(t,e){1&t&&(b.Yb(0,"section",0),b.Yb(1,"div",1),b.Yb(2,"div",2),b.Yb(3,"div",3),b.Yb(4,"div",4),b.Yb(5,"div",5),b.Tb(6,"img",6),b.Yb(7,"h1",7),b.Wc(8,"OOPS - You are not authorized for this page!"),b.Xb(),b.Yb(9,"div",8),b.Yb(10,"p"),b.Wc(11,"The page you are looking for might not have permitted to you, Please ask your administrator "),b.Xb(),b.Xb(),b.Yb(12,"a",9),b.Wc(13,"Back To Home"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t&&(b.Db(12),b.vc("routerLink",b.zc(1,Ia)))},directives:[o.e],styles:[""]}),t}();function Aa(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",27),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td",25),b.Wc(6),b.Xb(),b.Yb(7,"td",25),b.Wc(8),b.Xb(),b.Yb(9,"td",25),b.Wc(10),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Yc(" ",i.name," "),b.Db(2),b.Xc(i.busi),b.Db(2),b.Xc(i.prev),b.Db(2),b.Xc(i.mod)}}function Ra(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"th",27),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td",25),b.Wc(6),b.Xb(),b.Yb(7,"td",25),b.Wc(8),b.Xb(),b.Yb(9,"td",25),b.Wc(10),b.Xb(),b.Xb()),2&t){var i=e.$implicit,n=e.index;b.Db(2),b.Xc(n+1),b.Db(2),b.Yc(" ",i.name," "),b.Db(2),b.Xc(i.busi),b.Db(2),b.Xc(i.prev),b.Db(2),b.Xc(i.mod)}}var Oa=["#975AFF","#F55252","#40C057","#F55252","#2F8BE6"];function Ua(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Wc(6),b.Xb(),b.Yb(7,"td"),b.Yb(8,"input",12),b.kc("ngModelChange",(function(t){return b.Mc(i),e.$implicit.price=t})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n.product),b.Db(2),b.Xc(n.coat),b.Db(2),b.vc("ngModel",n.price)}}function Ta(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," RX Sale Price List "),b.Xb(),b.Yb(3,"table",1),b.Yb(4,"tr"),b.Yb(5,"td",2),b.Yb(6,"table",1),b.Yb(7,"tr"),b.Yb(8,"td",3),b.Wc(9,"Price List"),b.Xb(),b.Yb(10,"td",4),b.Yb(11,"input",5),b.kc("ngModelChange",(function(t){return b.Mc(i),b.oc(2).pricename=t})),b.Xb(),b.Xb(),b.Yb(12,"td",6),b.Yb(13,"button",7),b.kc("click",(function(){return b.Mc(i),b.oc(2).savePrice()})),b.Wc(14,"Save"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(15,"td",4),b.Yb(16,"button",8),b.kc("click",(function(){return b.Mc(i),b.oc(2).close()})),b.Wc(17,"Close"),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(18,"table",9),b.Yb(19,"thead",10),b.Yb(20,"tr"),b.Yb(21,"th"),b.Wc(22,"#"),b.Xb(),b.Yb(23,"th"),b.Wc(24,"Product"),b.Xb(),b.Yb(25,"th"),b.Wc(26,"Coating"),b.Xb(),b.Yb(27,"th"),b.Wc(28,"Price"),b.Xb(),b.Xb(),b.Xb(),b.Yb(29,"tbody"),b.Uc(30,Ua,9,4,"tr",11),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(11),b.vc("disabled",n.editcheck)("ngModel",n.pricename),b.Db(19),b.vc("ngForOf",n.prices)}}function Pa(t,e){if(1&t){var i=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td"),b.Wc(2),b.Xb(),b.Yb(3,"td"),b.Wc(4),b.Xb(),b.Yb(5,"td"),b.Yb(6,"i",15),b.kc("click",(function(){b.Mc(i);var t=e.$implicit;return b.oc(3).openOld(t)})),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=e.$implicit,r=e.index;b.Db(2),b.Xc(r+1),b.Db(2),b.Xc(n)}}function Fa(t,e){if(1&t){var i=b.Zb();b.Yb(0,"div"),b.Yb(1,"h3"),b.Wc(2," List of RX Sale Prices "),b.Xb(),b.Yb(3,"button",13),b.kc("click",(function(){return b.Mc(i),b.oc(2).openNew()})),b.Wc(4,"New"),b.Xb(),b.Yb(5,"table",14),b.Yb(6,"thead",10),b.Yb(7,"tr"),b.Yb(8,"th"),b.Wc(9,"#"),b.Xb(),b.Yb(10,"th"),b.Wc(11,"Name"),b.Xb(),b.Yb(12,"th"),b.Wc(13,"Open"),b.Xb(),b.Xb(),b.Xb(),b.Yb(14,"tbody"),b.Uc(15,Pa,7,2,"tr",11),b.Xb(),b.Xb(),b.Xb()}if(2&t){var n=b.oc(2);b.Db(15),b.vc("ngForOf",n.names)}}function La(t,e){if(1&t&&(b.Yb(0,"div"),b.Uc(1,Ta,31,3,"div",0),b.Uc(2,Fa,16,1,"div",0),b.Xb()),2&t){var i=b.oc();b.Db(1),b.vc("ngIf",i.opencheck),b.Db(1),b.vc("ngIf",!i.opencheck)}}function Na(t,e){1&t&&(b.Yb(0,"div"),b.Yb(1,"h1"),b.Wc(2,"You are not authorised to view this page"),b.Xb(),b.Xb())}var qa=[{path:"",children:[{path:"crmpricelist",component:ec}]},{path:"",children:[{path:"crmdiscountlist",component:fe}]},{path:"",children:[{path:"crmdashboardbla",component:function(){function t(t,e){var i=this;this.spinner=t,this.crm=e,this.turnoverLabels=["Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Jan","Feb","Mar"],this.turnoverData=[30,30,40,50,60,30,70,80,90,30,50,60],this.dashboard={monthlyrx:0,monthlystock:0,annualrx:0,annualstock:0,turnover:[]},this.customers=[],this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getCRMRXDashboard().subscribe((function(t){var e=t;i.dashboard.monthlyrx=e.monthly,i.dashboard.annualrx=e.annual,i.dashboard.turnover=e.turnovers,i.makeCharts(),i.spinner.hide()}))}return t.prototype.makeCharts=function(){for(var t=[],e=[],i=[],n=0;n<this.dashboard.turnover.length;n++)t.push(this.dashboard.turnover[n].monthname),e.push(this.dashboard.turnover[n].valu),i.push(0);this.barChartOptions={chart:{height:350,type:"line"},colors:Oa,plotOptions:{bar:{horizontal:!1}},dataLabels:{enabled:!1},series:[{name:"Blanks",data:e},{name:"Stocks",data:i}],xaxis:{categories:t,tickAmount:5}}},t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)(b.Sb(r.c),b.Sb(ht))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crmdash-board-blanks"]],decls:123,vars:35,consts:[[1,"row"],[1,"col-sm-12"],[1,"content-header"],[1,"col-xl-3","col-lg-6","col-12"],[1,"card","card-inverse","bg-primary"],[1,"card-content"],[1,"card-body"],[1,"media"],[1,"media-body","text-left"],[1,"card-text"],[1,"media-right","align-self-center"],[1,"ft-arrow-up","font-large-2","float-right"],[1,"card","card-inverse","bg-warning"],[1,"ft-arrow-down","font-large-2","float-right"],["id","apexchart"],[1,"col-xl-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[3,"series","colors","chart","xaxis","yaxis","title","dataLabels","stroke","grid","tooltip","plotOptions","fill","legend","labels","markers","theme","responsive"],[1,"col-lg-6","col-12"],[1,"col-12"],[1,"table-responsive"],[1,"table","m-0"],[1,"thead-light"],["align","right"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Yb(1,"div",0),b.Yb(2,"div",1),b.Yb(3,"div",2),b.Wc(4,"CRM Dashboard"),b.Xb(),b.Xb(),b.Xb(),b.Yb(5,"div",0),b.Yb(6,"div",3),b.Yb(7,"div",4),b.Yb(8,"div",5),b.Yb(9,"div",6),b.Yb(10,"div",7),b.Yb(11,"div",8),b.Yb(12,"h3",9),b.Wc(13),b.pc(14,"number"),b.Xb(),b.Yb(15,"span"),b.Wc(16,"Blank this month"),b.Xb(),b.Xb(),b.Yb(17,"div",10),b.Tb(18,"i",11),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(19,"div",3),b.Yb(20,"div",12),b.Yb(21,"div",5),b.Yb(22,"div",6),b.Yb(23,"div",7),b.Yb(24,"div",8),b.Yb(25,"h3",9),b.Wc(26),b.pc(27,"number"),b.Xb(),b.Yb(28,"span"),b.Wc(29,"Stock this month"),b.Xb(),b.Xb(),b.Yb(30,"div",10),b.Tb(31,"i",13),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(32,"div",3),b.Yb(33,"div",4),b.Yb(34,"div",5),b.Yb(35,"div",6),b.Yb(36,"div",7),b.Yb(37,"div",8),b.Yb(38,"h3",9),b.Wc(39),b.pc(40,"number"),b.Xb(),b.Yb(41,"span"),b.Wc(42,"Blank this year"),b.Xb(),b.Xb(),b.Yb(43,"div",10),b.Tb(44,"i",13),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(45,"div",3),b.Yb(46,"div",12),b.Yb(47,"div",5),b.Yb(48,"div",6),b.Yb(49,"div",7),b.Yb(50,"div",8),b.Yb(51,"h3",9),b.Wc(52),b.pc(53,"number"),b.Xb(),b.Yb(54,"span"),b.Wc(55,"Stock this year"),b.Xb(),b.Xb(),b.Yb(56,"div",10),b.Tb(57,"i",11),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(58,"section",14),b.Yb(59,"div",0),b.Yb(60,"div",15),b.Yb(61,"div",16),b.Yb(62,"div",17),b.Yb(63,"h4",18),b.Wc(64,"Orders Chart"),b.Xb(),b.Xb(),b.Yb(65,"div",5),b.Yb(66,"div",6),b.Tb(67,"apx-chart",19),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(68,"div",0),b.Yb(69,"div",20),b.Yb(70,"div",16),b.Yb(71,"div",17),b.Yb(72,"h4",18),b.Wc(73,"Todays Calls"),b.Xb(),b.Xb(),b.Yb(74,"div",5),b.Yb(75,"div",0),b.Yb(76,"div",21),b.Yb(77,"div",16),b.Yb(78,"div",5),b.Yb(79,"div",6),b.Yb(80,"div",22),b.Yb(81,"table",23),b.Yb(82,"thead",24),b.Yb(83,"tr"),b.Yb(84,"th"),b.Wc(85,"#"),b.Xb(),b.Yb(86,"th"),b.Wc(87,"Customer"),b.Xb(),b.Yb(88,"th",25),b.Wc(89,"Mobile"),b.Xb(),b.Yb(90,"th",25),b.Wc(91,"prevdate"),b.Xb(),b.Yb(92,"th",25),b.Wc(93,"prevmode"),b.Xb(),b.Xb(),b.Xb(),b.Yb(94,"tbody"),b.Uc(95,Aa,11,5,"tr",26),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(96,"div",20),b.Yb(97,"div",16),b.Yb(98,"div",17),b.Yb(99,"h4",18),b.Wc(100,"Todays Enquiries"),b.Xb(),b.Xb(),b.Yb(101,"div",5),b.Yb(102,"div",0),b.Yb(103,"div",21),b.Yb(104,"div",16),b.Yb(105,"div",5),b.Yb(106,"div",6),b.Yb(107,"div",22),b.Yb(108,"table",23),b.Yb(109,"thead",24),b.Yb(110,"tr"),b.Yb(111,"th"),b.Wc(112,"#"),b.Xb(),b.Yb(113,"th"),b.Wc(114,"Customer"),b.Xb(),b.Yb(115,"th",25),b.Wc(116,"Mobile"),b.Xb(),b.Yb(117,"th",25),b.Wc(118,"prevdate"),b.Xb(),b.Yb(119,"th",25),b.Wc(120,"prevmode"),b.Xb(),b.Xb(),b.Xb(),b.Yb(121,"tbody"),b.Uc(122,Ra,11,5,"tr",26),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t&&(b.Db(13),b.Yc("",b.rc(14,23,e.dashboard.monthlyrx,"0.2"),"%"),b.Db(13),b.Yc("",b.rc(27,26,e.dashboard.monthlystock,"0.2"),"%"),b.Db(13),b.Yc("",b.rc(40,29,e.dashboard.annualrx,"0.2"),"%"),b.Db(13),b.Yc("",b.rc(53,32,e.dashboard.annualstock,"0.2"),"%"),b.Db(15),b.vc("series",e.barChartOptions.series)("colors",e.barChartOptions.colors)("chart",e.barChartOptions.chart)("xaxis",e.barChartOptions.xaxis)("yaxis",e.barChartOptions.yaxis)("title",e.barChartOptions.title)("dataLabels",e.barChartOptions.dataLabels)("stroke",e.barChartOptions.stroke)("grid",e.barChartOptions.grid)("tooltip",e.barChartOptions.tooltip)("plotOptions",e.barChartOptions.plotOptions)("fill",e.barChartOptions.fill)("legend",e.barChartOptions.legend)("labels",e.barChartOptions.labels)("markers",e.barChartOptions.markers)("theme",e.barChartOptions.theme)("responsive",e.barChartOptions.responsive),b.Db(28),b.vc("ngForOf",e.customers),b.Db(27),b.vc("ngForOf",e.customers))},directives:[r.a,Qt.a,n.o],pipes:[n.f],styles:[""]}),t}()}]},{path:"",children:[{path:"crmdashboard",component:oe}]},{path:"",children:[{path:"crmleadsmgt",component:oi}]},{path:"",children:[{path:"crmcustomers",component:Vt}]},{path:"",children:[{path:"crmagentsmgt",component:R}]},{path:"",children:[{path:"crmmarket",component:ci}]},{path:"",children:[{path:"crmrxpricelist",component:function(){function t(t,e,i){this.crm=t,this.adm=e,this.spinner=i,this.authCheck=!1,this.prices=[],this.pricename="",this.opencheck=!1,this.editcheck=!1,this.adm.screenCheck(7,1,1,0)&&(this.authCheck=!0,this.namesAdd())}return t.prototype.openNew=function(){this.pricename="",this.opencheck=!0,this.editcheck=!1,this.listAdd()},t.prototype.openOld=function(t){this.pricename=t,this.opencheck=!0,this.editcheck=!0,this.listAdd()},t.prototype.close=function(){this.opencheck=!1},t.prototype.namesAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getRxPriceListNames().subscribe((function(e){t.names=e,console.log(t.names),t.spinner.hide()}))},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.crm.getRxPriceList(this.pricename).subscribe((function(e){t.prices=e,t.spinner.hide()}))},t.prototype.ngOnInit=function(){},t.prototype.valChk=function(){if(""==this.pricename)return this.adm.showMessage("Price list name not mentioned","Warning",3),!1;for(var t=0;t<this.names.length;t++)if(this.names[t].toUpperCase()==this.pricename.toUpperCase()&&!this.editcheck)return this.adm.showMessage("Price list name is already existed","Warning",3),!1;return!0},t.prototype.savePrice=function(){var t=this;this.valChk()&&g.a.fire({title:this.editcheck?"Modifies Price List Details":"Confirms Price List Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});for(var i=[],n=0;n<t.prices.length;n++)i.push({PriceListName:t.pricename,Product:t.prices[n].product,Coat:t.prices[n].coat,Taxtype:t.prices[n].taxtype,Price:t.prices[n].price,Discount:t.prices[n].discount});console.log(i),t.crm.setRxPriceList(i).subscribe((function(e){var i=e;"OK"==i.result?(g.a.fire("Prices reverted Successfully Successfully!","Account Details deleted.","success"),t.namesAdd(),t.opencheck=!1):g.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()}))}}))},t.\u0275fac=function(e){return new(e||t)(b.Sb(ht),b.Sb(a.a),b.Sb(r.c))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-crn-rx-price-list"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","100%"],[2,"width","40%"],["align","right",2,"width","25%"],["align","right",2,"width","60%"],["type","text",1,"form-control",3,"disabled","ngModel","ngModelChange"],[2,"width","25%"],["type","button",1,"btn","btn-info","mr-1","mb-1",3,"click"],["type","button",1,"btn","btn-dark","mr-1","mb-1",3,"click"],[1,"table","m-0",2,"width","99%"],[1,"thead-light"],[4,"ngFor","ngForOf"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-primary","mr-1","mb-1",3,"click"],[1,"table","m-0",2,"width","50%"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(b.Tb(0,"ngx-spinner"),b.Uc(1,La,3,2,"div",0),b.Uc(2,Na,3,0,"div",0)),2&t&&(b.Db(1),b.vc("ngIf",e.authCheck),b.Db(1),b.vc("ngIf",!e.authCheck))},directives:[r.a,n.p,d.c,d.q,d.t,n.o,d.v],styles:[""]}),t}()}]},{path:"",children:[{path:"crmopenings",component:pi}]},{path:"",children:[{path:"crmtargets",component:Hc}]},{path:"",children:[{path:"crmtelecallblapre",component:ga}]},{path:"",children:[{path:"crmenquiryrx",component:we}]},{path:"",children:[{path:"crmquotationrx",component:Dc}]},{path:"",children:[{path:"crmordersrx",component:Mn}]},{path:"",children:[{path:"crmadvances",component:A}]},{path:"",children:[{path:"crmbillsub",component:B}]},{path:"",children:[{path:"crmtelecallblapost",component:sa}]},{path:"",children:[{path:"crmcomplaints",component:E}]},{path:"",children:[{path:"crmsalereturn",component:Ec}]},{path:"",children:[{path:"crmacr",component:Wc}]},{path:"",children:[{path:"crmtemporders",component:xa}]},{path:"",children:[{path:"crmrepclosedorders",component:Uc}]},{path:"",children:[{path:"crmrxdiscountlist",component:Bc}]},{path:"",children:[{path:"crmcusgrps",component:lt}]},{path:"",children:[{path:"crmbillsubmissions",component:In}]},{path:"",children:[{path:"crmpostsalefollowup",component:Fn}]},{path:"",children:[{path:"crmpostsaletickets",component:kr}]},{path:"",children:[{path:"crmpostsaleticketclearances",component:Mr}]},{path:"",children:[{path:"crmpostsalereturns",component:Cr}]},{path:"",children:[{path:"crmpostbillclearances",component:br}]},{path:"",children:[{path:"crmkeyrepcustgroups",component:Ue}]},{path:"",children:[{path:"crmkeyrepcustomers",component:Le}]},{path:"",children:[{path:"crmreptelecallslist",component:To}]},{path:"",children:[{path:"crmreptelecallspendings",component:No}]},{path:"",children:[{path:"crmrepenquirieslist",component:jr}]},{path:"",children:[{path:"crmrepenquiriespendings",component:Jr}]},{path:"",children:[{path:"crmrepcallerwisecalls",component:Nr}]},{path:"",children:[{path:"crmreporderslist",component:Co}]},{path:"",children:[{path:"crmreporderscustomerwise",component:ho}]},{path:"",children:[{path:"crmreporderspendings",component:wo}]},{path:"",children:[{path:"crmrepordersitemwise",component:no}]},{path:"",children:[{path:"crmrepordersdelayed",component:po}]},{path:"",children:[{path:"crmrepadvancesliable",component:Ar}]},{path:"",children:[{path:"crmrepadvancescustomerwise",component:Dr}]},{path:"",children:[{path:"crmrepemployeewise",component:qr}]},{path:"",children:[{path:"crmpostrepsalereturns",component:tr}]},{path:"",children:[{path:"crmpostrepsnapshot",component:Zn}]},{path:"",children:[{path:"crmpostrepagings",component:En}]},{path:"",children:[{path:"crmrepanacustomerwise",component:Sc}]},{path:"",children:[{path:"crmminndash",component:di}]},{path:"",children:[{path:"crmTaxes",component:aa}]},{path:"",children:[{path:"crmsettings",component:zc}]},{path:"",children:[{path:"crmaccounts",component:h}]},{path:"",children:[{path:"crmunauthorize",component:Sa}]}],Ba=function(){function t(){}return t.\u0275mod=b.Qb({type:t}),t.\u0275inj=b.Pb({factory:function(e){return new(e||t)},imports:[[o.f.forChild(qa)],o.f]}),t}(),Ea=i("G3Le"),Ga=i("6HeS"),za=i("KLty"),$a=i("ZD4S"),Za=i("dwnd"),_a=i("k4pO"),ja=function(){function t(){}return t.\u0275mod=b.Qb({type:t}),t.\u0275inj=b.Pb({factory:function(e){return new(e||t)},providers:[Za.a],imports:[[n.c,Ba,Ea.e,X.t,za.b,$a.b,Ga.b,Qt.b,r.b,_a.c.forRoot(),d.k,gi.b]]}),t}()},vvAQ:function(t,e,i){"use strict";i.d(e,"a",(function(){return c}));var n=i("Tf8q"),r=i("TYT/"),o=i("cUzu"),c=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getPartyDetails=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={detail:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/PartyDetails/GetPartyDetails",e,this.adm.makeConfig())},t.prototype.getPartyDetail=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={detail:t,recordId:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/PartyDetails/GetPartyDetail",i,this.adm.makeConfig())},t.prototype.setPartyDetail=function(t,e,i,n){this.userdetails=this.adm.getUserCompleteInformation();var r={party:t,addresses:e,departments:i,traCheck:n,usr:this.userdetails.usr};return console.log("supplier",r),this.http.post(this.adm.getActualURL()+"api/PartyDetails/SetPartyDetail",r,this.adm.makeConfig())},t.prototype.GetPartyOpeningBalances=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={detail:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/PartyDetails/GetPartiesOpeningBalances",e,this.adm.makeConfig())},t.prototype.SetPartyOpeningBalances=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={supports:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/PartyDetails/SetPartiesOpeningBalances",e,this.adm.makeConfig())},t.prototype.GetPartyCompleteDetails=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={detail:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/PartyDetails/GetCompleteInfoForParty",e,this.adm.makeConfig())},t.prototype.GetSupplierCompletePendingBalances=function(t){var e={recordId:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/PartyDetails/GetSupplierPendingBalancesDetails",e,this.adm.makeConfig())},t.prototype.GetCustomerCompletePendingBalances=function(t){var e={recordId:t,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/PartyDetails/GetCustomerPendingBalancesDetails",e,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(r.gc(n.a),r.gc(o.a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);