(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{v0l0:function(t,e,a){"use strict";a.r(e),a.d(e,"ChatNGRXModule",(function(){return $}));var i=a("Valr"),n=a("QJY3"),c=a("6onV"),s=a("T5p2"),r=a("h2Ha"),o=a("MnXN"),b=a("DUip"),d=a("mrSG"),l=a("Zf44"),h=a("oVYq"),v=a("vihK"),g=a("TYT/"),p=a("WfBE");function u(t,e){1&t&&g.Tb(0,"i",51)}function m(t,e){1&t&&g.Tb(0,"i",52)}function f(t,e){if(1&t&&(g.Yb(0,"span",53),g.Wc(1),g.Xb()),2&t){var a=g.oc().$implicit;g.Db(1),g.Xc(a.unreadMessageCount)}}var C=function(t){return{"selected-chat":t}},X=function(t){return{"align-items-center":t}};function y(t,e){if(1&t){var a=g.Zb();g.Yb(0,"a",39),g.kc("click",(function(){g.Mc(a);var t=e.$implicit;return g.oc().viewChat(t)})),g.Yb(1,"div",40),g.Yb(2,"span",41),g.Tb(3,"img",42),g.Tb(4,"span"),g.Tb(5,"i"),g.Xb(),g.Yb(6,"div",21),g.Yb(7,"h6",43),g.Wc(8),g.Yb(9,"span",44),g.Wc(10),g.Xb(),g.Xb(),g.Yb(11,"p",45),g.Tb(12,"i",46),g.Yb(13,"span"),g.Wc(14),g.Xb(),g.Yb(15,"span",47),g.Uc(16,u,1,0,"i",48),g.Uc(17,m,1,0,"i",49),g.Uc(18,f,2,1,"span",50),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb()}if(2&t){var i=e.$implicit;g.vc("ngClass",g.Ac(12,C,i.isActiveChat)),g.Db(1),g.vc("ngClass",g.Ac(14,X,!i.isActiveChat)),g.Db(2),g.vc("src",i.avatar,g.Oc),g.Db(1),g.Gb("avatar-status-",i.status,""),g.Db(4),g.Yc("",i.name," "),g.Db(2),g.Xc(i.lastChatTime),g.Db(4),g.Xc(i.lastChatMessage),g.Db(2),g.vc("ngIf",i.isPinnedUser),g.Db(1),g.vc("ngIf",i.isMuted),g.Db(1),g.vc("ngIf",""!=i.unreadMessageCount)}}function Y(t,e){if(1&t&&(g.Yb(0,"p"),g.Wc(1),g.Xb()),2&t){var a=g.oc().$implicit;g.Db(1),g.Xc(a)}}function w(t,e){if(1&t&&(g.Yb(0,"vg-player"),g.Yb(1,"audio",65,66),g.Tb(3,"source",67),g.Xb(),g.Xb()),2&t){var a=g.Jc(2),i=g.oc().$implicit;g.Db(1),g.vc("vgMedia",a),g.Db(2),g.vc("src",i,g.Oc)}}function M(t,e){if(1&t&&(g.Yb(0,"vg-player",68),g.Yb(1,"video",69,70),g.Tb(3,"source",71),g.Xb(),g.Xb()),2&t){var a=g.Jc(2),i=g.oc().$implicit;g.Db(1),g.vc("vgMedia",a),g.Db(2),g.vc("src",i,g.Oc)}}function D(t,e){if(1&t&&(g.Yb(0,"div",62),g.Uc(1,Y,2,1,"p",63),g.Uc(2,w,4,2,"vg-player",63),g.Uc(3,M,4,2,"vg-player",64),g.Xb()),2&t){var a=g.oc().$implicit;g.Db(1),g.vc("ngIf","text"===a.messageType),g.Db(1),g.vc("ngIf","audio"===a.messageType),g.Db(1),g.vc("ngIf","video"===a.messageType)}}function T(t,e){if(1&t&&(g.Yb(0,"p",72),g.Yb(1,"span",73),g.Wc(2),g.Xb(),g.Xb()),2&t){var a=g.oc().$implicit;g.Db(2),g.Xc(a.time)}}function I(t,e){if(1&t&&(g.Yb(0,"div",62),g.Yb(1,"p"),g.Wc(2),g.Xb(),g.Xb()),2&t){var a=e.$implicit;g.Db(2),g.Xc(a)}}function k(t,e){if(1&t&&(g.Yb(0,"div",74),g.Yb(1,"div",55),g.Yb(2,"a",75),g.Tb(3,"img",76),g.Xb(),g.Xb(),g.Yb(4,"div",58),g.Uc(5,I,3,1,"div",59),g.Xb(),g.Xb()),2&t){var a=g.oc(2);g.Db(5),g.vc("ngForOf",a.messages)}}var x=function(t){return{"chat-left":t}};function O(t,e){if(1&t&&(g.Yb(0,"div",54),g.Yb(1,"div",55),g.Yb(2,"a",56),g.Tb(3,"img",57),g.Xb(),g.Xb(),g.Yb(4,"div",58),g.Uc(5,D,4,3,"div",59),g.Xb(),g.Uc(6,T,3,1,"p",60),g.Uc(7,k,6,1,"div",61),g.Xb()),2&t){var a=e.$implicit,i=g.oc();g.vc("ngClass",g.Ac(5,x,a.isReceived)),g.Db(3),g.vc("src",a.isReceived?i.activeChatUserImg:i.loggedInUserImg,g.Oc),g.Db(2),g.vc("ngForOf",a.messages),g.Db(1),g.vc("ngIf",""!=a.time),g.Db(1),g.vc("ngIf",i.messages.length>0)}}var U=function(t){return{show:t}},S=[{path:"",component:function(){function t(t,e,a,i,n,c){this.elRef=t,this.renderer=e,this.document=a,this.configService=i,this.cdr=n,this.store=c,this.chats=[],this.usersChat=[],this.newMessage="",this.searchQuery="",this.placement="bottom-right",this.isContentOverlay=!1,this.config={},this.messages=new Array,this.item=0}return t.prototype.ngOnInit=function(){var t=this;this.config=this.configService.templateConf,this.subscription=this.store.select("chat").subscribe((function(e){t.usersChat=e.usersChat,t.activeChat=e.usersChat.find((function(t){return t.isActiveChat})),t.chats=t.activeChat?t.activeChat.chats:[],t.activeChatUser=t.activeChat?t.activeChat.name:"",t.activeChatUserImg=t.activeChat?t.activeChat.avatar:"",t.loggedInUserImg="assets/img/portrait/small/avatar-s-1.png"})),this.renderer.addClass(this.document.body,"chat-application")},t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe(),this.layoutSub&&this.layoutSub.unsubscribe(),this.renderer.removeClass(this.document.body,"chat-application")},t.prototype.onSidebarToggle=function(){this.isContentOverlay=!0},t.prototype.onContentOverlay=function(){this.isContentOverlay=!1},t.prototype.onAddMessage=function(){if(""!=this.newMessage){var t=new l.b(this.activeChat.userId,this.activeChat.index,this.activeChat.name,this.activeChat.avatar,this.activeChat.lastChatTime,this.activeChat.status,this.activeChat.isPinnedUser,this.activeChat.isMuted,this.activeChat.unreadMessageCount,this.activeChat.isActiveChat,this.activeChat.lastChatMessage,this.activeChat.chats.concat({isReceived:!1,time:"",messages:[this.newMessage],messageType:"text"}));this.store.dispatch(new h.b({index:t.index,newChat:t}))}this.newMessage=""},t.prototype.viewChat=function(t){var e,a=this;Object(d.__spreadArrays)(this.usersChat).forEach((function(t){t.userId===a.activeChat.userId&&(e=new l.b(t.userId,t.index,t.name,t.avatar,t.lastChatTime,t.status,t.isPinnedUser,t.isMuted,t.unreadMessageCount,!1,t.lastChatMessage,t.chats))}));var i=new l.b(t.userId,t.index,t.name,t.avatar,t.lastChatTime,t.status,t.isPinnedUser,t.isMuted,t.unreadMessageCount,!0,t.lastChatMessage,t.chats);[new h.b({index:e.index,newChat:e}),new h.b({index:i.index,newChat:i})].forEach((function(t){return a.store.dispatch(t)})),this.isContentOverlay=!1},t.\u0275fac=function(e){return new(e||t)(g.Sb(g.l),g.Sb(g.E),g.Sb(i.d),g.Sb(v.a),g.Sb(g.h),g.Sb(c.a))},t.\u0275cmp=g.Mb({type:t,selectors:[["app-ngrx-chat"]],decls:50,vars:15,consts:[[1,"chat-application","overflow-hidden"],[1,"app-content-overlay",3,"ngClass","click"],["contentOverlay",""],[1,"chat-sidebar","d-md-block",3,"perfectScrollbar"],["chatSidebar",""],[1,"sidebar-close-icon","d-md-none",3,"click"],[1,"ft-x"],[1,"chat-sidebar-content"],[1,"chat-fixed-search","py-2","px-3","my-1"],["action","javascript:;"],[1,"position-relative","has-icon-left"],["placeholder","Search users","id","timesheetinput1","name","employeename","type","text",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control-position"],[1,"ft-user"],[1,"m-0"],["id","users-list",1,"list-group"],[1,"users-list-padding","position-relative"],["class","list-group-item ",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"chat-name","p-2"],[1,"media","p-1","align-items-center"],[1,"chat-app-sidebar-toggle","ft-menu","font-medium-4","mr-3","d-block","d-md-none",3,"click"],[1,"media-body"],["width","37","alt","avatar",1,"avatar","mr-1",3,"src"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic",1,"d-inline-block",3,"placement"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;",1,"dropdown-item"],[1,"chat-app-window","position-relative",3,"perfectScrollbar","scrollTop"],["scrollMe",""],[1,"chats"],["class","chat",3,"ngClass",4,"ngFor","ngForOf"],[1,"chat-app-form","px-3","py-2"],[1,"d-flex","align-items-center"],["type","text","name","iconLeft4","id","iconLeft4","placeholder","Type your message here",1,"form-control","chat-message-send","mr-2",3,"ngModel","keydown.enter","ngModelChange"],["it","ngModel"],["type","button",1,"btn","btn-primary","d-lg-flex","align-items-center",3,"click"],[1,"ft-send"],[1,"d-none","d-lg-block","ml-1"],[1,"list-group-item",3,"ngClass","click"],[1,"media","py-1",3,"ngClass"],[1,"avatar","avatar-md","mr-2"],["alt","Avatar",3,"src"],[1,"list-group-item-heading","mb-1"],[1,"font-small-2","float-right","chat-time"],[1,"list-group-item-text","chat-user-list-text","m-0"],[1,"ft-check","primary","font-small-2","mr-1"],[1,"float-right","primary"],["class","font-medium-1 icon-pin",4,"ngIf"],["class","font-medium-1 icon-volume-off mr-1",4,"ngIf"],["class","badge badge-pill bg-light-primary badge-round",4,"ngIf"],[1,"font-medium-1","icon-pin"],[1,"font-medium-1","icon-volume-off","mr-1"],[1,"badge","badge-pill","bg-light-primary","badge-round"],[1,"chat",3,"ngClass"],[1,"chat-avatar"],["data-toggle","tooltip","data-placement","[activeChatUserImg]","title","","data-original-title","",1,"avatar","avatar-md"],["alt","avatar",3,"src"],[1,"chat-body"],["class","chat-content",4,"ngFor","ngForOf"],["class","time",4,"ngIf"],["class","chat",4,"ngIf"],[1,"chat-content"],[4,"ngIf"],["style","height: 250px; width: 250px",4,"ngIf"],["id","singleAudio","preload","auto","controls","",3,"vgMedia"],["media1",""],["type","audio/mp3",3,"src"],[2,"height","250px","width","250px"],["id","singleVideo","preload","auto","controls","",3,"vgMedia"],["media",""],["type","video/mp4",3,"src"],[1,"time"],[1,"badge","badge-secondary","mb-1"],[1,"chat"],["data-toggle","tooltip","data-placement","right","title","","data-original-title","",1,"avatar"],["src","assets/img/portrait/small/avatar-s-1.png","alt","avatar"]],template:function(t,e){if(1&t&&(g.Yb(0,"div",0),g.Yb(1,"div",1,2),g.kc("click",(function(){return e.onContentOverlay()})),g.Xb(),g.Yb(3,"div",3,4),g.Yb(5,"span",5),g.kc("click",(function(){return e.isContentOverlay=!1})),g.Tb(6,"i",6),g.Xb(),g.Yb(7,"div",7),g.Yb(8,"div",8),g.Yb(9,"form",9),g.Yb(10,"div",10),g.Yb(11,"input",11),g.kc("ngModelChange",(function(t){return e.searchQuery=t})),g.Xb(),g.Yb(12,"div",12),g.Tb(13,"i",13),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Tb(14,"hr",14),g.Yb(15,"div",15),g.Yb(16,"div",16),g.Uc(17,y,19,16,"a",17),g.pc(18,"search"),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Yb(19,"div",18),g.Yb(20,"div",19),g.Yb(21,"span",20),g.kc("click",(function(){return e.onSidebarToggle()})),g.Xb(),g.Yb(22,"div",21),g.Tb(23,"img",22),g.Yb(24,"span"),g.Wc(25),g.Xb(),g.Xb(),g.Yb(26,"div",23),g.Yb(27,"div",24),g.Tb(28,"i",25),g.Yb(29,"div",26),g.Yb(30,"a",27),g.Wc(31,"View Profile"),g.Xb(),g.Yb(32,"a",27),g.Wc(33,"Mute Notification"),g.Xb(),g.Yb(34,"a",27),g.Wc(35,"Clear Chat"),g.Xb(),g.Yb(36,"a",27),g.Wc(37,"Add Shortcut"),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Yb(38,"section",28,29),g.Yb(40,"div",30),g.Uc(41,O,8,7,"div",31),g.Xb(),g.Xb(),g.Yb(42,"section",32),g.Yb(43,"div",33),g.Yb(44,"input",34,35),g.kc("keydown.enter",(function(t){return e.onAddMessage(),t.preventDefault()}))("ngModelChange",(function(t){return e.newMessage=t})),g.Xb(),g.Yb(46,"button",36),g.kc("click",(function(){return e.onAddMessage()})),g.Tb(47,"i",37),g.Yb(48,"span",38),g.Wc(49,"Send"),g.Xb(),g.Xb(),g.Xb(),g.Xb(),g.Xb()),2&t){var a=g.Jc(39);g.Db(1),g.vc("ngClass",g.Ac(13,U,e.isContentOverlay)),g.Db(10),g.vc("ngModel",e.searchQuery),g.Db(6),g.vc("ngForOf",g.sc(18,9,e.usersChat,"name",e.searchQuery)),g.Db(6),g.vc("src",e.activeChatUserImg,g.Oc),g.Db(2),g.Xc(e.activeChatUser),g.Db(2),g.vc("placement",e.placement),g.Db(11),g.vc("scrollTop",a.scrollHeight),g.Db(3),g.vc("ngForOf",e.chats),g.Db(3),g.vc("ngModel",e.newMessage)}},directives:[i.n,r.b,n.C,n.r,n.s,n.c,n.q,n.t,i.o,o.l,o.o,o.n,i.p,s.r,s.q],pipes:[p.a],styles:[""],changeDetection:0}),t}(),data:{title:"Chat"}}],A=function(){function t(){}return t.\u0275mod=g.Qb({type:t}),t.\u0275inj=g.Pb({factory:function(e){return new(e||t)},imports:[[b.f.forChild(S)],b.f]}),t}(),W=a("anuX"),F=a("hUIq"),$=function(){function t(){}return t.\u0275mod=g.Qb({type:t}),t.\u0275inj=g.Pb({factory:function(e){return new(e||t)},imports:[[i.c,n.k,A,o.t,s.c,s.b,s.d,s.a,r.c,W.a,c.b.forFeature("chat",F.a)]]}),t}()}}]);