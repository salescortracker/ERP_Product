(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"M97/":function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("Tf8q"),r=i("TYT/"),o=i("cUzu"),a=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.GetBlankSuppliers=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/blankPurchases/GetBlankSuppliersOnly",t,this.adm.makeConfig())},t.prototype.GetPurchaseAdvanceRequirement=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purSetup/GetTotalAdvanceRequirements",t,this.adm.makeConfig())},t.prototype.SetPurchaseAdvance=function(t,e){var i={adva:t,tracheck:e,usr:this.adm.getUserCompleteInformation().usr};return console.log(i),this.http.post(this.adm.getActualURL()+"api/partyadvances/setAdvance",i,this.adm.makeConfig())},t.prototype.GetInvPurchaseOrderRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrderRequirements",t,this.adm.makeConfig())},t.prototype.GetCRMSaleOrderRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrderRequirements2",t,this.adm.makeConfig())},t.prototype.GetInvSaleOrderRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrderRequirements2",t,this.adm.makeConfig())},t.prototype.GetPurchaseOrdersForAdvances=function(t,e,i){var n={recordId:t?1:0,frmDate:e,toDate:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purSetup/GetPendingOrders",n,this.adm.makeConfig())},t.prototype.GetSaleOrdersForAdvances=function(t,e,i){var n={recordId:t?1:0,frmDate:e,toDate:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purSetup/GetPendingSaleOrders",n,this.adm.makeConfig())},t.prototype.getAdvanceRequirements=function(){return this.http.post(this.adm.getActualURL()+"api/purSetup/GetTotalAdvanceRequirements",this.adm.getUserCompleteInformation().usr,this.adm.makeConfig())},t.prototype.GetInvPurchaseOrders=function(t,e,i){var n={frmDate:t,toDate:e,detail:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrders",n,this.adm.makeConfig())},t.prototype.GetInvPurchaseOrder=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrder",e,this.adm.makeConfig())},t.prototype.invPurchaseOrderSave=function(t,e,i,n,r){this.userdetails=this.adm.getUserCompleteInformation();var o={header:t,lines:e,terms:i,taxes:n,traCheck:r,usr:this.userdetails.usr};return console.log(o,"PO Total"),this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/SetPurchaseOrder",o,this.adm.makeConfig())},t.prototype.invPurchaseOrderConfirmationSave=function(t){},t.prototype.GetBlankPurchaseOrderRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrderBlanks/GetPurchaseOrderBlanksRequirements",t,this.adm.makeConfig())},t.prototype.getBlankPurchaseOrders=function(t,e){this.adm.getUserCompleteInformation();var i={frmDate:t,toDate:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrderBlanks/GetPurchaseBlanksOrders",i,this.adm.makeConfig())},t.prototype.GetBlankPurchaseOrder=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrderBlanks/GetPurchaseBlanksOrder",e,this.adm.makeConfig())},t.prototype.setBlankPurchaseOrder=function(t,e,i,n,r){this.userdetails=this.adm.getUserCompleteInformation();var o={header:t,lines:e,terms:i,taxes:n,traCheck:r,usr:this.userdetails.usr};return console.log(o),this.http.post(this.adm.getActualURL()+"api/purPurchaseOrderBlanks/SetPurchaseBlankOrder",o,this.adm.makeConfig())},t.prototype.printBlankOrder=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={recordId:t,usr:this.userdetails.usr};return console.log(e),this.http.post(this.adm.getActualURL()+"api/purPurchaseOrderBlanks/printBlankOrder",e,this.adm.makeConfig())},t.prototype.printPurchaseOrder=function(t){this.userdetails=this.adm.getUserCompleteInformation();var e={recordId:t,usr:this.userdetails.usr};return console.log(e),this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/printPurchaseOrder",e,this.adm.makeConfig())},t.prototype.getPurchaseOrdersForApproval=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/GetPurchaseOrdersForApprovals",t,this.adm.makeConfig())},t.prototype.setPurchaseOrderForApproval=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchaseOrders/SetPurchaseOrderForApprovals",e,this.adm.makeConfig())},t.prototype.l\u0325setPurchaseOrder=function(){},t.\u0275fac=function(e){return new(e||t)(r.gc(n.a),r.gc(o.a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},VHOQ:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("Tf8q"),r=i("TYT/"),o=i("cUzu"),a=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getPurchasesRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/purPurchases/GetPurchaseRequirements",t,this.adm.makeConfig())},t.prototype.getPurchases=function(t){var e={frmDate:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchases/GetPurchases",e,this.adm.makeConfig())},t.prototype.getPurchase=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/purPurchases/GetPurchase",e,this.adm.makeConfig())},t.prototype.setPurchase=function(t,e,i,n){var r={header:t,lines:e,taxes:i,traCheck:n,usr:this.adm.getUserCompleteInformation().usr};return console.log("tot",r),this.http.post(this.adm.getActualURL()+"api/purPurchases/SetPurchase",r,this.adm.makeConfig())},t.prototype.getPurchaseReturnRequirements=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/PurPurchaseReturn/GetPurchaseReturnRequirements",t,this.adm.makeConfig())},t.prototype.getPurchaseReturnPurchasesList=function(t,e){var i={frmDate:t,toDate:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/PurPurchaseReturn/GetPurchases",i,this.adm.makeConfig())},t.prototype.getPurchaseReturnPurchaseInfo=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/PurPurchaseReturn/GetPurchase",e,this.adm.makeConfig())},t.prototype.setPurchaseReturn=function(t,e,i,n){var r={header:t,lines:e,taxes:i,traCheck:n,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/PurPurchaseReturn/SetPurchaseReturn",r,this.adm.makeConfig())},t.prototype.deletePurchaseReturn=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/PurPurchaseReturn/DeletePurchaseReturn",e,this.adm.makeConfig())},t.prototype.getPurchaseReturns=function(t){var e={frmDate:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/PurPurchaseReturn/GetPurchaseReturns",e,this.adm.makeConfig())},t.prototype.setPurchaseCreditNote=function(t){var e={note:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/PurCreditNotes/SetCreditNote",e,this.adm.makeConfig())},t.prototype.getPurchaseCreditNotes=function(t){var e={frmDate:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/PurCreditNotes/GetCreditNotes",e,this.adm.makeConfig())},t.prototype.deletePurchaseCreditNote=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/PurCreditNotes/DeleteCreditNote",e,this.adm.makeConfig())},t.prototype.getPayments=function(t){var e={frmDate:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/PartyPayments/GetPayments",e,this.adm.makeConfig())},t.prototype.setPayment=function(t,e){var i={header:t,lines:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/PartyPayments/SetPartyPayment",i,this.adm.makeConfig())},t.prototype.deletePayment=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/PartyPayments/DeletePartyPayment",e,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(r.gc(n.a),r.gc(o.a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},Y7It:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var n=i("Tf8q"),r=i("TYT/"),o=i("cUzu"),a=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getInventoryGroups=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invgroups/GetInvItemGroups",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getInvGroupsTreeWise=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invgroups/GetInvGroupsTreeView",this.userdetails.usr,this.adm.makeConfig())},t.prototype.setInventoryGroup=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={grp:t,traCheck:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/invgroups/setInventoryGroup",i,this.adm.makeConfig())},t.prototype.getInventoryItems=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invmaterial/GetInvMaterials",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getInventoryProductsOnly=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invmaterial/GetInvProductsOnly",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getInventoryItemsShiksha=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invmaterial/GetInvMaterialsShiksha",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getInventoryItem=function(t){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.get(this.adm.getActualURL()+"api/invmaterial/GetInvMaterial?recordId="+t+"&cCode="+this.userdetails.usr.cCode,this.adm.makeConfig())},t.prototype.setInventoryItem=function(t,e,i){this.userdetails=this.adm.getUserCompleteInformation();var n={mat:t,matum:e,tracheck:i,usr:this.userdetails.usr};return console.log(n,"mat"),this.http.post(this.adm.getActualURL()+"api/invmaterial/setInvMaterial",n,this.adm.makeConfig())},t.prototype.getInvOpeningStocks=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invOpening/getInvOpeningStocks",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getInvOpeningStocksShiksha=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invOpening/getInvOpeningStocksShiksha",this.userdetails.usr,this.adm.makeConfig())},t.prototype.setInvOpeningStock=function(t){var e={stock:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invOpening/setInvOpeningStocks",e,this.adm.makeConfig())},t.prototype.delInvOpeningStocks=function(t){var e={detail:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invOpening/DeleteOpeningStock",e,this.adm.makeConfig())},t.prototype.getInvLosses=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invlosses/getInvLosses",this.userdetails.usr,this.adm.makeConfig())},t.prototype.setInvLosses=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={loss:t,traCheck:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/invlosses/setInvLoss",i,this.adm.makeConfig())},t.prototype.getInvDepartments=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invDepartments/GetInvDepartments",this.userdetails.usr,this.adm.makeConfig())},t.prototype.setInvDepartment=function(t,e){this.userdetails=this.adm.getUserCompleteInformation();var i={dept:t,tracheck:e,usr:this.userdetails.usr};return this.http.post(this.adm.getActualURL()+"api/invDepartments/SetInvDepartment",i,this.adm.makeConfig())},t.prototype.invSetupDetails=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/invSetup/invCostingInfo",t,this.adm.makeConfig())},t.prototype.getInvShikshaSets=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/invSets/GetInvSets",t,this.adm.makeConfig())},t.prototype.getInvShikshaSet=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invSets/GetInvSet",e,this.adm.makeConfig())},t.prototype.setInvShikshaSet=function(t,e,i){var n={header:t,lines:e,traCheck:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invSets/setInvSet",n,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(r.gc(n.a),r.gc(o.a))},t.\u0275prov=r.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},cLqD:function(t,e,i){"use strict";i.r(e),i.d(e,"InventoryModule",(function(){return Ln}));var n=i("Valr"),r=i("DUip"),o=i("YsEW"),a=i("Tf8q"),s=i("Y7It"),c=i("TYT/"),b=i("XrkE"),l=i("QJY3"),d=i("1PnN");function h(t,e){if(1&t&&(c.Yb(0,"option",21),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordId),c.Db(1),c.Xc(i.storeCode)}}function u(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Wc(10),c.Xb(),c.Yb(11,"td"),c.Yb(12,"i",22),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc().deleteStock(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit;c.Db(2),c.Xc(n.itemname),c.Db(2),c.Xc(n.batchNo),c.Db(2),c.Xc(n.qty),c.Db(2),c.Xc(n.stdUm),c.Db(2),c.Xc(n.rat)}}var p=new Date,m=function(){function t(t,e,i,n){this.inv=t,this.router=e,this.spinner=i,this.gen=n,this.stores=[],this.storeid=-1,this.storename="",this.batchno="",this.manudat={year:p.getFullYear(),month:p.getMonth()+1,day:p.getDate()},this.expdate={year:p.getFullYear(),month:p.getMonth()+1,day:p.getDate()},this.qty=null,this.rat=null,this.dat=new Date,this.addcheck=!1,this.costingtyp=-1,this.items={},this.material={grp:"",itemcode:"",itemname:"",recordId:-1,reorderqty:0,shelflife:0,statu:"",stdrat:0,stdum:"",stdumId:0},this.opestocks=[],this.totalopestocks=[],this.gen.screenCheck(2,1,5,0)?this.getDetails():this.router.navigateByUrl("inventory/invunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.getDetails=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvOpeningStocks().subscribe((function(e){var i=e;t.stores=i.stores,t.totalopestocks=i.ostocks,t.stores.length>0&&(t.storeid=t.stores[0].recordId,t.listAdd()),t.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInventoryItems().subscribe((function(e){t.items=e,t.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0})},t.prototype.listAdd=function(){var t=this;this.opestocks=this.totalopestocks.filter((function(e){return e.storeCode==t.storeid})),console.log(this.opestocks)},t.prototype.valChk=function(){return!1},t.prototype.addStock=function(){var t=this;if(this.storeid<0)this.gen.showMessage("Store not selected","Warning",3);else if(""!=this.material.itemname)if(4!=this.material.costingType||""!=this.batchno.trim())if(this.qty<=0)this.gen.showMessage("Qty not mentioned","Warning",3);else{var e={TransactionId:0,Sno:1,Gin:"",ItemName:this.material.recordId,Dat:null,BatchNo:this.batchno,Manudate:this.gen.makePresentDate(this.manudat),Expdate:1==this.material.shelflife?this.gen.makePresentDate(this.expdate):null,Store:this.storeid,Qtyin:this.qty,Qtyout:0,Stdum:this.material.stdumId,Rat:this.rat,Department:null,ProductBatchNo:null,TransactionType:0};this.inv.setInvOpeningStock(e).subscribe((function(e){var i=e;"OK"==i.result?(t.gen.showMessage("Stock added successfully","Success",1),t.totalopestocks.push({batchNo:t.batchno,expdate:1==t.material.shelflife?t.gen.strDate(t.expdate):null,gin:i.stock.Gin,itemname:t.material.itemname,manudate:t.gen.strDate(t.manudat),qty:t.qty,rat:t.rat,stdUm:t.material.stdum,storeCode:t.storeid}),t.listAdd(),t.material={grp:"",itemcode:"",itemname:"",recordId:-1,reorderqty:0,shelflife:0,statu:"",stdrat:0,stdum:"",stdumId:0},t.batchno="",t.qty=null,t.rat=null):t.gen.showMessage(i.result,"Error",4)}))}else this.gen.showMessage("Batch not mentioned","Warning",3);else this.gen.showMessage("Material not selected","Warning",3)},t.prototype.deleteStock=function(t){var e=this;this.inv.delInvOpeningStocks(t.gin).subscribe((function(i){var n=i;if("OK"==n.detail){e.gen.showMessage("Detail deleted successfully","Success",1);var r=e.totalopestocks.indexOf(t);r>=0&&(e.totalopestocks.splice(r,1),e.listAdd())}else e.gen.showMessage(n.detail,"Error",4)}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(s.a),c.Sb(r.c),c.Sb(b.c),c.Sb(a.a))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-audit-consumables"]],decls:75,vars:15,consts:[[2,"width","100%"],[2,"width","14%"],[2,"width","27%"],[2,"width","10%"],[2,"width","13%"],[1,"form-control",2,"width","100%",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["bindLabel","itemname",3,"items","ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value"," "],[2,"width","8%"],["type","number",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["type","text","disabled","",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[2,"width","5%"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",2,"width","100%",3,"disabled","click"],["align","right",2,"width","14%"],["colspan","7"],["colspan","9"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[4,"ngFor","ngForOf"],[3,"value"],[1,"ft-trash","font-medium-1",3,"click"]],template:function(t,e){1&t&&(c.Yb(0,"h3"),c.Wc(1),c.pc(2,"date"),c.Xb(),c.Yb(3,"table",0),c.Yb(4,"tr"),c.Yb(5,"td",1),c.Wc(6,"Store"),c.Xb(),c.Yb(7,"td",2),c.Wc(8,"Material"),c.Xb(),c.Yb(9,"td",3),c.Wc(10,"Batch No"),c.Xb(),c.Yb(11,"td",4),c.Wc(12,"Qty"),c.Xb(),c.Yb(13,"td",4),c.Wc(14,"UOM"),c.Xb(),c.Yb(15,"td",4),c.Wc(16,"Rate"),c.Xb(),c.Yb(17,"td",3),c.Wc(18,"\xa0"),c.Xb(),c.Xb(),c.Yb(19,"tr"),c.Yb(20,"td",1),c.Yb(21,"select",5),c.kc("ngModelChange",(function(t){return e.storeid=t}))("change",(function(){return e.listAdd()})),c.Uc(22,h,2,2,"option",6),c.Xb(),c.Xb(),c.Yb(23,"td",2),c.Yb(24,"ng-select",7),c.kc("ngModelChange",(function(t){return e.material=t})),c.Xb(),c.Xb(),c.Yb(25,"td",3),c.Yb(26,"select",8),c.kc("ngModelChange",(function(t){return e.batchno=t})),c.Yb(27,"option",9),c.Wc(28,"--Select--"),c.Xb(),c.Xb(),c.Xb(),c.Yb(29,"td",10),c.Yb(30,"input",11),c.kc("ngModelChange",(function(t){return e.qty=t})),c.Xb(),c.Xb(),c.Yb(31,"td",10),c.Yb(32,"input",12),c.kc("ngModelChange",(function(t){return e.material.stdum=t})),c.Xb(),c.Xb(),c.Yb(33,"td",10),c.Yb(34,"input",11),c.kc("ngModelChange",(function(t){return e.rat=t})),c.Xb(),c.Xb(),c.Yb(35,"td",13),c.Yb(36,"button",14),c.kc("click",(function(){return e.addStock()})),c.Wc(37,"Add"),c.Xb(),c.Xb(),c.Xb(),c.Yb(38,"tr"),c.Yb(39,"td",15),c.Wc(40,"Group"),c.Xb(),c.Yb(41,"td",2),c.Yb(42,"input",12),c.kc("ngModelChange",(function(t){return e.material.grp=t})),c.Xb(),c.Xb(),c.Yb(43,"td",3),c.Wc(44,"\xa0"),c.Xb(),c.Yb(45,"td",4),c.Wc(46,"\xa0"),c.Xb(),c.Yb(47,"td",4),c.Wc(48,"\xa0"),c.Xb(),c.Yb(49,"td",4),c.Wc(50,"\xa0"),c.Xb(),c.Yb(51,"td",3),c.Wc(52,"\xa0"),c.Xb(),c.Xb(),c.Yb(53,"tr"),c.Yb(54,"td",16),c.Wc(55,"\xa0"),c.Xb(),c.Xb(),c.Yb(56,"tr"),c.Yb(57,"td",17),c.Yb(58,"table",18),c.Yb(59,"thead",19),c.Yb(60,"tr"),c.Yb(61,"th"),c.Wc(62,"Material"),c.Xb(),c.Yb(63,"th"),c.Wc(64,"Batch"),c.Xb(),c.Yb(65,"th"),c.Wc(66,"Qty"),c.Xb(),c.Yb(67,"th"),c.Wc(68,"UM"),c.Xb(),c.Yb(69,"th"),c.Wc(70,"Rate"),c.Xb(),c.Yb(71,"th"),c.Wc(72,"\xa0"),c.Xb(),c.Xb(),c.Xb(),c.Uc(73,u,13,5,"tr",20),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Tb(74,"ngx-spinner")),2&t&&(c.Db(1),c.Yc("Stock audit as on ",c.rc(2,12,e.dat,"dd-MMM-yyyy"),""),c.Db(20),c.vc("ngModel",e.storeid),c.Db(1),c.vc("ngForOf",e.stores),c.Db(2),c.vc("items",e.items)("ngModel",e.material),c.Db(2),c.vc("ngModel",e.batchno),c.Db(4),c.vc("ngModel",e.qty),c.Db(2),c.vc("ngModel",e.material.stdum),c.Db(2),c.vc("ngModel",e.rat),c.Db(2),c.vc("disabled",e.addcheck),c.Db(6),c.vc("ngModel",e.material.grp),c.Db(31),c.vc("ngForOf",e.opestocks))},directives:[l.z,l.q,l.t,n.o,d.a,l.u,l.B,l.v,l.c,b.a],pipes:[n.e],styles:[""]}),t}(),f=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-autdi-materials"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-autdi-materials works!"),c.Xb())},styles:[""]}),t}(),g=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-branch-from-branch-stocks"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-branch-from-branch-stocks works!"),c.Xb())},styles:[""]}),t}(),v=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-branch-from-branches-blanks"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-branch-from-branches-blanks works!"),c.Xb())},styles:[""]}),t}(),X=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-branch-from-branches-consumables"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-branch-from-branches-consumables works!"),c.Xb())},styles:[""]}),t}(),Y=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-branch-to-branch-blanks"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-branch-to-branch-blanks works!"),c.Xb())},styles:[""]}),t}(),y=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-branch-to-branch-consumables"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-branch-to-branch-consumables works!"),c.Xb())},styles:[""]}),t}(),k=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-branch-to-branch-stocks"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-branch-to-branch-stocks works!"),c.Xb())},styles:[""]}),t}(),I=i("cUzu"),C=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getInvLossesTraRequirements=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invLossesTra/GetInvLossesTraRequirements",e,this.adm.makeConfig())},t.prototype.getInvTransactions=function(t,e){var i={frmDate:t,detail:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invLossesTra/GetInvTransactions",i,this.adm.makeConfig())},t.prototype.getInvTransaction=function(t){var e={recordId:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invLossesTra/GetInvTransaction",e,this.adm.makeConfig())},t.prototype.setInvTransaction=function(t,e,i){var n={header:t,lines:e,mgts:i,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invLossesTra/SetInvTransaction",n,this.adm.makeConfig())},t.prototype.deleteInvTransaction=function(t,e){var i={recordId:t,detail:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/invLossesTra/DeleteInvTransaction",i,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(c.gc(a.a),c.gc(I.a))},t.\u0275prov=c.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),D=i("PdH4"),M=i.n(D);function W(t,e){if(1&t&&(c.Yb(0,"option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordId),c.Db(1),c.Xc(i.storeCode)}}function w(t,e){if(1&t&&(c.Yb(0,"option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordid),c.Db(1),c.Xc(i.name)}}function S(t,e){if(1&t&&(c.Yb(0,"ng-option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.vc("value",i.recordId),c.Db(1),c.Xc(i.itemname)}}function O(t,e){if(1&t&&(c.Yb(0,"option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.gin),c.Db(1),c.Xc(i.batchno)}}function x(t,e){if(1&t){var i=c.Zb();c.Yb(0,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc(2).material.grpname=t})),c.Xb()}if(2&t){var n=c.oc(2);c.vc("ngModel",n.material.grpname)}}function U(t,e){1&t&&c.Tb(0,"input",29)}function T(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"th",30),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Wc(10),c.Xb(),c.Yb(11,"td"),c.Wc(12),c.Xb(),c.Yb(13,"td"),c.Yb(14,"i",31),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(2).deleteLine(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit,r=e.index;c.Db(2),c.Xc(r+1),c.Db(2),c.Xc(n.traname),c.Db(2),c.Xc(n.materialname),c.Db(2),c.Xc(n.batchno),c.Db(2),c.Xc(n.qty),c.Db(2),c.Xc(n.um)}}function A(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"h3"),c.Wc(2),c.Xb(),c.Yb(3,"table",1),c.Yb(4,"tr"),c.Yb(5,"td",2),c.Wc(6,"Store"),c.Xb(),c.Yb(7,"td",3),c.Wc(8,"\xa0"),c.Xb(),c.Yb(9,"td",3),c.Wc(10,"Date"),c.Xb(),c.Xb(),c.Yb(11,"tr"),c.Yb(12,"td",2),c.Yb(13,"select",4),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().storeid=t}))("change",(function(){return c.Mc(i),c.oc().makeStoreWiseInfo()})),c.Uc(14,W,2,2,"option",5),c.Xb(),c.Xb(),c.Yb(15,"td",3),c.Wc(16,"\xa0"),c.Xb(),c.Yb(17,"td",3),c.Tb(18,"input",6),c.pc(19,"date"),c.Xb(),c.Xb(),c.Yb(20,"tr"),c.Yb(21,"td",7),c.Wc(22),c.Xb(),c.Yb(23,"td",8),c.Wc(24,"Material"),c.Xb(),c.Yb(25,"td",9),c.Wc(26,"Batch"),c.Xb(),c.Yb(27,"td",10),c.Wc(28,"Total Available"),c.Xb(),c.Yb(29,"td",11),c.Wc(30,"Qty"),c.Xb(),c.Yb(31,"td",12),c.Wc(32,"UM"),c.Xb(),c.Yb(33,"td",13),c.Wc(34,"\xa0"),c.Xb(),c.Xb(),c.Yb(35,"tr"),c.Yb(36,"td",7),c.Yb(37,"select",14),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().traid=t}))("change",(function(){return c.Mc(i),c.oc().findtraDescr()})),c.Yb(38,"option",15),c.Wc(39,"--Select--"),c.Xb(),c.Uc(40,w,2,2,"option",5),c.Xb(),c.Xb(),c.Yb(41,"td",8),c.Yb(42,"ng-select",16),c.kc("change",(function(t){return c.Mc(i),c.oc().makeUnits(t)})),c.Uc(43,S,2,2,"ng-option",5),c.Xb(),c.Xb(),c.Yb(44,"td",9),c.Yb(45,"select",14),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().gin=t}))("change",(function(){return c.Mc(i),c.oc().findBatchQty()})),c.Uc(46,O,2,2,"option",5),c.Xb(),c.Xb(),c.Yb(47,"td",10),c.Yb(48,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().totalavailable=t})),c.Xb(),c.Xb(),c.Yb(49,"td",11),c.Yb(50,"input",18),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().qty=t})),c.Xb(),c.Xb(),c.Yb(51,"td",12),c.Yb(52,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().um=t})),c.Xb(),c.Xb(),c.Yb(53,"td",13),c.Yb(54,"button",19),c.kc("click",(function(){return c.Mc(i),c.oc().addLine()})),c.Wc(55,"Add"),c.Xb(),c.Xb(),c.Xb(),c.Yb(56,"tr"),c.Yb(57,"td",7),c.Wc(58,"\xa0"),c.Xb(),c.Yb(59,"td",8),c.Wc(60,"Group"),c.Xb(),c.Yb(61,"td",9),c.Wc(62,"Batch Available"),c.Xb(),c.Yb(63,"td",10),c.Wc(64,"\xa0"),c.Xb(),c.Yb(65,"td",11),c.Wc(66,"\xa0"),c.Xb(),c.Yb(67,"td",12),c.Wc(68,"\xa0"),c.Xb(),c.Yb(69,"td",13),c.Wc(70,"\xa0"),c.Xb(),c.Xb(),c.Yb(71,"tr"),c.Yb(72,"td",7),c.Yb(73,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().tradescription=t})),c.Xb(),c.Xb(),c.Yb(74,"td",8),c.Uc(75,x,1,1,"input",20),c.Uc(76,U,1,0,"input",21),c.Xb(),c.Yb(77,"td",9),c.Yb(78,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().batchavailable=t})),c.Xb(),c.Xb(),c.Yb(79,"td",10),c.Wc(80,"\xa0"),c.Xb(),c.Yb(81,"td",11),c.Wc(82,"\xa0"),c.Xb(),c.Yb(83,"td",12),c.Wc(84,"\xa0"),c.Xb(),c.Yb(85,"td",13),c.Wc(86,"\xa0"),c.Xb(),c.Xb(),c.Xb(),c.Yb(87,"div",22),c.Yb(88,"table",23),c.Yb(89,"thead",24),c.Yb(90,"tr"),c.Yb(91,"th"),c.Wc(92,"#"),c.Xb(),c.Yb(93,"th"),c.Wc(94),c.Xb(),c.Yb(95,"th"),c.Wc(96,"Material"),c.Xb(),c.Yb(97,"th"),c.Wc(98,"Batch/Gin"),c.Xb(),c.Yb(99,"th"),c.Wc(100,"Qty"),c.Xb(),c.Yb(101,"th"),c.Wc(102,"UOM"),c.Xb(),c.Tb(103,"th"),c.Xb(),c.Xb(),c.Yb(104,"tbody"),c.Uc(105,T,15,6,"tr",25),c.Xb(),c.Xb(),c.Xb(),c.Yb(106,"table",1),c.Yb(107,"tr"),c.Yb(108,"td",1),c.Yb(109,"button",26),c.kc("click",(function(){return c.Mc(i),c.oc().save()})),c.Wc(110,"Save"),c.Xb(),c.Yb(111,"button",27),c.kc("click",(function(){return c.Mc(i),c.oc().close()})),c.Wc(112,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(2),c.Yc("",n.title," Details"),c.Db(11),c.vc("disabled",n.lineItems.length>0)("ngModel",n.storeid),c.Db(1),c.vc("ngForOf",n.stores),c.Db(4),c.wc("value",c.rc(19,20,n.tradat,"dd-MMM-yy")),c.Db(4),c.Xc(n.title),c.Db(15),c.vc("ngModel",n.traid),c.Db(3),c.vc("ngForOf",n.tradets),c.Db(3),c.vc("ngForOf",n.materials),c.Db(2),c.vc("ngModel",n.gin),c.Db(1),c.vc("ngForOf",n.batches),c.Db(2),c.vc("ngModel",n.totalavailable),c.Db(2),c.vc("ngModel",n.qty),c.Db(2),c.vc("ngModel",n.um),c.Db(21),c.vc("ngModel",n.tradescription),c.Db(2),c.vc("ngIf",n.material),c.Db(1),c.vc("ngIf",!n.material),c.Db(2),c.vc("ngModel",n.batchavailable),c.Db(16),c.Xc(n.title),c.Db(11),c.vc("ngForOf",n.lineItems)}}function R(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"th",30),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Yb(6,"i",37),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(2).openOld(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit,r=e.index;c.Db(2),c.Xc(r+1),c.Db(2),c.Xc(n.descriptio)}}function q(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"h3"),c.Wc(2),c.Xb(),c.Yb(3,"table",1),c.Yb(4,"tr"),c.Yb(5,"td",32),c.Wc(6,"Date"),c.Xb(),c.Yb(7,"td",9),c.Yb(8,"input",33),c.kc("input",(function(t){c.Mc(i);var e=c.oc();return e.listdate=e.parseDate(t.target.value)})),c.pc(9,"date"),c.Xb(),c.Xb(),c.Yb(10,"td",10),c.Yb(11,"button",34),c.kc("click",(function(){return c.Mc(i),c.oc().listAdd()})),c.Wc(12,"Show"),c.Xb(),c.Xb(),c.Yb(13,"td",35),c.Yb(14,"button",36),c.kc("click",(function(){return c.Mc(i),c.oc().openNew()})),c.Wc(15,"New"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(16,"table",23),c.Yb(17,"thead",24),c.Yb(18,"tr"),c.Yb(19,"th"),c.Wc(20,"#"),c.Xb(),c.Yb(21,"th"),c.Wc(22,"Description"),c.Xb(),c.Yb(23,"th"),c.Wc(24,"Open"),c.Xb(),c.Xb(),c.Xb(),c.Yb(25,"tbody"),c.Uc(26,R,7,2,"tr",25),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(2),c.Yc("List of ",n.title," Details"),c.Db(6),c.vc("value",c.rc(9,3,n.listdate,"yyyy-MM-dd")),c.Db(18),c.vc("ngForOf",n.transactions)}}function P(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",30),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index;c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.itemname),c.Db(2),c.Xc(i.qtyout),c.Db(2),c.Xc(i.um)}}function L(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"table",1),c.Yb(2,"tr"),c.Yb(3,"td",38),c.Tb(4,"input",39),c.pc(5,"date"),c.Xb(),c.Yb(6,"td",40),c.Wc(7,"\xa0"),c.Xb(),c.Xb(),c.Yb(8,"tr"),c.Yb(9,"td",41),c.Yb(10,"table",23),c.Yb(11,"thead",24),c.Yb(12,"tr"),c.Yb(13,"th"),c.Wc(14,"#"),c.Xb(),c.Yb(15,"th"),c.Wc(16,"Item"),c.Xb(),c.Yb(17,"th"),c.Wc(18,"Qty"),c.Xb(),c.Yb(19,"th"),c.Wc(20,"UOM"),c.Xb(),c.Xb(),c.Xb(),c.Yb(21,"tbody"),c.Uc(22,P,9,4,"tr",25),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(23,"button",42),c.kc("click",(function(){return c.Mc(i),c.oc().delete()})),c.Wc(24,"Delete"),c.Xb(),c.Yb(25,"button",27),c.kc("click",(function(){return c.Mc(i),c.oc().close()})),c.Wc(26,"Close"),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(4),c.wc("value",c.rc(5,2,n.oldDetails.header.dat,"dd-MMM-yy")),c.Db(18),c.vc("ngForOf",n.oldDetails.lines)}}var F=function(){function t(t,e,i,n){switch(this.inv=t,this.adm=e,this.router=i,this.spinner=n,this.tracode=103,this.title="",this.traid=-1,this.description="",this.opened=1,this.tradescription="",this.batches=[],this.um="",this.gin="",this.totalavailable=0,this.batchavailable=0,this.lineItems=[],this.mgtItems=[],this.qty=0,this.slno=1,this.storeid=0,this.tradat=new Date,this.listdate=new Date,this.menuCode=0,this.recordId=0,this.tracode){case 102:this.title="Losses",this.menuCode=3;break;case 103:this.title="Issues",this.menuCode=1}this.adm.screenCheck(3,2,this.menuCode,0)?(this.addRequirements(),this.listAdd()):this.router.navigateByUrl("inventory/invunauthorize")}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvTransactions(this.adm.stringData(this.listdate),this.title).subscribe((function(e){t.transactions=e,console.log(e),t.spinner.hide()}))},t.prototype.addRequirements=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvLossesTraRequirements(this.tracode).subscribe((function(e){var i=e;t.totalinfo=i,t.tradets=i.trans,t.stores=i.stores,t.stores.length>0&&(t.storeid=+t.stores[0].recordId,t.makeStoreWiseInfo()),t.materials=i.matinfo.totalmaterials,console.log(i,"requirements"),t.spinner.hide()}))},t.prototype.makeStoreWiseInfo=function(){var t=this;this.gininfo=this.totalinfo.matinfo.ginwiseinfo.filter((function(e){return e.store==+t.storeid}))},t.prototype.close=function(){this.opened=1},t.prototype.openNew=function(){this.opened=2,this.makeCle()},t.prototype.makeCle=function(){this.lineItems=[],this.mgtItems=[]},t.prototype.openOld=function(t){var e=this;this.opened=3,this.recordId=+t.recordId,this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvTransaction(t.recordId).subscribe((function(t){e.oldDetails=t,e.spinner.hide()}))},t.prototype.ngOnInit=function(){},t.prototype.makeUnits=function(t){var e=this;this.totalavailable=0,this.batchavailable=0;var i=this.materials.filter((function(e){return e.recordId==t}));i.length>0&&(this.material=i[0],this.um=i[0].um),this.batches=[];for(var n=this.gininfo.filter((function(t){return t.itemName==e.material.recordId})),r=0;r<n.length;r++)this.material.umid>=4&&this.batches.push({gin:n[r].gin,batchno:n[r].batchNo,qty:n[r].qtyin}),this.totalavailable=this.totalavailable+n[r].qtyin;var o=0;for(r=0;r<this.lineItems.length;r++)this.lineItems[r].materialid==this.material.recordId&&(o+=this.lineItems[r].qty);this.totalavailable=this.totalavailable-o},t.prototype.findtraDescr=function(){var t=this,e=this.tradets.filter((function(e){return e.recordid==+t.traid}));e.length>0&&(this.tradescription=e[0].description)},t.prototype.findBatchQty=function(){var t=this;this.batchavailable=0;var e=this.batches.filter((function(e){return e.gin==t.gin}));e.length>0&&(this.batchavailable=e[0].qty);for(var i=0,n=0;n<this.lineItems.length;n++)this.lineItems[n].gin==this.gin&&(i+=this.lineItems[n].qty);this.batchavailable=this.batchavailable-i},t.prototype.valCheckSmall=function(){return+this.traid<=0?(this.adm.showMessage(this.title+" not selected","Warning",3),!1):this.material?this.material.umid>=4&&""==this.gin.trim()?(this.adm.showMessage("Batch / GIN not selected","Warning",3),!1):this.material.umid>=4&&this.batchavailable<this.qty?(this.adm.showMessage("Batch / GIN does not contain selected qty","Warning",3),!1):!(this.material.umid>1&&this.totalavailable<this.qty&&(this.adm.showMessage("Qty is not avaialbel","Warning",3),1)):(this.adm.showMessage("Material not selected","Warning",3),!1)},t.prototype.addLine=function(){this.valCheckSmall()&&(this.lineItems.push({traid:+this.traid,traname:this.findTraName(),materialid:this.material.recordId,materialname:this.material.itemname,gin:this.material.umid<4?"":this.gin,batchno:this.material.umid<4?"":this.findBatchNo(),qty:this.qty,um:this.um,costingtype:this.material.umid,sno:this.slno}),this.slno++,this.traid=-1,this.material=null,this.batches=[],this.batchavailable=0,this.totalavailable=0,this.qty=0,this.um="",this.makeGinAdjustments())},t.prototype.makeGinAdjustments=function(){var t=this;this.mgtItems=[];for(var e=0;e<this.lineItems.length;e++)if(1==this.lineItems[e].costingtype||this.lineItems[e].costingtype>=4)this.mgtItems.push({traid:this.lineItems[e].traid,traname:this.lineItems[e].traname,materialid:this.lineItems[e].materialid,materialname:this.lineItems[e].materialname,gin:this.lineItems[e].gin,batchno:this.lineItems[e].batchno,qty:this.lineItems[e].qty,um:this.lineItems[e].um,costingtype:this.lineItems[e].costingtype,lineid:this.lineItems[e].sno});else{var i=this.gininfo.filter((function(i){return i.itemName==t.lineItems[e].materialid}));console.log(i);for(var n=this.lineItems[e].qty,r=0;r<i.length;r++)if(n>0){var o=i[r].qtyin-this.usedGinQty(i[r].gin);o>=n?(this.mgtItems.push({traid:this.lineItems[e].traid,traname:this.lineItems[e].traname,materialid:this.lineItems[e].materialid,materialname:this.lineItems[e].materialname,gin:i[r].gin,batchno:this.lineItems[e].batchno,qty:n,um:this.lineItems[e].um,costingtype:this.lineItems[e].costingtype,lineid:this.lineItems[e].sno}),n=0):(this.mgtItems.push({traid:this.lineItems[e].traid,traname:this.lineItems[e].traname,materialid:this.lineItems[e].materialid,materialname:this.lineItems[e].materialname,gin:i[r].gin,batchno:this.lineItems[e].batchno,qty:o,um:this.lineItems[e].um,costingtype:this.lineItems[e].costingtype,lineid:this.lineItems[e].sno}),n-=o)}}},t.prototype.usedGinQty=function(t){for(var e=this.mgtItems.filter((function(e){return e.gin==t})),i=0,n=0;n<e.length;n++)i+=this.mgtItems[n].qty;return i},t.prototype.deleteLine=function(t){var e=this.lineItems.indexOf(t);e>=0&&(this.lineItems.splice(e,1),this.makeGinAdjustments())},t.prototype.findBatchNo=function(){var t=this,e="",i=this.batches.filter((function(e){return e.gin==t.gin}));return i.length>0&&(e=i[0].batchno),e},t.prototype.findTraName=function(){var t=this,e="",i=this.tradets.filter((function(e){return e.recordid==+t.traid}));return i.length>0&&(e=i[0].name),e},t.prototype.valChk=function(){return+this.storeid<=0?(this.adm.showMessage("Select Store","Warning",3),!1):!(this.lineItems.length<=0&&(this.adm.showMessage("Items not selected","Warning",3),1))},t.prototype.delete=function(){var t=this;M.a.fire({title:"Deletes Transaction Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.inv.deleteInvTransaction(+t.recordId,t.title).subscribe((function(e){var i=e;"OK"==i.result?M.a.fire("Transaction Completed Successfully!",t.title+" Details deleted.","success"):M.a.fire(i.result,"Error in transaction.","error"),t.spinner.hide()})))}))},t.prototype.save=function(){var t=this;this.valChk()&&M.a.fire({title:"Confirms Transaction Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){for(var i={TraType:t.title,Descriptio:t.description},n=[],r=0;r<t.lineItems.length;r++)n.push({Sno:t.lineItems[r].sno,ItemId:+t.lineItems[r].materialid,Qtyin:0,Qtyout:+t.lineItems[r].qty});var o=[];for(r=0;r<t.mgtItems.length;r++)o.push({Sno:r+1,Gin:t.mgtItems[r].gin,ItemName:+t.mgtItems[r].materialid,Store:+t.storeid,Qtyin:0,Qtyout:t.mgtItems[r].qty,Department:t.mgtItems[r].traid,TransactionType:t.tracode,LineId:t.mgtItems[r].lineid});t.inv.setInvTransaction(i,n,o).subscribe((function(e){var i=e;"OK"==i.result?M.a.fire("Transaction Completed Successfully!",t.title+" Details saved.","success"):M.a.fire(i.result,"Error in transaction.","error")}))}}))},t.prototype.parseDate=function(t){return t?new Date(t):null},t.\u0275fac=function(e){return new(e||t)(c.Sb(C),c.Sb(a.a),c.Sb(r.c),c.Sb(b.c))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-consumable-production"]],decls:4,vars:3,consts:[[4,"ngIf"],[2,"width","100%"],["align","right",2,"width","22%"],["colspan","3"],[1,"form-control",3,"disabled","ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["type","text","disabled","",1,"form-control",3,"value"],[2,"width","22%"],[2,"width","30%"],[2,"width","15%"],[2,"width","10%"],[2,"width","9%"],[2,"width","8%"],[2,"width","6%"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","-1"],["id","cmbitem",3,"change"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],["type","text","disabled","","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","disabled","","class","form-control",4,"ngIf"],[2,"width","100%","height","350px","overflow-y","scroll"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[4,"ngFor","ngForOf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],[3,"value"],["type","text","disabled","",1,"form-control"],["scope","row"],[1,"ft-trash","font-medium-1",3,"click"],["align","right",2,"width","15%"],["type","date",1,"form-control",3,"value","input"],["type","button",1,"btn-lg","btn-success",3,"click"],["align","right",2,"width","60%"],["type","button",1,"btn-lg","btn-info",3,"click"],[1,"ft-edit","font-medium-1",3,"click"],[2,"width","20%"],["type","text",1,"form-control",3,"value"],[2,"width","80%"],["colspan","2"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,A,113,23,"div",0),c.Uc(2,q,27,6,"div",0),c.Uc(3,L,27,5,"div",0)),2&t&&(c.Db(1),c.vc("ngIf",2==e.opened),c.Db(1),c.vc("ngIf",1==e.opened),c.Db(1),c.vc("ngIf",3==e.opened))},directives:[b.a,n.p,l.z,l.q,l.t,n.o,l.u,l.B,d.a,l.c,l.v,d.g],pipes:[n.e],styles:["ng-sidebar-container[_ngcontent-%COMP%]{height:100vh}  .ng-sidebar{background-color:#fff;width:95%}"]}),t}(),N=i("mrSG"),B=i("iGCY"),G=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getKitchens=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/POSInventory/GetResKitchens",t,this.adm.makeConfig())},t.prototype.setKitchen=function(t,e){var i={kitchen:t,traCheck:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/POSInventory/setResKitchen",i,this.adm.makeConfig())},t.prototype.getFNBServices=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/POSInventory/GetResFNBServices",t,this.adm.makeConfig())},t.prototype.setFNBService=function(t,e){var i={fnbservice:t,traCheck:e,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/POSInventory/setResFNBServices",i,this.adm.makeConfig())},t.prototype.getKitchenWiseResta=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/POSInventory/GetResKitchenWiseResta",t,this.adm.makeConfig())},t.prototype.setKitchenWiseResta=function(t){var e={details:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/POSInventory/setResKitchenWiseResta",e,this.adm.makeConfig())},t.prototype.getFNBServiceWiseResta=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/POSInventory/GetResFNBServiceWiseResta",t,this.adm.makeConfig())},t.prototype.setFNBServiceWiseResta=function(t){var e={details:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/POSInventory/setResFNBServiceWiseResta",e,this.adm.makeConfig())},t.prototype.getDepartmentWiseItems=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/POSInventory/getDepartmentWiseItems",t,this.adm.makeConfig())},t.prototype.setDepartmentWiseItems=function(t){var e={details:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/POSInventory/setDepartmentWiseItems",e,this.adm.makeConfig())},t.prototype.getItemWiseIngredients=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/POSInventory/GetItemWiseIngredients",t,this.adm.makeConfig())},t.prototype.setItemWiseIngredients=function(t){var e={details:t,usr:this.adm.getUserCompleteInformation().usr};return this.http.post(this.adm.getActualURL()+"api/POSInventory/SetItemWiseIngredients",e,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(c.gc(a.a),c.gc(I.a))},t.\u0275prov=c.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),z=i("qT8p"),_=i("MnXN");function $(t,e){if(1&t&&(c.Yb(0,"div",14),c.Yb(1,"div",15),c.Tb(2,"i",16),c.Yb(3,"div",17),c.Yb(4,"a",18),c.Wc(5,"Download Pdf"),c.Xb(),c.Yb(6,"a",19),c.Wc(7,"Download Excel"),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc();c.Db(4),c.vc("href",i.pdffile,c.Oc),c.Db(2),c.vc("href",i.excelfile,c.Oc)}}function Z(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",27),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Wc(10),c.Xb(),c.Yb(11,"td"),c.Wc(12),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index;c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.det1),c.Db(2),c.Xc(i.det2),c.Db(2),c.Xc(i.det3),c.Db(2),c.Xc(i.det4),c.Db(2),c.Xc(i.det5)}}function E(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td",28),c.Yb(2,"span",29),c.Wc(3," No records found "),c.Xb(),c.Xb(),c.Xb())}function j(t,e){if(1&t&&(c.Yb(0,"div",20),c.Yb(1,"div",21),c.Yb(2,"div",22),c.Yb(3,"table",23),c.Yb(4,"thead",24),c.Yb(5,"tr"),c.Yb(6,"th"),c.Wc(7,"#"),c.Xb(),c.Yb(8,"th"),c.Wc(9,"Item Code"),c.Xb(),c.Yb(10,"th"),c.Wc(11,"Material"),c.Xb(),c.Yb(12,"th"),c.Wc(13,"Qty"),c.Xb(),c.Yb(14,"th"),c.Wc(15,"UOM"),c.Xb(),c.Yb(16,"th"),c.Wc(17,"Value"),c.Xb(),c.Xb(),c.Xb(),c.Yb(18,"tbody"),c.Uc(19,Z,13,6,"tr",25),c.Yb(20,"tr"),c.Yb(21,"th"),c.Wc(22,"\xa0"),c.Xb(),c.Yb(23,"td"),c.Wc(24,"\xa0"),c.Xb(),c.Yb(25,"td"),c.Wc(26,"Total"),c.Xb(),c.Yb(27,"td"),c.Wc(28,"\xa0"),c.Xb(),c.Yb(29,"td"),c.Wc(30,"\xa0"),c.Xb(),c.Yb(31,"td"),c.Wc(32),c.pc(33,"number"),c.Xb(),c.Xb(),c.Uc(34,E,4,0,"tr",26),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc();c.Db(19),c.vc("ngForOf",i.details),c.Db(13),c.Xc(c.rc(33,3,i.total,"0.2")),c.Db(2),c.vc("ngIf",i.details.length<=0)}}var V=function(){function t(t,e,i,n,r,o){this.inv=t,this.pos=e,this.adm=i,this.spinner=n,this.router=r,this.toastr=o,this.fromdate=new Date,this.pdffile="",this.excelfile="",this.total=0}return t.prototype.ngOnInit=function(){},t.prototype.parseDate=function(t){return t?new Date(t):null},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getClosingStockWithValue(this.adm.stringData(this.fromdate)).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){return Object(N.__generator)(this,(function(t){return this.details=e.details,this.spinner.hide(),[2]}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(B.a),c.Sb(G),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-cost-rep-closing-values"]],decls:20,vars:6,consts:[["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[2,"width","50%"],["align","right",2,"width","20%"],[2,"width","70%"],["type","date",1,"form-control",3,"value","input"],[2,"width","10%"],[1,"btn-lg","btn-secondary",3,"click"],["class","position-relative float-right",4,"ngIf"],["class","card-content",4,"ngIf"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","row"],["colspan","6","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Yb(1,"section",0),c.Yb(2,"div",1),c.Yb(3,"div",2),c.Yb(4,"div",3),c.Yb(5,"div",4),c.Yb(6,"h3",5),c.Wc(7,"Closing Stock Information"),c.Xb(),c.Yb(8,"table",6),c.Yb(9,"tr"),c.Yb(10,"td",7),c.Wc(11,"As on"),c.Xb(),c.Yb(12,"td",8),c.Yb(13,"input",9),c.kc("input",(function(t){return e.fromdate=e.parseDate(t.target.value)})),c.pc(14,"date"),c.Xb(),c.Xb(),c.Yb(15,"td",10),c.Yb(16,"button",11),c.kc("click",(function(){return e.listAdd()})),c.Wc(17,"Show"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Uc(18,$,8,2,"div",12),c.Xb(),c.Uc(19,j,35,6,"div",13),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t&&(c.Db(13),c.vc("value",c.rc(14,3,e.fromdate,"yyyy-MM-dd")),c.Db(5),c.vc("ngIf",e.details),c.Db(1),c.vc("ngIf",e.details))},directives:[b.a,n.p,_.l,_.o,_.n,n.o],pipes:[n.e,n.f],styles:[""]}),t}(),Q=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-departments-list"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-departments-list works!"),c.Xb())},styles:[""]}),t}(),K=i("k4pO");function J(t,e){if(1&t&&(c.Yb(0,"option",22),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.areaname),c.Db(1),c.Xc(i.areaname)}}function H(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",23),c.kc("click",(function(){return c.Mc(i),c.oc().deleteDepartment()})),c.Wc(1,"Delete"),c.Xb()}if(2&t){var n=c.oc();c.vc("disabled",!n.delCheck)}}function tt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",24),c.kc("click",(function(){return c.Mc(i),c.oc().openNew()})),c.Wc(1,"New"),c.Xb()}}function et(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",27),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc().openOld(t)})),c.Xb()}}function it(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",25),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Uc(8,et,1,0,"i",26),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index,r=c.oc();c.Db(2),c.Xc(n+1+(r.pageno-1)*r.PAGESIZE),c.Db(2),c.Xc(i.department),c.Db(2),c.Xc(i.area),c.Db(2),c.vc("ngIf",!r.opened)}}var nt=function(){function t(t,e,i,n,r){if(this.inv=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.creCheck=!1,this.delCheck=!1,this.delVisible=!1,this.authCheck=!1,this.saveStr="",this.deptname="",this.pageno=1,this.PAGESIZE=15,this.totalpages=1,this.page4=1,this.area="0",this.areas=[],this.recordID=0,this.opened=!1,this.departments=[],this.totaldepartments=[],this.searchtext="",this.adm.screenCheck(3,1,6,0)){this.authCheck=!0,this.delCheck=this.adm.screenCheck(3,1,6,3),this.listAdd();var o=this.adm.getUserCompleteInformation().usr.pCode;this.areas="D-MIN"==o||"O-MIN"==o?[{areacode:1,areaname:"Administration"},{areacode:2,areaname:"F & B Service"},{areacode:3,areaname:"Home"},{areacode:4,areaname:"Housekeeping"},{areacode:5,areaname:"Kitchen"},{areacode:6,areaname:"Maintenance"},{areacode:7,areaname:"Others"}]:[{areacode:1,areaname:"Administration"},{areacode:2,areaname:"Production"},{areacode:3,areaname:"Home"},{areacode:4,areaname:"Marketing"},{areacode:6,areaname:"Maintenance"},{areacode:7,areaname:"Others"}]}else this.router.navigateByUrl("inventory/invunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.creCheck=this.adm.screenCheck(3,1,6,1),this.saveStr="Save",this.opened=!0,this.delVisible=!1},t.prototype.makeCle=function(){this.delVisible=!1,this.recordID=0,this.deptname="",this.area="0"},t.prototype.openOld=function(t){this.deptname=t.department,this.area=t.area,this.recordID=t.recordId,this.creCheck=this.adm.screenCheck(3,1,6,2),this.saveStr="Modify",this.opened=!0,this.delVisible=!0},t.prototype.valChk=function(){return""==this.deptname?(this.adm.showMessage("Department not entered","Warning",3),!1):"0"!=this.area||(this.adm.showMessage("Area not selected","Warning",3),!1)},t.prototype.saveDepartment=function(){var t=this;this.valChk()&&M.a.fire({title:0==this.recordID?"Confirms Department Details":"Modifies Department Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.inv.setInvDepartment({RecordId:t.recordID,Department:t.deptname,Area:t.area},0==t.recordID?1:2).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return"OK"==(t=e).result?(M.a.fire("Transaction Completed Successfully!","Department Details saved.","success"),this.opened=0==this.recordID,this.makeCle(),this.listAdd()):M.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))})))}))},t.prototype.deleteDepartment=function(){var t=this;M.a.fire({title:"Deletes Department Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.inv.setInvDepartment({RecordId:t.recordID,Department:t.deptname,Area:t.area},3).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return"OK"==(t=e).result?(M.a.fire("Transaction Completed Successfully!","Department Details deleted.","success"),this.opened=!1,this.makeCle(),this.listAdd()):M.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))})))}))},t.prototype.close=function(){this.makeCle(),this.opened=!1},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvDepartments().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){return Object(N.__generator)(this,(function(t){return this.totaldepartments=e,this.searchDetails(),this.spinner.hide(),[2]}))}))}))},t.prototype.searchItems=function(){this.pageno=1,this.searchDetails()},t.prototype.loadPage=function(t){this.pageno=t,this.searchDetails()},t.prototype.searchDetails=function(){var t,e=this;t=""==this.searchtext.trim()?this.totaldepartments:this.totaldepartments.filter((function(t){return t.department.toUpperCase().includes(e.searchtext.toUpperCase())})),this.totalpages=t.length/this.PAGESIZE*10,this.departments=[];for(var i=(this.pageno-1)*this.PAGESIZE,n=i+this.PAGESIZE-1,r=i;r<=n;r++){if(r==t.length)return;this.departments.push(t[r])}},t.\u0275fac=function(e){return new(e||t)(c.Sb(s.a),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-departments"]],decls:52,vars:15,consts:[["mode","push",3,"opened"],[2,"width","60%"],[2,"width","100%"],["type","text","id","basicInput","placeholder","Department","ngDefaultControl","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["colspan","2"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],["ng-sidebar-content",""],["align","left",2,"width","30%"],["type","button","class","btn-lg btn-success mr-1 mb-1",3,"click",4,"ngIf"],["align","left",2,"width","70%"],[1,"form-group","has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","input"],[3,"collectionSize","page","maxSize","rotate","boundaryLinks","pageChange"],[1,"table","m-0",2,"width","60%"],[1,"thead-light"],[4,"ngFor","ngForOf"],[3,"value"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],["scope","row"],["class","ft-edit font-medium-1",3,"click",4,"ngIf"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Yb(1,"ng-sidebar-container"),c.Yb(2,"ng-sidebar",0),c.Yb(3,"h3"),c.Wc(4," Department Details "),c.Xb(),c.Tb(5,"br"),c.Yb(6,"table",1),c.Yb(7,"tr"),c.Yb(8,"td",2),c.Yb(9,"input",3),c.kc("ngModelChange",(function(t){return e.deptname=t})),c.Xb(),c.Xb(),c.Xb(),c.Yb(10,"tr"),c.Yb(11,"td",2),c.Yb(12,"select",4),c.kc("ngModelChange",(function(t){return e.area=t})),c.Yb(13,"option",5),c.Wc(14,"--Select Area--"),c.Xb(),c.Uc(15,J,2,2,"option",6),c.Xb(),c.Xb(),c.Xb(),c.Yb(16,"tr"),c.Yb(17,"td",7),c.Wc(18," \xa0 "),c.Xb(),c.Xb(),c.Yb(19,"tr"),c.Yb(20,"td",7),c.Uc(21,H,2,1,"button",8),c.Yb(22,"button",9),c.kc("click",(function(){return e.saveDepartment()})),c.Wc(23),c.Xb(),c.Yb(24,"button",10),c.kc("click",(function(){return e.close()})),c.Wc(25,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(26,"div",11),c.Yb(27,"nav"),c.Yb(28,"h3"),c.Wc(29," List of Departments "),c.Xb(),c.Yb(30,"table",2),c.Yb(31,"tr"),c.Yb(32,"td",12),c.Uc(33,tt,2,0,"button",13),c.Xb(),c.Yb(34,"td",14),c.Yb(35,"div",15),c.Tb(36,"span",16),c.Yb(37,"input",17),c.kc("ngModelChange",(function(t){return e.searchtext=t}))("input",(function(){return e.searchItems()})),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(38,"ngb-pagination",18),c.kc("pageChange",(function(t){return e.loadPage(t)}))("pageChange",(function(t){return e.page4=t})),c.Xb(),c.Yb(39,"table",19),c.Yb(40,"thead",20),c.Yb(41,"tr"),c.Yb(42,"th"),c.Wc(43,"#"),c.Xb(),c.Yb(44,"th"),c.Wc(45,"Department"),c.Xb(),c.Yb(46,"th"),c.Wc(47,"Area"),c.Xb(),c.Yb(48,"th"),c.Wc(49,"Open"),c.Xb(),c.Xb(),c.Xb(),c.Yb(50,"tbody"),c.Uc(51,it,9,4,"tr",21),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t&&(c.Db(2),c.vc("opened",e.opened),c.Db(7),c.vc("ngModel",e.deptname),c.Db(3),c.vc("ngModel",e.area),c.Db(3),c.vc("ngForOf",e.areas),c.Db(6),c.vc("ngIf",e.delVisible),c.Db(1),c.vc("disabled",!e.creCheck),c.Db(1),c.Xc(e.saveStr),c.Db(10),c.vc("ngIf",!e.opened),c.Db(4),c.vc("ngModel",e.searchtext),c.Db(1),c.vc("collectionSize",e.totalpages)("page",e.page4)("maxSize",5)("rotate",!0)("boundaryLinks",!0),c.Db(13),c.vc("ngForOf",e.departments))},directives:[b.a,K.b,K.a,l.c,l.q,l.t,l.z,l.u,l.B,n.o,n.p,_.A],styles:["ng-sidebar-container[_ngcontent-%COMP%]{height:100vh}  .ng-sidebar{background-color:#fff;width:65%}"]}),t}();function rt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",30),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc().toggleVisible(t)})),c.Xb()}}function ot(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",31),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc().toggleVisible(t)})),c.Xb()}}function at(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",30),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc(3).toggleVisible(t)})),c.Xb()}}function st(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",31),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc(3).toggleVisible(t)})),c.Xb()}}function ct(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",30),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc(5).toggleVisible(t)})),c.Xb()}}function bt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",31),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc(5).toggleVisible(t)})),c.Xb()}}function lt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"span",33),c.Uc(1,ct,1,0,"i",27),c.Uc(2,bt,1,0,"i",28),c.Yb(3,"span",29),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(5).toggleVisible(t)})),c.Wc(4),c.Xb(),c.Tb(5,"br"),c.Xb()}if(2&t){var n=e.$implicit;c.Db(1),c.vc("ngIf",!n.openCheck),c.Db(1),c.vc("ngIf",n.openCheck),c.Db(2),c.Yc(" ",n.subGroup," ")}}function dt(t,e){if(1&t&&(c.Yb(0,"div"),c.Uc(1,lt,6,3,"span",32),c.Xb()),2&t){var i=c.oc().$implicit;c.Db(1),c.vc("ngForOf",i.children)}}function ht(t,e){if(1&t){var i=c.Zb();c.Yb(0,"span",33),c.Uc(1,at,1,0,"i",27),c.Uc(2,st,1,0,"i",28),c.Yb(3,"span",29),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(3).toggleVisiblePlus(t)})),c.Wc(4),c.Xb(),c.Tb(5,"br"),c.Uc(6,dt,2,1,"div",26),c.Xb()}if(2&t){var n=e.$implicit;c.Db(1),c.vc("ngIf",!n.openCheck),c.Db(1),c.vc("ngIf",n.openCheck),c.Db(2),c.Yc(" ",n.subGroup," "),c.Db(2),c.vc("ngIf",n.openCheck)}}function ut(t,e){if(1&t&&(c.Yb(0,"div"),c.Uc(1,ht,7,4,"span",32),c.Xb()),2&t){var i=c.oc().$implicit;c.Db(1),c.vc("ngForOf",i.children)}}function pt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"span"),c.Uc(1,rt,1,0,"i",27),c.Uc(2,ot,1,0,"i",28),c.Yb(3,"span",29),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc().toggleVisiblePlus(t)})),c.Wc(4),c.Xb(),c.Tb(5,"br"),c.Uc(6,ut,2,1,"div",26),c.Xb()}if(2&t){var n=e.$implicit;c.Db(1),c.vc("ngIf",!n.openCheck),c.Db(1),c.vc("ngIf",n.openCheck),c.Db(2),c.Yc(" ",n.subGroup," "),c.Db(2),c.vc("ngIf",n.openCheck)}}function mt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",34),c.kc("click",(function(){return c.Mc(i),c.oc().delete()})),c.Wc(1,"Delete"),c.Xb()}if(2&t){var n=c.oc();c.vc("disabled",!n.delCheck)}}function ft(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",35),c.kc("click",(function(){return c.Mc(i),c.oc().openNew()})),c.Wc(1,"New"),c.Xb()}}function gt(t,e){1&t&&(c.Yb(0,"span"),c.Wc(1," Active"),c.Xb())}function vt(t,e){1&t&&(c.Yb(0,"span"),c.Wc(1," Inactive"),c.Xb())}function Xt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",38),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc().openOld(t)})),c.Xb()}}function Yt(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",36),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Uc(8,gt,2,0,"span",26),c.Uc(9,vt,2,0,"span",26),c.Xb(),c.Yb(10,"td"),c.Uc(11,Xt,1,0,"i",37),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index,r=c.oc();c.Db(2),c.Xc(n+1+(r.pageno-1)*r.PAGESIZE),c.Db(2),c.Xc(i.sGrp),c.Db(2),c.Xc(i.mGrp),c.Db(2),c.vc("ngIf",1==i.statu),c.Db(1),c.vc("ngIf",1!=i.statu),c.Db(2),c.vc("ngIf",!r.opened)}}function yt(t,e){1&t&&(c.Yb(0,"div"),c.Yb(1,"h1"),c.Wc(2,"You are not authorised to view this page"),c.Xb(),c.Xb())}var kt=function(){function t(t,e,i,n,r){this.igrp=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.creCheck=!1,this.delCheck=!1,this.delVisible=!1,this.authCheck=!1,this.saveStr="",this.recordID=0,this.pageno=1,this.PAGESIZE=15,this.totalpages=1,this.page4=1,this.maingrp="xx",this.subgrp="",this.maingrpid=0,this.opened=!1,this.searchtext="",this.adm.screenCheck(3,1,3,0)?(this.authCheck=!0,this.delCheck=this.adm.screenCheck(3,1,3,3),this.listAdd(),this.treeAdd()):this.router.navigateByUrl("inventory/invunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.creCheck=this.adm.screenCheck(3,1,3,1),this.saveStr="Save",this.opened=!0},t.prototype.makeCle=function(){this.delVisible=!1,this.recordID=0,this.maingrp="",this.subgrp="",this.maingrpid=0},t.prototype.openOld=function(t){t.chk>0?(this.recordID=t.recordId,this.subgrp=t.sGrp,this.maingrp=t.mGrp,this.delVisible=!0,this.creCheck=this.adm.screenCheck(3,1,3,2),this.saveStr="Modify",this.opened=!0):this.toastr.error("Builtin groups can not be modified / deleted","Error")},t.prototype.valChk=function(){return""==this.subgrp.trim()?(this.toastr.warning("Sub Group not mentioned","Warning"),!1):""!=this.maingrp.trim()||(this.toastr.warning("Main Group not selected","Warning"),!1)},t.prototype.delete=function(){var t=this;M.a.fire({title:"Deletes Group Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.igrp.setInventoryGroup({RecordId:t.recordID,MGrp:t.maingrp,SGrp:t.subgrp},3).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return"OK"==(t=e).result?(M.a.fire("Transaction Completed Successfully!","Group Details deleted.","success"),this.opened=0==this.recordID,this.makeCle(),this.listAdd()):M.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))})))}))},t.prototype.close=function(){this.makeCle(),this.opened=!1},t.prototype.save=function(){var t=this;this.valChk()&&M.a.fire({title:0==this.recordID?"Confirms Group Details":"Modifies Group Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.igrp.setInventoryGroup({RecordId:t.recordID,MGrp:t.maingrp,SGrp:t.subgrp},0==t.recordID?1:2).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return"OK"==(t=e).result?(M.a.fire("Transaction Completed Successfully!","Group Details saved.","success"),this.opened=0==this.recordID,this.makeCle(),this.listAdd()):M.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))})))}))},t.prototype.treeAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.igrp.getInvGroupsTreeWise().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){return Object(N.__generator)(this,(function(t){return this.treeObj=e,this.spinner.hide(),[2]}))}))}))},t.prototype.toggleVisible=function(t){t.openCheck=!t.openCheck},t.prototype.toggleVisiblePlus=function(t){t.openCheck=!t.openCheck,this.maingrp=t.subGroup},t.prototype.searchItems=function(){this.pageno=1,this.searchDetails()},t.prototype.loadPage=function(t){this.pageno=t,this.searchDetails(),this.page4=t},t.prototype.searchDetails=function(){var t,e=this;t=""==this.searchtext.trim()?this.totalgrps:this.totalgrps.filter((function(t){return t.sGrp.toUpperCase().includes(e.searchtext.toUpperCase())})),this.totalpages=t.length/this.PAGESIZE*10,this.grps=[];for(var i=(this.pageno-1)*this.PAGESIZE,n=i+this.PAGESIZE-1,r=i;r<=n;r++){if(r==t.length)return;this.grps.push(t[r])}},t.prototype.listAdd=function(){var t=this;this.igrp.getInventoryGroups().subscribe((function(e){t.totalgrps=e,t.searchItems(),t.loadPage(1)}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(s.a),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-item-groups"]],decls:61,vars:16,consts:[["mode","push",3,"opened"],[2,"width","40%"],[1,"card"],[1,"card-header"],[1,"card-title"],[1,"card-content"],[1,"card-body"],[2,"width","100%","border-color","black","border-style","solid","border-width","thin","height","360px","overflow-y","scroll"],[4,"ngFor","ngForOf"],["type","text","id","basicInput","placeholder","Enter Group",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Main Group","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["colspan","2"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],["ng-sidebar-content",""],[2,"width","80%"],["align","left",2,"width","50%"],["type","button","class","btn-lg btn-success mr-1 mb-1",3,"click",4,"ngIf"],["align","right",2,"width","50%"],[1,"form-group","has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","input"],[3,"collectionSize","page","maxSize","rotate","boundaryLinks","pageChange"],[1,"table","m-0",2,"width","80%"],[1,"thead-light"],[4,"ngIf"],["class","ft-chevron-right font-medium-1",3,"click",4,"ngIf"],["class","ft-chevron-down font-medium-1",3,"click",4,"ngIf"],[3,"click"],[1,"ft-chevron-right","font-medium-1",3,"click"],[1,"ft-chevron-down","font-medium-1",3,"click"],["style","left: 32px; position: relative;",4,"ngFor","ngForOf"],[2,"left","32px","position","relative"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],["scope","row"],["class","ft-edit font-medium-1",3,"click",4,"ngIf"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Yb(1,"ng-sidebar-container"),c.Yb(2,"ng-sidebar",0),c.Yb(3,"h3"),c.Wc(4," Inventory Group Details "),c.Xb(),c.Tb(5,"br"),c.Yb(6,"table",1),c.Yb(7,"tr"),c.Yb(8,"td"),c.Yb(9,"div",2),c.Yb(10,"div",3),c.Yb(11,"h5",4),c.Wc(12,"Select Inventory Group"),c.Xb(),c.Xb(),c.Yb(13,"div",5),c.Yb(14,"div",6),c.Yb(15,"div",7),c.Uc(16,pt,7,4,"span",8),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(17,"tr"),c.Yb(18,"td"),c.Yb(19,"input",9),c.kc("ngModelChange",(function(t){return e.subgrp=t})),c.Xb(),c.Xb(),c.Xb(),c.Yb(20,"tr"),c.Yb(21,"td"),c.Yb(22,"input",10),c.kc("ngModelChange",(function(t){return e.maingrp=t})),c.Xb(),c.Xb(),c.Xb(),c.Yb(23,"tr"),c.Yb(24,"td",11),c.Wc(25," \xa0 "),c.Xb(),c.Xb(),c.Yb(26,"tr"),c.Yb(27,"td",11),c.Uc(28,mt,2,1,"button",12),c.Yb(29,"button",13),c.kc("click",(function(){return e.save()})),c.Wc(30),c.Xb(),c.Yb(31,"button",14),c.kc("click",(function(){return e.close()})),c.Wc(32,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(33,"div",15),c.Yb(34,"nav"),c.Yb(35,"h3"),c.Wc(36," List of Inventory Groups "),c.Xb(),c.Yb(37,"table",16),c.Yb(38,"tr"),c.Yb(39,"td",17),c.Uc(40,ft,2,0,"button",18),c.Xb(),c.Yb(41,"td",19),c.Yb(42,"div",20),c.Tb(43,"span",21),c.Yb(44,"input",22),c.kc("ngModelChange",(function(t){return e.searchtext=t}))("input",(function(){return e.searchItems()})),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(45,"ngb-pagination",23),c.kc("pageChange",(function(t){return e.loadPage(t)}))("pageChange",(function(t){return e.page4=t})),c.Xb(),c.Yb(46,"table",24),c.Yb(47,"thead",25),c.Yb(48,"tr"),c.Yb(49,"th"),c.Wc(50,"#"),c.Xb(),c.Yb(51,"th"),c.Wc(52,"Group"),c.Xb(),c.Yb(53,"th"),c.Wc(54,"Main Group"),c.Xb(),c.Yb(55,"th"),c.Wc(56,"Status"),c.Xb(),c.Tb(57,"th"),c.Xb(),c.Xb(),c.Yb(58,"tbody"),c.Uc(59,Yt,12,6,"tr",8),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Uc(60,yt,3,0,"div",26)),2&t&&(c.Db(2),c.vc("opened",e.opened),c.Db(14),c.vc("ngForOf",e.treeObj),c.Db(3),c.vc("ngModel",e.subgrp),c.Db(3),c.vc("ngModel",e.maingrp),c.Db(6),c.vc("ngIf",e.delVisible),c.Db(1),c.vc("disabled",!e.creCheck),c.Db(1),c.Xc(e.saveStr),c.Db(10),c.vc("ngIf",!e.opened),c.Db(4),c.vc("ngModel",e.searchtext),c.Db(1),c.vc("collectionSize",e.totalpages)("page",e.page4)("maxSize",5)("rotate",!0)("boundaryLinks",!0),c.Db(14),c.vc("ngForOf",e.grps),c.Db(1),c.vc("ngIf",!e.authCheck))},directives:[b.a,K.b,K.a,n.o,l.c,l.q,l.t,n.p,_.A],styles:["ng-sidebar-container[_ngcontent-%COMP%]{height:100vh}  .ng-sidebar{background-color:#fff;width:65%}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:2.375rem}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}"]}),t}(),It=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-item-merging"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-item-merging works!"),c.Xb())},styles:[""]}),t}(),Ct=function(){function t(t){this.router=t}return t.prototype.ngOnInit=function(){},t.prototype.create=function(){this.router.navigateByUrl("inventory/invitemstra")},t.\u0275fac=function(e){return new(e||t)(c.Sb(r.c))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-items-list"]],decls:4,vars:0,consts:[[3,"click"]],template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-items-list works!"),c.Xb(),c.Yb(2,"button",0),c.kc("click",(function(){return e.create()})),c.Wc(3,"Show"),c.Xb())},styles:[""]}),t}(),Dt=i("ow0m"),Mt=i("1hga");function Wt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",61),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc().toggleVisible(t)})),c.Xb()}}function wt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",62),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc().toggleVisible(t)})),c.Xb()}}function St(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",61),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc(3).toggleVisible(t)})),c.Xb()}}function Ot(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",62),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc(3).toggleVisible(t)})),c.Xb()}}function xt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",61),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc(5).toggleVisible(t)})),c.Xb()}}function Ut(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",62),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc(5).toggleVisible(t)})),c.Xb()}}function Tt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"span",64),c.Uc(1,xt,1,0,"i",58),c.Uc(2,Ut,1,0,"i",59),c.Yb(3,"span",60),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(5).toggleVisiblePlus(t)})),c.Wc(4),c.Xb(),c.Tb(5,"br"),c.Xb()}if(2&t){var n=e.$implicit;c.Db(1),c.vc("ngIf",!n.openCheck),c.Db(1),c.vc("ngIf",n.openCheck),c.Db(2),c.Yc(" ",n.subGroup," ")}}function At(t,e){if(1&t&&(c.Yb(0,"div"),c.Uc(1,Tt,6,3,"span",63),c.Xb()),2&t){var i=c.oc().$implicit;c.Db(1),c.vc("ngForOf",i.children)}}function Rt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"span",64),c.Uc(1,St,1,0,"i",58),c.Uc(2,Ot,1,0,"i",59),c.Yb(3,"span",60),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(3).toggleVisiblePlus(t)})),c.Wc(4),c.Xb(),c.Tb(5,"br"),c.Uc(6,At,2,1,"div",57),c.Xb()}if(2&t){var n=e.$implicit;c.Db(1),c.vc("ngIf",!n.openCheck),c.Db(1),c.vc("ngIf",n.openCheck),c.Db(2),c.Yc(" ",n.subGroup," "),c.Db(2),c.vc("ngIf",n.openCheck)}}function qt(t,e){if(1&t&&(c.Yb(0,"div"),c.Uc(1,Rt,7,4,"span",63),c.Xb()),2&t){var i=c.oc().$implicit;c.Db(1),c.vc("ngForOf",i.children)}}function Pt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"span"),c.Uc(1,Wt,1,0,"i",58),c.Uc(2,wt,1,0,"i",59),c.Yb(3,"span",60),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc().toggleVisible(t)})),c.Wc(4),c.Xb(),c.Tb(5,"br"),c.Uc(6,qt,2,1,"div",57),c.Xb()}if(2&t){var n=e.$implicit;c.Db(1),c.vc("ngIf",!n.openCheck),c.Db(1),c.vc("ngIf",n.openCheck),c.Db(2),c.Yc(" ",n.subGroup," "),c.Db(2),c.vc("ngIf",n.openCheck)}}function Lt(t,e){if(1&t&&(c.Yb(0,"option",65),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordId),c.Db(1),c.Xc(i.um)}}function Ft(t,e){if(1&t&&(c.Yb(0,"option",65),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordId),c.Db(1),c.Xc(i.um)}}function Nt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td",42),c.Wc(2),c.Xb(),c.Yb(3,"td",43),c.Wc(4),c.Xb(),c.Yb(5,"td",43),c.Wc(6),c.Xb(),c.Yb(7,"td",43),c.Wc(8),c.Xb(),c.Yb(9,"td",42),c.Yb(10,"i",66),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc().deleteUM(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit,r=e.index;c.Db(2),c.Xc(r+1),c.Db(2),c.Xc(n.mainum),c.Db(2),c.Xc(n.conve),c.Db(2),c.Xc(n.stdum)}}function Bt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",67),c.kc("click",(function(){return c.Mc(i),c.oc().delete()})),c.Wc(1,"Delete"),c.Xb()}if(2&t){var n=c.oc();c.vc("disabled",!n.delCheck)}}function Gt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",68),c.kc("click",(function(){return c.Mc(i),c.oc().openNew()})),c.Wc(1,"New"),c.Xb()}}function zt(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",71),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc().openOld(t)})),c.Xb()}}function _t(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",69),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Wc(10),c.Xb(),c.Yb(11,"td"),c.Wc(12),c.Xb(),c.Yb(13,"td"),c.Uc(14,zt,1,0,"i",70),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index,r=c.oc();c.Db(2),c.Xc(n+1+(r.pageno-1)*r.PAGESIZE),c.Db(2),c.Xc(i.itemname),c.Db(2),c.Xc(i.grp),c.Db(2),c.Xc(i.reorderqty),c.Db(2),c.Xc(i.stdum),c.Db(2),c.Xc(i.statu),c.Db(2),c.vc("ngIf",!r.opened)}}function $t(t,e){1&t&&(c.Yb(0,"div"),c.Yb(1,"h1"),c.Wc(2,"You are not authorised to view this page"),c.Xb(),c.Xb())}var Zt=function(){function t(t,e,i,n,r,o,a,s){var c=this;this.inm=t,this.inu=e,this.inv=i,this.adm=n,this.spinner=r,this.router=o,this.toastr=a,this.gen=s,this.creCheck=!1,this.delCheck=!1,this.delVisible=!1,this.authCheck=!1,this.saveStr="",this.checkDup="",this.recordID=0,this.pageno=1,this.PAGESIZE=15,this.totalpages=1,this.page4=1,this.mainum=-1,this.stdum=-1,this.stdumchk=!0,this.umslist=[],this.opened=!1,this.searchtext="",this.grop="",this.item={Itemid:"",ItemName:"",Grp:0,StdRate:0,ReOrderQty:0,ShelfLifeReqd:0,InventoryReqd:1,Statu:1,costingType:0},this.costingtype=0,this.costingtypecheck=!0,this.shelflife=!1,this.invreqd=!0,this.adm.screenCheck(3,1,4,0)?(this.authCheck=!0,this.delCheck=this.adm.screenCheck(3,1,4,3),this.listAdd(),this.treeAdd(),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInventoryCostingInfo().subscribe((function(t){c.spinner.hide(),c.costingtype=+t.setupValue}))):this.router.navigateByUrl("inventory/invunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.costingtypecheck=!0,this.creCheck=this.adm.screenCheck(3,1,4,1),this.saveStr="Save",this.opened=!0},t.prototype.makeCle=function(){this.delVisible=!1,this.shelflife=!1,this.invreqd=!0,this.item={Itemid:"",ItemName:"",Grp:0,StdRate:0,ReOrderQty:0,ShelfLifeReqd:0,InventoryReqd:1,Statu:1,CostingType:this.costingtype},this.grop="",this.umslist=[],this.stdumchk=!0,this.recordID>0&&(this.opened=!1),this.recordID=0},t.prototype.openOld=function(t){var e=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.recordID=t.recordId,this.costingtypecheck=!0,this.grop=t.grp,this.inm.getInventoryItem(this.recordID).subscribe((function(t){var i=t;e.umslist=[],e.item={RecordId:e.recordID,Itemid:i.mat.itemid,ItemName:i.mat.itemName,Grp:i.mat.grp,StdRate:i.mat.stdRate,ReOrderQty:i.mat.reOrderQty,ShelfLifeReqd:i.mat.shelfLifeReqd,InventoryReqd:i.mat.inventoryReqd,Statu:i.mat.statu,CostingType:i.mat.costingType},e.shelflife=1==e.item.ShelfLifeReqd,e.invreqd=1==e.item.InventoryReqd;for(var n=0;n<i.matum.length;n++)e.umslist.push({mainid:i.matum[n].um,mainum:e.getUM(i.matum[n].um),conve:i.matum[n].conversionFactor,stdid:i.matum[n].stdUm,stdum:e.getUM(i.matum[n].stdUm)});e.umslist.length>0&&(e.stdum=e.umslist[0].stdid),e.costingtypecheck=1==i.tracheck,e.spinner.hide()})),this.delVisible=!0,this.creCheck=this.adm.screenCheck(3,1,4,2),this.saveStr="Modify",this.opened=!0},t.prototype.valChk=function(){return""==this.item.Itemid.trim()?(this.gen.showMessage("Material code not mentioned","Warming",3),!1):""==this.item.ItemName.trim()?(this.gen.showMessage("Material name not mentioned","Warming",3),!1):""==this.grop.trim()?(this.gen.showMessage("Material Group not selected","Warming",3),!1):this.item.CostingType<=0?(this.gen.showMessage("Costing type not selected","Warming",3),!1):""!=this.checkDup.trim()?(this.gen.showMessage("Item code or name should not be duplicated","Warming",3),!1):!(this.umslist.length<=0&&(this.gen.showMessage("Material Unites not entered","Warming",3),1))},t.prototype.delete=function(){var t=this;M.a.fire({title:"Deletes Material Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.item.RecordId=t.recordID,t.item.ShelfLifeReqd=1==+t.item.shelfLifeReqd?1:0,t.item.InventoryReqd=1==+t.item.InventoryReqd?1:0;for(var i=[],n=0,r=0;r<t.umslist.length;r++)t.umslist[r].mainid==t.umslist[r].stdid&&n++;for(r=0;r<t.umslist.length;r++)i.push({RecordId:t.recordID,Um:+t.umslist[r].mainid,StdUm:+t.umslist[r].stdid,ConversionFactor:t.umslist[r].conve});0==n&&i.push({RecordId:t.recordID,Um:+t.umslist[0].stdid,StdUm:+t.umslist[0].stdid,ConversionFactor:1}),t.inm.setInventoryItem(t.item,i,3).subscribe((function(e){var i=e;"OK"==i.result?(M.a.fire("Transaction Completed Successfully!","Material Details deleted.","success"),t.opened=0==t.recordID,t.makeCle(),t.listAdd()):M.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()}))}}))},t.prototype.save=function(){var t=this;this.valChk()&&M.a.fire({title:0==this.recordID?"Confirms Material Details":"Modifies Material Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.recordID>0&&(t.item.RecordId=t.recordID),t.item.ShelfLifeReqd=t.shelflife?1:0,t.item.InventoryReqd=t.invreqd?1:0;for(var i=[],n=0,r=0;r<t.umslist.length;r++)t.umslist[r].mainid==t.umslist[r].stdid&&n++;for(r=0;r<t.umslist.length;r++)i.push({RecordId:t.recordID,Um:+t.umslist[r].mainid,StdUm:+t.umslist[r].stdid,ConversionFactor:t.umslist[r].conve});0==n&&i.push({RecordId:t.recordID,Um:+t.umslist[0].stdid,StdUm:+t.umslist[0].stdid,ConversionFactor:1}),t.item.CostingType=+t.item.CostingType,t.inm.setInventoryItem(t.item,i,0==t.recordID?1:2).subscribe((function(e){var i=e;"OK"==i.result?(M.a.fire("Transaction Completed Successfully!","Material Details saved.","success"),t.opened=0==t.recordID,t.makeCle(),t.listAdd()):M.a.fire(i.result,"Some error in transaction","error"),t.spinner.hide()}))}}))},t.prototype.close=function(){this.opened=!1},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inu.getInvUms().subscribe((function(e){t.ums=e,t.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inm.getInventoryItems().subscribe((function(e){t.totalitems=e,t.searchItems(),t.loadPage(1),t.spinner.hide()}))},t.prototype.searchItems=function(){this.pageno=1,this.searchDetails()},t.prototype.loadPage=function(t){this.pageno=t,this.searchDetails(),this.page4=t},t.prototype.addUM=function(){var t=this;this.mainum<=0?this.gen.showMessage("Main Unit not mentioned","Warning",3):this.stdum<=0?this.gen.showMessage("Std Unit not mentioned","Warning",3):this.conve?this.conve<=0?this.gen.showMessage("Conversion of unit not mentioned","Warning",3):this.umslist.filter((function(e){return e.mainid==t.mainum})).length>0?this.gen.showMessage("These details are already specified","Warning",3):(this.umslist.push({mainid:this.mainum,mainum:this.getUM(this.mainum),conve:this.conve,stdid:this.stdum,stdum:this.getUM(this.stdum)}),this.mainum=-1,this.conve=0,this.stdumchk=!1):this.gen.showMessage("Conversion of unit not mentioned","Warning",3)},t.prototype.deleteUM=function(t){var e=this.umslist.indexOf(t);this.umslist.splice(e,1),0==this.umslist.length&&(this.stdumchk=!0)},t.prototype.getUM=function(t){var e="",i=this.ums.filter((function(e){return e.recordId==t}));return i.length>0&&(e=i[0].um),e},t.prototype.treeAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inm.getInvGroupsTreeWise().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){return Object(N.__generator)(this,(function(t){return this.treeObj=e,console.log(this.treeObj),this.spinner.hide(),[2]}))}))}))},t.prototype.toggleVisible=function(t){t.openCheck=!t.openCheck,this.item.Grp=t.recordId,this.grop=t.subGroup},t.prototype.toggleVisiblePlus=function(t){t.openCheck=!t.openCheck,this.item.Grp=t.recordId,this.grop=t.subGroup},t.prototype.searchDetails=function(){var t,e=this;t=""==this.searchtext.trim()?this.totalitems:this.totalitems.filter((function(t){return t.itemname.toUpperCase().includes(e.searchtext.toUpperCase())})),this.totalpages=t.length/this.PAGESIZE*10,this.items=[];for(var i=(this.pageno-1)*this.PAGESIZE,n=i+this.PAGESIZE-1,r=i;r<=n;r++){if(r==t.length)return;this.items.push(t[r])}},t.prototype.findDuplicate=function(t){var e=this;switch(this.checkDup="",t){case 1:var i=this.totalitems.filter((function(t){return t.itemcode.toUpperCase()==e.item.Itemid.toUpperCase()&&t.recordId!=e.recordID}));this.checkDup=i.length>0?"This Item Code is already existed":"";break;case 2:i=this.totalitems.filter((function(t){return t.itemname.toUpperCase()==e.item.ItemName.toUpperCase()&&t.recordId!=e.recordID})),this.checkDup=i.length>0?"This Item Name is already existed":""}},t.\u0275fac=function(e){return new(e||t)(c.Sb(s.a),c.Sb(Dt.a),c.Sb(Mt.a),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b),c.Sb(a.a))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-items-tra"]],decls:182,vars:32,consts:[["mode","push",3,"opened"],[2,"width","95%"],[2,"width","40%"],[1,"card",2,"height","530px"],[1,"card-header"],[1,"card-title"],[1,"card-content"],[1,"card-body"],[2,"width","100%","height","450px","border-color","black","border-style","solid","border-width","thin","height","450px","overflow-y","scroll"],[4,"ngFor","ngForOf"],[2,"width","60%"],[2,"width","100%","height","445px","border-color","black","border-style","solid","border-width","thin"],[2,"width","100%"],["align","right",2,"width","25%"],["align","left",2,"width","25%"],["type","text",1,"form-control",3,"ngModel","ngModelChange","input"],["colspan","2"],["color","red"],["align","right","valigh","middle",2,"width","25%"],["colspan","3","align","left"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","25%"],[1,"custom-control","custom-checkbox"],["type","checkbox","name","customCheck","id","custom-check-2",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","custom-check-2",1,"custom-control-label"],["type","checkbox","checked","","name","customCheck","id","custom-check-1",1,"custom-control-input",3,"ngModel","ngModelChange"],["for","custom-check-1",1,"custom-control-label"],[1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],[1,"form-control",3,"disabled","ngModel","ngModelChange"],["value","-1"],["value","3"],["value","4"],["value","5"],["colspan","4"],[3,"value",4,"ngFor","ngForOf"],[1,"form-control",3,"ngModel","disabled","ngModelChange"],["type","button",1,"btn","btn-success","round","mr-1","mb-1",3,"click"],[2,"overflow-y","scroll","width","100%","height","120px"],[2,"background-color","navy","color","yellow"],[2,"width","5%"],[2,"width","30%"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],["ng-sidebar-content",""],["align","left",2,"width","50%"],["type","button","class","btn-lg btn-success mr-1 mb-1",3,"click",4,"ngIf"],["align","right",2,"width","50%"],[1,"form-group","has-search"],[1,"fa","fa-search","form-control-feedback"],["type","text","placeholder","Search",1,"form-control",3,"ngModel","ngModelChange","input"],[3,"collectionSize","page","maxSize","rotate","boundaryLinks","pageChange"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[4,"ngIf"],["class","ft-chevron-right font-medium-1",3,"click",4,"ngIf"],["class","ft-chevron-down font-medium-1",3,"click",4,"ngIf"],[3,"click"],[1,"ft-chevron-right","font-medium-1",3,"click"],[1,"ft-chevron-down","font-medium-1",3,"click"],["style","left: 32px; position: relative;",4,"ngFor","ngForOf"],[2,"left","32px","position","relative"],[3,"value"],[1,"ft-trash-2","font-medium-1",3,"click"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],["scope","row"],["class","ft-edit font-medium-1",3,"click",4,"ngIf"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Yb(1,"ng-sidebar-container"),c.Yb(2,"ng-sidebar",0),c.Yb(3,"h3"),c.Wc(4,"Material Details"),c.Xb(),c.Yb(5,"table",1),c.Yb(6,"tr"),c.Yb(7,"td",2),c.Yb(8,"div",3),c.Yb(9,"div",4),c.Yb(10,"h5",5),c.Wc(11,"Select Material Group"),c.Xb(),c.Xb(),c.Yb(12,"div",6),c.Yb(13,"div",7),c.Yb(14,"div",8),c.Uc(15,Pt,7,4,"span",9),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(16,"td",10),c.Yb(17,"div",3),c.Yb(18,"div",4),c.Yb(19,"h5",5),c.Wc(20,"Details"),c.Xb(),c.Xb(),c.Yb(21,"div",6),c.Yb(22,"div",7),c.Yb(23,"div",11),c.Yb(24,"table",12),c.Yb(25,"tr"),c.Yb(26,"td",13),c.Yb(27,"span"),c.Wc(28," Material Code"),c.Xb(),c.Xb(),c.Yb(29,"td",14),c.Yb(30,"input",15),c.kc("ngModelChange",(function(t){return e.item.Itemid=t}))("input",(function(){return e.findDuplicate(1)})),c.Xb(),c.Xb(),c.Yb(31,"td",16),c.Yb(32,"span"),c.Yb(33,"font",17),c.Yb(34,"b"),c.Wc(35),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(36,"tr"),c.Yb(37,"td",18),c.Yb(38,"span"),c.Wc(39," Material Name "),c.Xb(),c.Xb(),c.Yb(40,"td",19),c.Yb(41,"input",15),c.kc("ngModelChange",(function(t){return e.item.ItemName=t}))("input",(function(){return e.findDuplicate(2)})),c.Xb(),c.Xb(),c.Xb(),c.Yb(42,"tr"),c.Yb(43,"td",13),c.Yb(44,"span"),c.Wc(45," Material Group"),c.Xb(),c.Xb(),c.Yb(46,"td",19),c.Yb(47,"input",20),c.kc("ngModelChange",(function(t){return e.grop=t})),c.Xb(),c.Xb(),c.Xb(),c.Yb(48,"tr"),c.Yb(49,"td",13),c.Yb(50,"span"),c.Wc(51," Std Price"),c.Xb(),c.Xb(),c.Yb(52,"td",14),c.Yb(53,"input",21),c.kc("ngModelChange",(function(t){return e.item.StdRate=t})),c.Xb(),c.Xb(),c.Yb(54,"td",13),c.Yb(55,"span"),c.Wc(56," Reorder Qty"),c.Xb(),c.Xb(),c.Yb(57,"td",14),c.Yb(58,"input",21),c.kc("ngModelChange",(function(t){return e.item.ReOrderQty=t})),c.Xb(),c.Xb(),c.Xb(),c.Yb(59,"tr"),c.Yb(60,"td",22),c.Wc(61," \xa0 "),c.Xb(),c.Yb(62,"td",14),c.Yb(63,"div",23),c.Yb(64,"input",24),c.kc("ngModelChange",(function(t){return e.shelflife=t})),c.Xb(),c.Yb(65,"label",25),c.Yb(66,"span"),c.Wc(67,"Shelf Life"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(68,"td",14),c.Wc(69," \xa0 "),c.Xb(),c.Yb(70,"td",22),c.Yb(71,"div",23),c.Yb(72,"input",26),c.kc("ngModelChange",(function(t){return e.invreqd=t})),c.Xb(),c.Yb(73,"label",27),c.Yb(74,"span"),c.Wc(75,"Inventory"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(76,"tr"),c.Yb(77,"td",13),c.Wc(78,"Status"),c.Xb(),c.Yb(79,"td",22),c.Yb(80,"select",28),c.kc("ngModelChange",(function(t){return e.item.Statu=t})),c.Yb(81,"option",29),c.Wc(82,"Active"),c.Xb(),c.Yb(83,"option",30),c.Wc(84,"Inactive"),c.Xb(),c.Xb(),c.Xb(),c.Yb(85,"td",13),c.Wc(86,"Costing type"),c.Xb(),c.Yb(87,"td",22),c.Yb(88,"select",31),c.kc("ngModelChange",(function(t){return e.item.CostingType=t})),c.Yb(89,"option",32),c.Wc(90,"--Select--"),c.Xb(),c.Yb(91,"option",29),c.Wc(92,"Allow Negative"),c.Xb(),c.Yb(93,"option",30),c.Wc(94,"FIFO"),c.Xb(),c.Yb(95,"option",33),c.Wc(96,"LIFO"),c.Xb(),c.Yb(97,"option",34),c.Wc(98,"Batch System"),c.Xb(),c.Yb(99,"option",35),c.Wc(100,"GIN System"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(101,"tr"),c.Yb(102,"td",36),c.Yb(103,"table",12),c.Yb(104,"tr"),c.Yb(105,"td",22),c.Yb(106,"span"),c.Wc(107," Unit"),c.Xb(),c.Xb(),c.Yb(108,"td",22),c.Yb(109,"span"),c.Wc(110," Conversion Factor"),c.Xb(),c.Xb(),c.Yb(111,"td",22),c.Yb(112,"span"),c.Wc(113," Std UM"),c.Xb(),c.Xb(),c.Yb(114,"td",22),c.Wc(115," \xa0 "),c.Xb(),c.Xb(),c.Yb(116,"tr"),c.Yb(117,"td",22),c.Yb(118,"select",28),c.kc("ngModelChange",(function(t){return e.mainum=t})),c.Uc(119,Lt,2,2,"option",37),c.Xb(),c.Xb(),c.Yb(120,"td",22),c.Yb(121,"input",21),c.kc("ngModelChange",(function(t){return e.conve=t})),c.Xb(),c.Xb(),c.Yb(122,"td",22),c.Yb(123,"select",38),c.kc("ngModelChange",(function(t){return e.stdum=t})),c.Uc(124,Ft,2,2,"option",37),c.Xb(),c.Xb(),c.Yb(125,"td",22),c.Yb(126,"button",39),c.kc("click",(function(){return e.addUM()})),c.Wc(127,"Add"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(128,"tr"),c.Yb(129,"td",36),c.Yb(130,"div",40),c.Yb(131,"table",12),c.Yb(132,"tr",41),c.Yb(133,"td",42),c.Wc(134,"#"),c.Xb(),c.Yb(135,"td",43),c.Wc(136,"Unit"),c.Xb(),c.Yb(137,"td",43),c.Wc(138,"Conversion"),c.Xb(),c.Yb(139,"td",43),c.Wc(140,"Std UM"),c.Xb(),c.Tb(141,"td",42),c.Xb(),c.Uc(142,Nt,11,4,"tr",9),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(143,"tr"),c.Yb(144,"td",16),c.Uc(145,Bt,2,1,"button",44),c.Yb(146,"button",45),c.kc("click",(function(){return e.save()})),c.Wc(147),c.Xb(),c.Yb(148,"button",46),c.kc("click",(function(){return e.close()})),c.Wc(149,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(150,"div",47),c.Yb(151,"nav"),c.Yb(152,"h3"),c.Wc(153," List of Materials "),c.Xb(),c.Yb(154,"table",12),c.Yb(155,"tr"),c.Yb(156,"td",48),c.Uc(157,Gt,2,0,"button",49),c.Xb(),c.Yb(158,"td",50),c.Yb(159,"div",51),c.Tb(160,"span",52),c.Yb(161,"input",53),c.kc("ngModelChange",(function(t){return e.searchtext=t}))("input",(function(){return e.searchItems()})),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(162,"ngb-pagination",54),c.kc("pageChange",(function(t){return e.loadPage(t)}))("pageChange",(function(t){return e.page4=t})),c.Xb(),c.Yb(163,"table",55),c.Yb(164,"thead",56),c.Yb(165,"tr"),c.Yb(166,"th"),c.Wc(167,"#"),c.Xb(),c.Yb(168,"th"),c.Wc(169,"Material"),c.Xb(),c.Yb(170,"th"),c.Wc(171,"Group"),c.Xb(),c.Yb(172,"th"),c.Wc(173,"Min Qty"),c.Xb(),c.Yb(174,"th"),c.Wc(175,"Std UM"),c.Xb(),c.Yb(176,"th"),c.Wc(177,"Status"),c.Xb(),c.Tb(178,"th"),c.Xb(),c.Xb(),c.Yb(179,"tbody"),c.Uc(180,_t,15,7,"tr",9),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Uc(181,$t,3,0,"div",57)),2&t&&(c.Db(2),c.vc("opened",e.opened),c.Db(13),c.vc("ngForOf",e.treeObj),c.Db(15),c.vc("ngModel",e.item.Itemid),c.Db(5),c.Yc(" ",e.checkDup," "),c.Db(6),c.vc("ngModel",e.item.ItemName),c.Db(6),c.vc("ngModel",e.grop),c.Db(6),c.vc("ngModel",e.item.StdRate),c.Db(5),c.vc("ngModel",e.item.ReOrderQty),c.Db(6),c.vc("ngModel",e.shelflife),c.Db(8),c.vc("ngModel",e.invreqd),c.Db(8),c.vc("ngModel",e.item.Statu),c.Db(8),c.vc("disabled",!e.costingtypecheck)("ngModel",e.item.CostingType),c.Db(30),c.vc("ngModel",e.mainum),c.Db(1),c.vc("ngForOf",e.ums),c.Db(2),c.vc("ngModel",e.conve),c.Db(2),c.vc("ngModel",e.stdum)("disabled",e.umslist.length>0),c.Db(1),c.vc("ngForOf",e.ums),c.Db(18),c.vc("ngForOf",e.umslist),c.Db(3),c.vc("ngIf",e.delVisible),c.Db(1),c.vc("disabled",!e.creCheck),c.Db(1),c.Xc(e.saveStr),c.Db(10),c.vc("ngIf",!e.opened),c.Db(4),c.vc("ngModel",e.searchtext),c.Db(1),c.vc("collectionSize",e.totalpages)("page",e.page4)("maxSize",5)("rotate",!0)("boundaryLinks",!0),c.Db(18),c.vc("ngForOf",e.items),c.Db(1),c.vc("ngIf",!e.authCheck))},directives:[b.a,K.b,K.a,n.o,l.c,l.q,l.t,l.v,l.b,l.z,l.u,l.B,n.p,_.A],styles:["li[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{font-size:small}li[_ngcontent-%COMP%]{font-family:Arial,Helvetica,sans-serif}ng-sidebar-container[_ngcontent-%COMP%]{height:100vh}  .ng-sidebar{background-color:#fff;width:80%}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:2.375rem}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}"]}),t}(),Et=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getKeyRepUnits=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invKeyReportsController/GetKeyRepInvUnits",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getKeyRepStores=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invKeyReportsController/GetKeyRepInvStores",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getKeyRepItemGroups=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invKeyReportsController/GetKeyRepInvItemGroups",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getKeyRepItems=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invKeyReportsController/GetKeyRepInvItems",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getKeyRepDepartments=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invKeyReportsController/GetKeyRepInvDepartments",this.userdetails.usr,this.adm.makeConfig())},t.prototype.getKeyRepLosses=function(){return this.userdetails=this.adm.getUserCompleteInformation(),this.http.post(this.adm.getActualURL()+"api/invKeyReportsController/GetKeyRepInvLosses",this.userdetails.usr,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(c.gc(a.a),c.gc(I.a))},t.\u0275prov=c.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function jt(t,e){if(1&t&&(c.Yb(0,"div",10),c.Yb(1,"div",11),c.Tb(2,"i",12),c.Yb(3,"div",13),c.Yb(4,"a",14),c.Wc(5,"Download Pdf"),c.Xb(),c.Yb(6,"a",15),c.Wc(7,"Download Excel"),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(4),c.vc("href",i.pdffile,c.Oc),c.Db(2),c.vc("href",i.excelfile,c.Oc)}}function Vt(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",22),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index;c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.department),c.Db(2),c.Xc(i.area)}}function Qt(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td",23),c.Yb(2,"span",24),c.Wc(3," No records found "),c.Xb(),c.Xb(),c.Xb())}function Kt(t,e){if(1&t&&(c.Yb(0,"div",16),c.Yb(1,"div",17),c.Yb(2,"div",18),c.Yb(3,"table",19),c.Yb(4,"thead",20),c.Yb(5,"tr"),c.Yb(6,"th"),c.Wc(7,"#"),c.Xb(),c.Yb(8,"th"),c.Wc(9,"Department"),c.Xb(),c.Yb(10,"th"),c.Wc(11,"Area"),c.Xb(),c.Xb(),c.Xb(),c.Yb(12,"tbody"),c.Uc(13,Vt,7,3,"tr",21),c.Uc(14,Qt,4,0,"tr",1),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(13),c.vc("ngForOf",i.details),c.Db(1),c.vc("ngIf",i.details.length<=0)}}function Jt(t,e){if(1&t&&(c.Yb(0,"section",2),c.Yb(1,"div",3),c.Yb(2,"div",4),c.Yb(3,"div",5),c.Yb(4,"div",6),c.Yb(5,"h3",7),c.Wc(6,"List of Departments"),c.Xb(),c.Uc(7,jt,8,2,"div",8),c.Xb(),c.Uc(8,Kt,15,2,"div",9),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc();c.Db(7),c.vc("ngIf",i.details),c.Db(1),c.vc("ngIf",i.details)}}function Ht(t,e){1&t&&(c.Yb(0,"span"),c.Yb(1,"h2"),c.Wc(2,"Please verify your authorization"),c.Xb(),c.Xb())}var te=function(){function t(t,e,i,n,r){this.akey=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.adm.screenCheck(2,9,1,0)?(this.authCheck=!0,this.listAdd()):(this.authCheck=!1,this.router.navigateByUrl("inventory/invunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.akey.getKeyRepDepartments().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return this.details=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdffile,this.excelfile=this.adm.getReportsURL()+t.excelfile,this.spinner.hide(),[2]}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(Et),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-key-rep-departments"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],["class","position-relative float-right",4,"ngIf"],["class","card-content",4,"ngIf"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"],["colspan","3","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,Jt,9,2,"section",0),c.Uc(2,Ht,3,0,"span",1)),2&t&&(c.Db(1),c.vc("ngIf",e.authCheck),c.Db(1),c.vc("ngIf",!e.authCheck))},directives:[b.a,n.p,_.l,_.o,_.n,n.o],styles:[""]}),t}();function ee(t,e){if(1&t&&(c.Yb(0,"div",10),c.Yb(1,"div",11),c.Tb(2,"i",12),c.Yb(3,"div",13),c.Yb(4,"a",14),c.Wc(5,"Download Pdf"),c.Xb(),c.Yb(6,"a",15),c.Wc(7,"Download Excel"),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(4),c.vc("href",i.pdffile,c.Oc),c.Db(2),c.vc("href",i.excelfile,c.Oc)}}function ie(t,e){1&t&&(c.Yb(0,"span"),c.Wc(1,"Active"),c.Xb())}function ne(t,e){1&t&&(c.Yb(0,"span"),c.Wc(1,"Inactive"),c.Xb())}function re(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",22),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Uc(8,ie,2,0,"span",1),c.Uc(9,ne,2,0,"span",1),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index;c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.sGrp),c.Db(2),c.Xc(i.mGrp),c.Db(2),c.vc("ngIf",1==i.statu),c.Db(1),c.vc("ngIf",1!=i.statu)}}function oe(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td",23),c.Yb(2,"span",24),c.Wc(3," No records found "),c.Xb(),c.Xb(),c.Xb())}function ae(t,e){if(1&t&&(c.Yb(0,"div",16),c.Yb(1,"div",17),c.Yb(2,"div",18),c.Yb(3,"table",19),c.Yb(4,"thead",20),c.Yb(5,"tr"),c.Yb(6,"th"),c.Wc(7,"#"),c.Xb(),c.Yb(8,"th"),c.Wc(9,"Group"),c.Xb(),c.Yb(10,"th"),c.Wc(11,"Main Group"),c.Xb(),c.Yb(12,"th"),c.Wc(13,"Status"),c.Xb(),c.Xb(),c.Xb(),c.Yb(14,"tbody"),c.Uc(15,re,10,5,"tr",21),c.Uc(16,oe,4,0,"tr",1),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(15),c.vc("ngForOf",i.details),c.Db(1),c.vc("ngIf",i.details.length<=0)}}function se(t,e){if(1&t&&(c.Yb(0,"section",2),c.Yb(1,"div",3),c.Yb(2,"div",4),c.Yb(3,"div",5),c.Yb(4,"div",6),c.Yb(5,"h3",7),c.Wc(6,"List of Item Groups"),c.Xb(),c.Uc(7,ee,8,2,"div",8),c.Xb(),c.Uc(8,ae,17,2,"div",9),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc();c.Db(7),c.vc("ngIf",i.details),c.Db(1),c.vc("ngIf",i.details)}}function ce(t,e){1&t&&(c.Yb(0,"span"),c.Yb(1,"h2"),c.Wc(2,"Please verify your authorization"),c.Xb(),c.Xb())}var be=function(){function t(t,e,i,n,r){this.akey=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.adm.screenCheck(2,9,1,0)?(this.authCheck=!0,this.listAdd()):(this.authCheck=!1,this.router.navigateByUrl("inventory/invunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.akey.getKeyRepItemGroups().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return this.details=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdffile,this.excelfile=this.adm.getReportsURL()+t.excelfile,this.spinner.hide(),[2]}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(Et),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-key-rep-item-groups"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],["class","position-relative float-right",4,"ngIf"],["class","card-content",4,"ngIf"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"],["colspan","4","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,se,9,2,"section",0),c.Uc(2,ce,3,0,"span",1)),2&t&&(c.Db(1),c.vc("ngIf",e.authCheck),c.Db(1),c.vc("ngIf",!e.authCheck))},directives:[b.a,n.p,_.l,_.o,_.n,n.o],styles:[""]}),t}();function le(t,e){if(1&t&&(c.Yb(0,"div",10),c.Yb(1,"div",11),c.Tb(2,"i",12),c.Yb(3,"div",13),c.Yb(4,"a",14),c.Wc(5,"Download Pdf"),c.Xb(),c.Yb(6,"a",15),c.Wc(7,"Download Excel"),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(4),c.vc("href",i.pdffile,c.Oc),c.Db(2),c.vc("href",i.excelfile,c.Oc)}}function de(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",22),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Wc(10),c.Xb(),c.Yb(11,"td"),c.Wc(12),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index;c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.itemname),c.Db(2),c.Xc(i.grpname),c.Db(2),c.Xc(i.itemid),c.Db(2),c.Xc(i.um),c.Db(2),c.Xc(i.branchid)}}function he(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td",23),c.Yb(2,"span",24),c.Wc(3," No records found "),c.Xb(),c.Xb(),c.Xb())}function ue(t,e){if(1&t&&(c.Yb(0,"div",16),c.Yb(1,"div",17),c.Yb(2,"div",18),c.Yb(3,"table",19),c.Yb(4,"thead",20),c.Yb(5,"tr"),c.Yb(6,"th"),c.Wc(7,"#"),c.Xb(),c.Yb(8,"th"),c.Wc(9,"Item"),c.Xb(),c.Yb(10,"th"),c.Wc(11,"Group"),c.Xb(),c.Yb(12,"th"),c.Wc(13,"Min Qty"),c.Xb(),c.Yb(14,"th"),c.Wc(15,"Std UOM"),c.Xb(),c.Yb(16,"th"),c.Wc(17,"Status"),c.Xb(),c.Xb(),c.Xb(),c.Yb(18,"tbody"),c.Uc(19,de,13,6,"tr",21),c.Uc(20,he,4,0,"tr",1),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(19),c.vc("ngForOf",i.details),c.Db(1),c.vc("ngIf",i.details.length<=0)}}function pe(t,e){if(1&t&&(c.Yb(0,"section",2),c.Yb(1,"div",3),c.Yb(2,"div",4),c.Yb(3,"div",5),c.Yb(4,"div",6),c.Yb(5,"h3",7),c.Wc(6,"List of Items"),c.Xb(),c.Uc(7,le,8,2,"div",8),c.Xb(),c.Uc(8,ue,21,2,"div",9),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc();c.Db(7),c.vc("ngIf",i.details),c.Db(1),c.vc("ngIf",i.details)}}function me(t,e){1&t&&(c.Yb(0,"span"),c.Yb(1,"h2"),c.Wc(2,"Please verify your authorization"),c.Xb(),c.Xb())}var fe=function(){function t(t,e,i,n,r){this.akey=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.adm.screenCheck(2,9,1,0)?(this.authCheck=!0,this.listAdd()):(this.authCheck=!1,this.router.navigateByUrl("inventory/invunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.akey.getKeyRepItems().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return this.details=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdffile,this.excelfile=this.adm.getReportsURL()+t.excelfile,this.spinner.hide(),[2]}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(Et),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-key-rep-items"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],["class","position-relative float-right",4,"ngIf"],["class","card-content",4,"ngIf"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"],["colspan","6","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,pe,9,2,"section",0),c.Uc(2,me,3,0,"span",1)),2&t&&(c.Db(1),c.vc("ngIf",e.authCheck),c.Db(1),c.vc("ngIf",!e.authCheck))},directives:[b.a,n.p,_.l,_.o,_.n,n.o],styles:[""]}),t}();function ge(t,e){if(1&t&&(c.Yb(0,"div",10),c.Yb(1,"div",11),c.Tb(2,"i",12),c.Yb(3,"div",13),c.Yb(4,"a",14),c.Wc(5,"Download Pdf"),c.Xb(),c.Yb(6,"a",15),c.Wc(7,"Download Excel"),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(4),c.vc("href",i.pdffile,c.Oc),c.Db(2),c.vc("href",i.excelfile,c.Oc)}}function ve(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",22),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index;c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.lossName),c.Db(2),c.Yc("",i.allowableper,"%")}}function Xe(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td",23),c.Yb(2,"span",24),c.Wc(3," No records found "),c.Xb(),c.Xb(),c.Xb())}function Ye(t,e){if(1&t&&(c.Yb(0,"div",16),c.Yb(1,"div",17),c.Yb(2,"div",18),c.Yb(3,"table",19),c.Yb(4,"thead",20),c.Yb(5,"tr"),c.Yb(6,"th"),c.Wc(7,"#"),c.Xb(),c.Yb(8,"th"),c.Wc(9,"Loss"),c.Xb(),c.Yb(10,"th"),c.Wc(11,"Allowable"),c.Xb(),c.Xb(),c.Xb(),c.Yb(12,"tbody"),c.Uc(13,ve,7,3,"tr",21),c.Uc(14,Xe,4,0,"tr",1),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(13),c.vc("ngForOf",i.details),c.Db(1),c.vc("ngIf",i.details.length<=0)}}function ye(t,e){if(1&t&&(c.Yb(0,"section",2),c.Yb(1,"div",3),c.Yb(2,"div",4),c.Yb(3,"div",5),c.Yb(4,"div",6),c.Yb(5,"h3",7),c.Wc(6,"List of Losses"),c.Xb(),c.Uc(7,ge,8,2,"div",8),c.Xb(),c.Uc(8,Ye,15,2,"div",9),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc();c.Db(7),c.vc("ngIf",i.details),c.Db(1),c.vc("ngIf",i.details)}}function ke(t,e){1&t&&(c.Yb(0,"span"),c.Yb(1,"h2"),c.Wc(2,"Please verify your authorization"),c.Xb(),c.Xb())}var Ie=function(){function t(t,e,i,n,r){this.akey=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.adm.screenCheck(2,9,1,0)?(this.authCheck=!0,this.listAdd()):(this.authCheck=!1,this.router.navigateByUrl("inventory/invunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.akey.getKeyRepLosses().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return this.details=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdffile,this.excelfile=this.adm.getReportsURL()+t.excelfile,this.spinner.hide(),[2]}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(Et),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-key-rep-losses"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],["class","position-relative float-right",4,"ngIf"],["class","card-content",4,"ngIf"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"],["colspan","3","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,ye,9,2,"section",0),c.Uc(2,ke,3,0,"span",1)),2&t&&(c.Db(1),c.vc("ngIf",e.authCheck),c.Db(1),c.vc("ngIf",!e.authCheck))},directives:[b.a,n.p,_.l,_.o,_.n,n.o],styles:[""]}),t}();function Ce(t,e){if(1&t&&(c.Yb(0,"div",10),c.Yb(1,"div",11),c.Tb(2,"i",12),c.Yb(3,"div",13),c.Yb(4,"a",14),c.Wc(5,"Download Pdf"),c.Xb(),c.Yb(6,"a",15),c.Wc(7,"Download Excel"),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(4),c.vc("href",i.pdffile,c.Oc),c.Db(2),c.vc("href",i.excelfile,c.Oc)}}function De(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",22),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index;c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.storeCode),c.Db(2),c.Xc(i.storeName),c.Db(2),c.Xc(i.storeIncharge)}}function Me(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td",23),c.Yb(2,"span",24),c.Wc(3," No records found "),c.Xb(),c.Xb(),c.Xb())}function We(t,e){if(1&t&&(c.Yb(0,"div",16),c.Yb(1,"div",17),c.Yb(2,"div",18),c.Yb(3,"table",19),c.Yb(4,"thead",20),c.Yb(5,"tr"),c.Yb(6,"th"),c.Wc(7,"#"),c.Xb(),c.Yb(8,"th"),c.Wc(9,"Store Code"),c.Xb(),c.Yb(10,"th"),c.Wc(11,"Store Name"),c.Xb(),c.Yb(12,"th"),c.Wc(13,"Store Incharge"),c.Xb(),c.Xb(),c.Xb(),c.Yb(14,"tbody"),c.Uc(15,De,9,4,"tr",21),c.Uc(16,Me,4,0,"tr",1),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(15),c.vc("ngForOf",i.details),c.Db(1),c.vc("ngIf",i.details.length<=0)}}function we(t,e){if(1&t&&(c.Yb(0,"section",2),c.Yb(1,"div",3),c.Yb(2,"div",4),c.Yb(3,"div",5),c.Yb(4,"div",6),c.Yb(5,"h3",7),c.Wc(6,"List of Stores"),c.Xb(),c.Uc(7,Ce,8,2,"div",8),c.Xb(),c.Uc(8,We,17,2,"div",9),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc();c.Db(7),c.vc("ngIf",i.details),c.Db(1),c.vc("ngIf",i.details)}}function Se(t,e){1&t&&(c.Yb(0,"span"),c.Yb(1,"h2"),c.Wc(2,"Please verify your authorization"),c.Xb(),c.Xb())}var Oe=function(){function t(t,e,i,n,r){this.akey=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.adm.screenCheck(2,9,1,0)?(this.authCheck=!0,this.listAdd()):(this.authCheck=!1,this.router.navigateByUrl("inventory/invunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.akey.getKeyRepStores().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return this.details=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdffile,this.excelfile=this.adm.getReportsURL()+t.excelfile,this.spinner.hide(),[2]}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(Et),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-key-rep-stores"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],["class","position-relative float-right",4,"ngIf"],["class","card-content",4,"ngIf"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"],["colspan","4","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,we,9,2,"section",0),c.Uc(2,Se,3,0,"span",1)),2&t&&(c.Db(1),c.vc("ngIf",e.authCheck),c.Db(1),c.vc("ngIf",!e.authCheck))},directives:[b.a,n.p,_.l,_.o,_.n,n.o],styles:[""]}),t}();function xe(t,e){if(1&t&&(c.Yb(0,"div",10),c.Yb(1,"div",11),c.Tb(2,"i",12),c.Yb(3,"div",13),c.Yb(4,"a",14),c.Wc(5,"Download Pdf"),c.Xb(),c.Yb(6,"a",15),c.Wc(7,"Download Excel"),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(4),c.vc("href",i.pdffile,c.Oc),c.Db(2),c.vc("href",i.excelfile,c.Oc)}}function Ue(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",22),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index;c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.um)}}function Te(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td",23),c.Yb(2,"span",24),c.Wc(3," No records found "),c.Xb(),c.Xb(),c.Xb())}function Ae(t,e){if(1&t&&(c.Yb(0,"div",16),c.Yb(1,"div",17),c.Yb(2,"div",18),c.Yb(3,"table",19),c.Yb(4,"thead",20),c.Yb(5,"tr"),c.Yb(6,"th"),c.Wc(7,"#"),c.Xb(),c.Yb(8,"th"),c.Wc(9,"Unit"),c.Xb(),c.Xb(),c.Xb(),c.Yb(10,"tbody"),c.Uc(11,Ue,5,2,"tr",21),c.Uc(12,Te,4,0,"tr",1),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(2);c.Db(11),c.vc("ngForOf",i.units),c.Db(1),c.vc("ngIf",i.units.length<=0)}}function Re(t,e){if(1&t&&(c.Yb(0,"section",2),c.Yb(1,"div",3),c.Yb(2,"div",4),c.Yb(3,"div",5),c.Yb(4,"div",6),c.Yb(5,"h3",7),c.Wc(6,"List of Units"),c.Xb(),c.Uc(7,xe,8,2,"div",8),c.Xb(),c.Uc(8,Ae,13,2,"div",9),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc();c.Db(7),c.vc("ngIf",i.units),c.Db(1),c.vc("ngIf",i.units)}}function qe(t,e){1&t&&(c.Yb(0,"span"),c.Yb(1,"h2"),c.Wc(2,"Please verify your authorization"),c.Xb(),c.Xb())}var Pe=function(){function t(t,e,i,n,r){this.akey=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.pdffile="",this.excelfile="",this.searchtext="",this.authCheck=!1,this.adm.screenCheck(2,9,1,0)?(this.authCheck=!0,this.listAdd()):(this.authCheck=!1,this.router.navigateByUrl("inventory/invunauthorize"))}return t.prototype.ngOnInit=function(){},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.akey.getKeyRepUnits().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return this.units=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdffile,this.excelfile=this.adm.getReportsURL()+t.excelfile,this.spinner.hide(),[2]}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(Et),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-key-rep-units"]],decls:3,vars:2,consts:[["id","light",4,"ngIf"],[4,"ngIf"],["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],["class","position-relative float-right",4,"ngIf"],["class","card-content",4,"ngIf"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"],["scope","row"],["colspan","2","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,Re,9,2,"section",0),c.Uc(2,qe,3,0,"span",1)),2&t&&(c.Db(1),c.vc("ngIf",e.authCheck),c.Db(1),c.vc("ngIf",!e.authCheck))},directives:[b.a,n.p,_.l,_.o,_.n,n.o],styles:[""]}),t}();function Le(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",15),c.kc("click",(function(){return c.Mc(i),c.oc().deleteStore()})),c.Wc(1,"Delete"),c.Xb()}if(2&t){var n=c.oc();c.vc("disabled",!n.delCheck)}}function Fe(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",16),c.kc("click",(function(){return c.Mc(i),c.oc().openNew()})),c.Wc(1,"New"),c.Xb()}}function Ne(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",19),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc().openOld(t)})),c.Xb()}}function Be(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",17),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Uc(8,Ne,1,0,"i",18),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index,r=c.oc();c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.lossName),c.Db(2),c.Xc(i.allowableper),c.Db(2),c.vc("ngIf",!r.opened)}}var Ge=function(){function t(t,e,i,n,r){this.inv=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.creCheck=!1,this.delCheck=!1,this.delVisible=!1,this.saveStr="",this.lossname="",this.allowableper=0,this.recordID=0,this.opened=!1,this.adm.screenCheck(3,1,7,0)?(this.delCheck=this.adm.screenCheck(3,1,7,3),this.listAdd()):this.router.navigateByUrl("inventory/invunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.creCheck=this.adm.screenCheck(3,1,7,1),this.saveStr="Save",this.opened=!0},t.prototype.makeCle=function(){this.delVisible=!1,this.recordID=0,this.lossname="",this.allowableper=0},t.prototype.openOld=function(t){this.recordID=t.recordId,this.lossname=t.lossName,this.allowableper=t.allowableper,this.delVisible=!0,this.creCheck=this.adm.screenCheck(3,1,7,2),this.saveStr="Modify",this.opened=!0},t.prototype.valChk=function(){return""==this.lossname.trim()?(this.toastr.warning("Loss not mentioned","Warning"),!1):!(this.allowableper<=0&&(this.toastr.warning("Allowable % not mentioned","Warning"),1))},t.prototype.deleteStore=function(){var t=this;M.a.fire({title:"Deletes Loss Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&t.inv.setInvLosses({RecordId:t.recordID,LossName:t.lossname,Allowableper:t.allowableper},3).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return"OK"==(t=e).result?(M.a.fire("Transaction Completed Successfully","Loss details deleted","success"),this.listAdd(),this.makeCle(),this.opened=!1):M.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))}))}))},t.prototype.saveStore=function(){var t=this;this.valChk()&&M.a.fire({title:0==this.recordID?"Confirms Loss Details":"Modifies Loss Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&t.inv.setInvLosses({RecordId:t.recordID,LossName:t.lossname,Allowableper:t.allowableper},0==t.recordID?1:2).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return"OK"==(t=e).result?(M.a.fire("Transaction Completed Successfully","Loss details saved","success"),this.listAdd(),0==this.recordID?(this.makeCle(),this.opened=!0):(this.makeCle(),this.opened=!1)):M.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))}))}))},t.prototype.close=function(){this.opened=!1},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvLosses().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){return Object(N.__generator)(this,(function(t){return this.losses=e,console.log(this.losses),this.spinner.hide(),[2]}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(s.a),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-losses-list"]],decls:44,vars:8,consts:[["mode","push",3,"opened"],[2,"width","60%"],[2,"width","100%"],["type","text","id","basicInput","placeholder","Loss Name","ngDefaultControl","",1,"form-control",2,"width","90%",3,"ngModel","ngModelChange"],["type","number","id","basicInput","placeholder","Allowable %","ngDefaultControl","",1,"form-control",2,"width","90%",3,"ngModel","ngModelChange"],["colspan","2"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],["ng-sidebar-content",""],["align","left"],["type","button","class","btn-lg btn-success mr-1 mb-1",3,"click",4,"ngIf"],[1,"table","m-0",2,"width","60%"],[1,"thead-light"],[4,"ngFor","ngForOf"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],["scope","row"],["class","ft-edit font-medium-1",3,"click",4,"ngIf"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Yb(1,"ng-sidebar-container"),c.Yb(2,"ng-sidebar",0),c.Yb(3,"h3"),c.Wc(4," Loss Details "),c.Xb(),c.Tb(5,"br"),c.Yb(6,"table",1),c.Yb(7,"tr"),c.Yb(8,"td",2),c.Yb(9,"input",3),c.kc("ngModelChange",(function(t){return e.lossname=t})),c.Xb(),c.Xb(),c.Xb(),c.Yb(10,"tr"),c.Yb(11,"td",2),c.Yb(12,"input",4),c.kc("ngModelChange",(function(t){return e.allowableper=t})),c.Xb(),c.Xb(),c.Xb(),c.Yb(13,"tr"),c.Yb(14,"td",5),c.Wc(15," \xa0 "),c.Xb(),c.Xb(),c.Yb(16,"tr"),c.Yb(17,"td",5),c.Uc(18,Le,2,1,"button",6),c.Yb(19,"button",7),c.kc("click",(function(){return e.saveStore()})),c.Wc(20),c.Xb(),c.Yb(21,"button",8),c.kc("click",(function(){return e.close()})),c.Wc(22,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(23,"div",9),c.Yb(24,"nav"),c.Yb(25,"h3"),c.Wc(26," List of Losses "),c.Xb(),c.Yb(27,"table",2),c.Yb(28,"tr"),c.Yb(29,"td",10),c.Uc(30,Fe,2,0,"button",11),c.Xb(),c.Xb(),c.Xb(),c.Yb(31,"table",12),c.Yb(32,"thead",13),c.Yb(33,"tr"),c.Yb(34,"th"),c.Wc(35,"#"),c.Xb(),c.Yb(36,"th"),c.Wc(37,"Loss"),c.Xb(),c.Yb(38,"th"),c.Wc(39,"Allowable %"),c.Xb(),c.Yb(40,"th"),c.Wc(41,"Open"),c.Xb(),c.Xb(),c.Xb(),c.Yb(42,"tbody"),c.Uc(43,Be,9,4,"tr",14),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t&&(c.Db(2),c.vc("opened",e.opened),c.Db(7),c.vc("ngModel",e.lossname),c.Db(3),c.vc("ngModel",e.allowableper),c.Db(6),c.vc("ngIf",e.delVisible),c.Db(1),c.vc("disabled",!e.creCheck),c.Db(1),c.Xc(e.saveStr),c.Db(10),c.vc("ngIf",!e.opened),c.Db(13),c.vc("ngForOf",e.losses))},directives:[b.a,K.b,K.a,l.c,l.q,l.t,l.v,n.p,n.o],styles:["ng-sidebar-container[_ngcontent-%COMP%]{height:100vh}  .ng-sidebar{background-color:#fff;width:55%}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:2.375rem}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#aaa}"]}),t}();function ze(t,e){if(1&t&&(c.Yb(0,"option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordId),c.Db(1),c.Xc(i.storeCode)}}function _e(t,e){if(1&t&&(c.Yb(0,"option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordid),c.Db(1),c.Xc(i.name)}}function $e(t,e){if(1&t&&(c.Yb(0,"ng-option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.vc("value",i.recordId),c.Db(1),c.Xc(i.itemname)}}function Ze(t,e){if(1&t&&(c.Yb(0,"option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.gin),c.Db(1),c.Xc(i.batchno)}}function Ee(t,e){if(1&t){var i=c.Zb();c.Yb(0,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc(2).material.grpname=t})),c.Xb()}if(2&t){var n=c.oc(2);c.vc("ngModel",n.material.grpname)}}function je(t,e){1&t&&c.Tb(0,"input",29)}function Ve(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"th",30),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Wc(10),c.Xb(),c.Yb(11,"td"),c.Wc(12),c.Xb(),c.Yb(13,"td"),c.Yb(14,"i",31),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(2).deleteLine(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit,r=e.index;c.Db(2),c.Xc(r+1),c.Db(2),c.Xc(n.traname),c.Db(2),c.Xc(n.materialname),c.Db(2),c.Xc(n.batchno),c.Db(2),c.Xc(n.qty),c.Db(2),c.Xc(n.um)}}function Qe(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"h3"),c.Wc(2),c.Xb(),c.Yb(3,"table",1),c.Yb(4,"tr"),c.Yb(5,"td",2),c.Wc(6,"Store"),c.Xb(),c.Yb(7,"td",3),c.Wc(8,"\xa0"),c.Xb(),c.Yb(9,"td",3),c.Wc(10,"Date"),c.Xb(),c.Xb(),c.Yb(11,"tr"),c.Yb(12,"td",2),c.Yb(13,"select",4),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().storeid=t}))("change",(function(){return c.Mc(i),c.oc().makeStoreWiseInfo()})),c.Uc(14,ze,2,2,"option",5),c.Xb(),c.Xb(),c.Yb(15,"td",3),c.Wc(16,"\xa0"),c.Xb(),c.Yb(17,"td",3),c.Tb(18,"input",6),c.pc(19,"date"),c.Xb(),c.Xb(),c.Yb(20,"tr"),c.Yb(21,"td",7),c.Wc(22),c.Xb(),c.Yb(23,"td",8),c.Wc(24,"Material"),c.Xb(),c.Yb(25,"td",9),c.Wc(26,"Batch"),c.Xb(),c.Yb(27,"td",10),c.Wc(28,"Total Available"),c.Xb(),c.Yb(29,"td",11),c.Wc(30,"Qty"),c.Xb(),c.Yb(31,"td",12),c.Wc(32,"UM"),c.Xb(),c.Yb(33,"td",13),c.Wc(34,"\xa0"),c.Xb(),c.Xb(),c.Yb(35,"tr"),c.Yb(36,"td",7),c.Yb(37,"select",14),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().traid=t}))("change",(function(){return c.Mc(i),c.oc().findtraDescr()})),c.Yb(38,"option",15),c.Wc(39,"--Select--"),c.Xb(),c.Uc(40,_e,2,2,"option",5),c.Xb(),c.Xb(),c.Yb(41,"td",8),c.Yb(42,"ng-select",16),c.kc("change",(function(t){return c.Mc(i),c.oc().makeUnits(t)})),c.Uc(43,$e,2,2,"ng-option",5),c.Xb(),c.Xb(),c.Yb(44,"td",9),c.Yb(45,"select",14),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().gin=t}))("change",(function(){return c.Mc(i),c.oc().findBatchQty()})),c.Uc(46,Ze,2,2,"option",5),c.Xb(),c.Xb(),c.Yb(47,"td",10),c.Yb(48,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().totalavailable=t})),c.Xb(),c.Xb(),c.Yb(49,"td",11),c.Yb(50,"input",18),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().qty=t})),c.Xb(),c.Xb(),c.Yb(51,"td",12),c.Yb(52,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().um=t})),c.Xb(),c.Xb(),c.Yb(53,"td",13),c.Yb(54,"button",19),c.kc("click",(function(){return c.Mc(i),c.oc().addLine()})),c.Wc(55,"Add"),c.Xb(),c.Xb(),c.Xb(),c.Yb(56,"tr"),c.Yb(57,"td",7),c.Wc(58,"\xa0"),c.Xb(),c.Yb(59,"td",8),c.Wc(60,"Group"),c.Xb(),c.Yb(61,"td",9),c.Wc(62,"Batch Available"),c.Xb(),c.Yb(63,"td",10),c.Wc(64,"\xa0"),c.Xb(),c.Yb(65,"td",11),c.Wc(66,"\xa0"),c.Xb(),c.Yb(67,"td",12),c.Wc(68,"\xa0"),c.Xb(),c.Yb(69,"td",13),c.Wc(70,"\xa0"),c.Xb(),c.Xb(),c.Yb(71,"tr"),c.Yb(72,"td",7),c.Yb(73,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().tradescription=t})),c.Xb(),c.Xb(),c.Yb(74,"td",8),c.Uc(75,Ee,1,1,"input",20),c.Uc(76,je,1,0,"input",21),c.Xb(),c.Yb(77,"td",9),c.Yb(78,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().batchavailable=t})),c.Xb(),c.Xb(),c.Yb(79,"td",10),c.Wc(80,"\xa0"),c.Xb(),c.Yb(81,"td",11),c.Wc(82,"\xa0"),c.Xb(),c.Yb(83,"td",12),c.Wc(84,"\xa0"),c.Xb(),c.Yb(85,"td",13),c.Wc(86,"\xa0"),c.Xb(),c.Xb(),c.Xb(),c.Yb(87,"div",22),c.Yb(88,"table",23),c.Yb(89,"thead",24),c.Yb(90,"tr"),c.Yb(91,"th"),c.Wc(92,"#"),c.Xb(),c.Yb(93,"th"),c.Wc(94),c.Xb(),c.Yb(95,"th"),c.Wc(96,"Material"),c.Xb(),c.Yb(97,"th"),c.Wc(98,"Batch/Gin"),c.Xb(),c.Yb(99,"th"),c.Wc(100,"Qty"),c.Xb(),c.Yb(101,"th"),c.Wc(102,"UOM"),c.Xb(),c.Tb(103,"th"),c.Xb(),c.Xb(),c.Yb(104,"tbody"),c.Uc(105,Ve,15,6,"tr",25),c.Xb(),c.Xb(),c.Xb(),c.Yb(106,"table",1),c.Yb(107,"tr"),c.Yb(108,"td",1),c.Yb(109,"button",26),c.kc("click",(function(){return c.Mc(i),c.oc().save()})),c.Wc(110,"Save"),c.Xb(),c.Yb(111,"button",27),c.kc("click",(function(){return c.Mc(i),c.oc().close()})),c.Wc(112,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(2),c.Yc("",n.title," Details"),c.Db(11),c.vc("disabled",n.lineItems.length>0)("ngModel",n.storeid),c.Db(1),c.vc("ngForOf",n.stores),c.Db(4),c.wc("value",c.rc(19,20,n.tradat,"dd-MMM-yy")),c.Db(4),c.Xc(n.title),c.Db(15),c.vc("ngModel",n.traid),c.Db(3),c.vc("ngForOf",n.tradets),c.Db(3),c.vc("ngForOf",n.materials),c.Db(2),c.vc("ngModel",n.gin),c.Db(1),c.vc("ngForOf",n.batches),c.Db(2),c.vc("ngModel",n.totalavailable),c.Db(2),c.vc("ngModel",n.qty),c.Db(2),c.vc("ngModel",n.um),c.Db(21),c.vc("ngModel",n.tradescription),c.Db(2),c.vc("ngIf",n.material),c.Db(1),c.vc("ngIf",!n.material),c.Db(2),c.vc("ngModel",n.batchavailable),c.Db(16),c.Xc(n.title),c.Db(11),c.vc("ngForOf",n.lineItems)}}function Ke(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"th",30),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Yb(6,"i",37),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(2).openOld(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit,r=e.index;c.Db(2),c.Xc(r+1),c.Db(2),c.Xc(n.descriptio)}}function Je(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"h3"),c.Wc(2),c.Xb(),c.Yb(3,"table",1),c.Yb(4,"tr"),c.Yb(5,"td",32),c.Wc(6,"Date"),c.Xb(),c.Yb(7,"td",9),c.Yb(8,"input",33),c.kc("input",(function(t){c.Mc(i);var e=c.oc();return e.listdate=e.parseDate(t.target.value)})),c.pc(9,"date"),c.Xb(),c.Xb(),c.Yb(10,"td",10),c.Yb(11,"button",34),c.kc("click",(function(){return c.Mc(i),c.oc().listAdd()})),c.Wc(12,"Show"),c.Xb(),c.Xb(),c.Yb(13,"td",35),c.Yb(14,"button",36),c.kc("click",(function(){return c.Mc(i),c.oc().openNew()})),c.Wc(15,"New"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(16,"table",23),c.Yb(17,"thead",24),c.Yb(18,"tr"),c.Yb(19,"th"),c.Wc(20,"#"),c.Xb(),c.Yb(21,"th"),c.Wc(22,"Description"),c.Xb(),c.Yb(23,"th"),c.Wc(24,"Open"),c.Xb(),c.Xb(),c.Xb(),c.Yb(25,"tbody"),c.Uc(26,Ke,7,2,"tr",25),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(2),c.Yc("List of ",n.title," Details"),c.Db(6),c.vc("value",c.rc(9,3,n.listdate,"yyyy-MM-dd")),c.Db(18),c.vc("ngForOf",n.transactions)}}function He(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",30),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index;c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.itemname),c.Db(2),c.Xc(i.qtyout),c.Db(2),c.Xc(i.um)}}function ti(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"table",1),c.Yb(2,"tr"),c.Yb(3,"td",38),c.Tb(4,"input",39),c.pc(5,"date"),c.Xb(),c.Yb(6,"td",40),c.Wc(7,"\xa0"),c.Xb(),c.Xb(),c.Yb(8,"tr"),c.Yb(9,"td",41),c.Yb(10,"table",23),c.Yb(11,"thead",24),c.Yb(12,"tr"),c.Yb(13,"th"),c.Wc(14,"#"),c.Xb(),c.Yb(15,"th"),c.Wc(16,"Item"),c.Xb(),c.Yb(17,"th"),c.Wc(18,"Qty"),c.Xb(),c.Yb(19,"th"),c.Wc(20,"UOM"),c.Xb(),c.Xb(),c.Xb(),c.Yb(21,"tbody"),c.Uc(22,He,9,4,"tr",25),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(23,"button",42),c.kc("click",(function(){return c.Mc(i),c.oc().delete()})),c.Wc(24,"Delete"),c.Xb(),c.Yb(25,"button",27),c.kc("click",(function(){return c.Mc(i),c.oc().close()})),c.Wc(26,"Close"),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(4),c.wc("value",c.rc(5,2,n.oldDetails.header.dat,"dd-MMM-yy")),c.Db(18),c.vc("ngForOf",n.oldDetails.lines)}}var ei=function(){function t(t,e,i,n){switch(this.inv=t,this.adm=e,this.router=i,this.spinner=n,this.tracode=102,this.title="",this.traid=-1,this.description="",this.opened=1,this.tradescription="",this.batches=[],this.um="",this.gin="",this.totalavailable=0,this.batchavailable=0,this.lineItems=[],this.mgtItems=[],this.qty=0,this.slno=1,this.storeid=0,this.tradat=new Date,this.listdate=new Date,this.menuCode=0,this.recordId=0,this.tracode){case 102:this.title="Losses",this.menuCode=3;break;case 103:this.title="Issues",this.menuCode=1}this.adm.screenCheck(3,2,this.menuCode,0)?(this.addRequirements(),this.listAdd()):this.router.navigateByUrl("inventory/invunauthorize")}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvTransactions(this.adm.stringData(this.listdate),this.title).subscribe((function(e){t.transactions=e,console.log(e),t.spinner.hide()}))},t.prototype.addRequirements=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvLossesTraRequirements(this.tracode).subscribe((function(e){var i=e;t.totalinfo=i,t.tradets=i.trans,t.stores=i.stores,t.stores.length>0&&(t.storeid=+t.stores[0].recordId,t.makeStoreWiseInfo()),t.materials=i.matinfo.totalmaterials,console.log(i,"requirements"),t.spinner.hide()}))},t.prototype.makeStoreWiseInfo=function(){var t=this;this.gininfo=this.totalinfo.matinfo.ginwiseinfo.filter((function(e){return e.store==+t.storeid}))},t.prototype.close=function(){this.opened=1},t.prototype.openNew=function(){this.opened=2,this.makeCle()},t.prototype.makeCle=function(){this.lineItems=[],this.mgtItems=[]},t.prototype.openOld=function(t){var e=this;this.opened=3,this.recordId=+t.recordId,this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvTransaction(t.recordId).subscribe((function(t){e.oldDetails=t,e.spinner.hide()}))},t.prototype.ngOnInit=function(){},t.prototype.makeUnits=function(t){var e=this;this.totalavailable=0,this.batchavailable=0;var i=this.materials.filter((function(e){return e.recordId==t}));i.length>0&&(this.material=i[0],this.um=i[0].um),this.batches=[];for(var n=this.gininfo.filter((function(t){return t.itemName==e.material.recordId})),r=0;r<n.length;r++)this.material.umid>=4&&this.batches.push({gin:n[r].gin,batchno:n[r].batchNo,qty:n[r].qtyin}),this.totalavailable=this.totalavailable+n[r].qtyin;var o=0;for(r=0;r<this.lineItems.length;r++)this.lineItems[r].materialid==this.material.recordId&&(o+=this.lineItems[r].qty);this.totalavailable=this.totalavailable-o},t.prototype.findtraDescr=function(){var t=this,e=this.tradets.filter((function(e){return e.recordid==+t.traid}));e.length>0&&(this.tradescription=e[0].description)},t.prototype.findBatchQty=function(){var t=this;this.batchavailable=0;var e=this.batches.filter((function(e){return e.gin==t.gin}));e.length>0&&(this.batchavailable=e[0].qty);for(var i=0,n=0;n<this.lineItems.length;n++)this.lineItems[n].gin==this.gin&&(i+=this.lineItems[n].qty);this.batchavailable=this.batchavailable-i},t.prototype.valCheckSmall=function(){return+this.traid<=0?(this.adm.showMessage(this.title+" not selected","Warning",3),!1):this.material?this.material.umid>=4&&""==this.gin.trim()?(this.adm.showMessage("Batch / GIN not selected","Warning",3),!1):this.material.umid>=4&&this.batchavailable<this.qty?(this.adm.showMessage("Batch / GIN does not contain selected qty","Warning",3),!1):!(this.material.umid>1&&this.totalavailable<this.qty&&(this.adm.showMessage("Qty is not avaialbel","Warning",3),1)):(this.adm.showMessage("Material not selected","Warning",3),!1)},t.prototype.addLine=function(){this.valCheckSmall()&&(this.lineItems.push({traid:+this.traid,traname:this.findTraName(),materialid:this.material.recordId,materialname:this.material.itemname,gin:this.material.umid<4?"":this.gin,batchno:this.material.umid<4?"":this.findBatchNo(),qty:this.qty,um:this.um,costingtype:this.material.umid,sno:this.slno}),this.slno++,this.traid=-1,this.material=null,this.batches=[],this.batchavailable=0,this.totalavailable=0,this.qty=0,this.um="",this.makeGinAdjustments())},t.prototype.makeGinAdjustments=function(){var t=this;this.mgtItems=[];for(var e=0;e<this.lineItems.length;e++)if(1==this.lineItems[e].costingtype||this.lineItems[e].costingtype>=4)this.mgtItems.push({traid:this.lineItems[e].traid,traname:this.lineItems[e].traname,materialid:this.lineItems[e].materialid,materialname:this.lineItems[e].materialname,gin:this.lineItems[e].gin,batchno:this.lineItems[e].batchno,qty:this.lineItems[e].qty,um:this.lineItems[e].um,costingtype:this.lineItems[e].costingtype,lineid:this.lineItems[e].sno});else{var i=this.gininfo.filter((function(i){return i.itemName==t.lineItems[e].materialid}));console.log(i);for(var n=this.lineItems[e].qty,r=0;r<i.length;r++)if(n>0){var o=i[r].qtyin-this.usedGinQty(i[r].gin);o>=n?(this.mgtItems.push({traid:this.lineItems[e].traid,traname:this.lineItems[e].traname,materialid:this.lineItems[e].materialid,materialname:this.lineItems[e].materialname,gin:i[r].gin,batchno:this.lineItems[e].batchno,qty:n,um:this.lineItems[e].um,costingtype:this.lineItems[e].costingtype,lineid:this.lineItems[e].sno}),n=0):(this.mgtItems.push({traid:this.lineItems[e].traid,traname:this.lineItems[e].traname,materialid:this.lineItems[e].materialid,materialname:this.lineItems[e].materialname,gin:i[r].gin,batchno:this.lineItems[e].batchno,qty:o,um:this.lineItems[e].um,costingtype:this.lineItems[e].costingtype,lineid:this.lineItems[e].sno}),n-=o)}}},t.prototype.usedGinQty=function(t){for(var e=this.mgtItems.filter((function(e){return e.gin==t})),i=0,n=0;n<e.length;n++)i+=this.mgtItems[n].qty;return i},t.prototype.deleteLine=function(t){var e=this.lineItems.indexOf(t);e>=0&&(this.lineItems.splice(e,1),this.makeGinAdjustments())},t.prototype.findBatchNo=function(){var t=this,e="",i=this.batches.filter((function(e){return e.gin==t.gin}));return i.length>0&&(e=i[0].batchno),e},t.prototype.findTraName=function(){var t=this,e="",i=this.tradets.filter((function(e){return e.recordid==+t.traid}));return i.length>0&&(e=i[0].name),e},t.prototype.valChk=function(){return+this.storeid<=0?(this.adm.showMessage("Select Store","Warning",3),!1):!(this.lineItems.length<=0&&(this.adm.showMessage("Items not selected","Warning",3),1))},t.prototype.delete=function(){var t=this;M.a.fire({title:"Deletes Transaction Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.inv.deleteInvTransaction(+t.recordId,t.title).subscribe((function(e){var i=e;"OK"==i.result?M.a.fire("Transaction Completed Successfully!",t.title+" Details deleted.","success"):M.a.fire(i.result,"Error in transaction.","error"),t.spinner.hide()})))}))},t.prototype.save=function(){var t=this;this.valChk()&&M.a.fire({title:"Confirms Transaction Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){for(var i={TraType:t.title,Descriptio:t.description},n=[],r=0;r<t.lineItems.length;r++)n.push({Sno:t.lineItems[r].sno,ItemId:+t.lineItems[r].materialid,Qtyin:0,Qtyout:+t.lineItems[r].qty});var o=[];for(r=0;r<t.mgtItems.length;r++)o.push({Sno:r+1,Gin:t.mgtItems[r].gin,ItemName:+t.mgtItems[r].materialid,Store:+t.storeid,Qtyin:0,Qtyout:t.mgtItems[r].qty,Department:t.mgtItems[r].traid,TransactionType:t.tracode,LineId:t.mgtItems[r].lineid});t.inv.setInvTransaction(i,n,o).subscribe((function(e){var i=e;"OK"==i.result?M.a.fire("Transaction Completed Successfully!",t.title+" Details saved.","success"):M.a.fire(i.result,"Error in transaction.","error")}))}}))},t.prototype.parseDate=function(t){return t?new Date(t):null},t.\u0275fac=function(e){return new(e||t)(c.Sb(C),c.Sb(a.a),c.Sb(r.c),c.Sb(b.c))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-losses-tra"]],decls:4,vars:3,consts:[[4,"ngIf"],[2,"width","100%"],["align","right",2,"width","22%"],["colspan","3"],[1,"form-control",3,"disabled","ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["type","text","disabled","",1,"form-control",3,"value"],[2,"width","22%"],[2,"width","30%"],[2,"width","15%"],[2,"width","10%"],[2,"width","9%"],[2,"width","8%"],[2,"width","6%"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","-1"],["id","cmbitem",3,"change"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],["type","text","disabled","","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","disabled","","class","form-control",4,"ngIf"],[2,"width","100%","height","350px","overflow-y","scroll"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[4,"ngFor","ngForOf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],[3,"value"],["type","text","disabled","",1,"form-control"],["scope","row"],[1,"ft-trash","font-medium-1",3,"click"],["align","right",2,"width","15%"],["type","date",1,"form-control",3,"value","input"],["type","button",1,"btn-lg","btn-success",3,"click"],["align","right",2,"width","60%"],["type","button",1,"btn-lg","btn-info",3,"click"],[1,"ft-edit","font-medium-1",3,"click"],[2,"width","20%"],["type","text",1,"form-control",3,"value"],[2,"width","80%"],["colspan","2"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,Qe,113,23,"div",0),c.Uc(2,Je,27,6,"div",0),c.Uc(3,ti,27,5,"div",0)),2&t&&(c.Db(1),c.vc("ngIf",2==e.opened),c.Db(1),c.vc("ngIf",1==e.opened),c.Db(1),c.vc("ngIf",3==e.opened))},directives:[b.a,n.p,l.z,l.q,l.t,n.o,l.u,l.B,d.a,l.c,l.v,d.g],pipes:[n.e],styles:["ng-sidebar-container[_ngcontent-%COMP%]{height:100vh}  .ng-sidebar{background-color:#fff;width:65%}"]}),t}(),ii=i("dwnd"),ni=function(){function t(t){this.menu=t}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){},t.\u0275fac=function(e){return new(e||t)(c.Sb(ii.a))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-minndashboard"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-minndashboard works!"),c.Xb())},styles:[""]}),t}();function ri(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Yb(8,"i",12),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc().deleteStock(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit;c.Db(2),c.Xc(n.itemname),c.Db(2),c.Xc(n.qty),c.Db(2),c.Xc(n.rat)}}new Date;var oi=function(){function t(t,e,i,n){this.inv=t,this.router=e,this.spinner=i,this.gen=n,this.qty=null,this.rat=null,this.dat="",this.addcheck=!1,this.costingtyp=-1,this.items={},this.material={grp:"",itemcode:"",itemname:"",recordId:-1,reorderqty:0,shelflife:0,statu:"",stdrat:0,stdum:"",stdumId:0},this.opestocks=[],this.totalopestocks=[],this.gen.screenCheck(2,1,5,0)?this.getDetails():this.router.navigateByUrl("inventory/invunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.getDetails=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvOpeningStocksShiksha().subscribe((function(e){var i=e;t.totalopestocks=i,t.dat=i.dat,t.listAdd(),t.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInventoryItemsShiksha().subscribe((function(e){t.items=e,t.spinner.hide()}))},t.prototype.listAdd=function(){this.opestocks=this.totalopestocks},t.prototype.valChk=function(){return!1},t.prototype.addStock=function(){var t=this;""!=this.material.itemname?this.qty<=0?this.gen.showMessage("Qty not mentioned","Warning",3):this.inv.setInvOpeningStock({TransactionId:0,Sno:1,Gin:"",ItemName:this.material.recordId,Dat:null,BatchNo:null,Manudate:null,Expdate:null,Store:null,Qtyin:this.qty,Qtyout:0,Stdum:null,Rat:this.rat,Department:null,ProductBatchNo:null,TransactionType:0}).subscribe((function(e){var i=e;"OK"==i.result?(t.gen.showMessage("Stock added successfully","Success",1),t.totalopestocks.push({batchNo:null,expdate:null,gin:i.stock.Gin,itemname:t.material.itemname,manudate:null,qty:t.qty,rat:t.rat,stdUm:null,storeCode:null}),t.listAdd(),t.material={grp:"",itemcode:"",itemname:"",recordId:-1,reorderqty:0,shelflife:0,statu:"",stdrat:0,stdum:"",stdumId:0},t.qty=null,t.rat=null):t.gen.showMessage(i.result,"Error",4)})):this.gen.showMessage("Material not selected","Warning",3)},t.prototype.deleteStock=function(t){var e=this;this.inv.delInvOpeningStocks(t.gin).subscribe((function(i){var n=i;if("OK"==n.detail){e.gen.showMessage("Detail deleted successfully","Success",1);var r=e.totalopestocks.indexOf(t);r>=0&&(e.totalopestocks.splice(r,1),e.listAdd())}else e.gen.showMessage(n.detail,"Error",4)}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(s.a),c.Sb(r.c),c.Sb(b.c),c.Sb(a.a))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-opening-shiksha"]],decls:50,vars:10,consts:[[2,"width","70%"],[2,"width","50%"],[2,"width","20%"],[2,"width","10%"],["bindLabel","itemName",3,"items","ngModel","ngModelChange"],["type","number",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",2,"width","100%",3,"disabled","click"],["type","text","disabled","",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["colspan","4"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[4,"ngFor","ngForOf"],[1,"ft-trash","font-medium-1",3,"click"]],template:function(t,e){1&t&&(c.Yb(0,"h3"),c.Wc(1),c.pc(2,"date"),c.Xb(),c.Yb(3,"table",0),c.Yb(4,"tr"),c.Yb(5,"td",1),c.Wc(6,"Inventory"),c.Xb(),c.Yb(7,"td",2),c.Wc(8,"Qty"),c.Xb(),c.Yb(9,"td",2),c.Wc(10,"Rate"),c.Xb(),c.Yb(11,"td",3),c.Wc(12,"\xa0"),c.Xb(),c.Xb(),c.Yb(13,"tr"),c.Yb(14,"td",1),c.Yb(15,"ng-select",4),c.kc("ngModelChange",(function(t){return e.material=t})),c.Xb(),c.Xb(),c.Yb(16,"td",2),c.Yb(17,"input",5),c.kc("ngModelChange",(function(t){return e.qty=t})),c.Xb(),c.Xb(),c.Yb(18,"td",2),c.Yb(19,"input",5),c.kc("ngModelChange",(function(t){return e.rat=t})),c.Xb(),c.Xb(),c.Yb(20,"td",3),c.Yb(21,"button",6),c.kc("click",(function(){return e.addStock()})),c.Wc(22,"Add"),c.Xb(),c.Xb(),c.Xb(),c.Yb(23,"tr"),c.Yb(24,"td",1),c.Yb(25,"input",7),c.kc("ngModelChange",(function(t){return e.material.sGrp=t})),c.Xb(),c.Xb(),c.Yb(26,"td",2),c.Wc(27,"\xa0"),c.Xb(),c.Yb(28,"td",2),c.Wc(29,"\xa0"),c.Xb(),c.Yb(30,"td",3),c.Wc(31,"\xa0"),c.Xb(),c.Xb(),c.Yb(32,"tr"),c.Yb(33,"td",8),c.Wc(34,"\xa0"),c.Xb(),c.Xb(),c.Yb(35,"tr"),c.Yb(36,"td",8),c.Yb(37,"table",9),c.Yb(38,"thead",10),c.Yb(39,"tr"),c.Yb(40,"th"),c.Wc(41,"Item"),c.Xb(),c.Yb(42,"th"),c.Wc(43,"Qty"),c.Xb(),c.Yb(44,"th"),c.Wc(45,"Rate"),c.Xb(),c.Yb(46,"th"),c.Wc(47,"\xa0"),c.Xb(),c.Xb(),c.Xb(),c.Uc(48,ri,9,3,"tr",11),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Tb(49,"ngx-spinner")),2&t&&(c.Db(1),c.Yc("Opening Stocks as on ",c.qc(2,8,e.dat),""),c.Db(14),c.vc("items",e.items)("ngModel",e.material),c.Db(2),c.vc("ngModel",e.qty),c.Db(2),c.vc("ngModel",e.rat),c.Db(2),c.vc("disabled",e.addcheck),c.Db(4),c.vc("ngModel",e.material.sGrp),c.Db(23),c.vc("ngForOf",e.opestocks))},directives:[d.a,l.q,l.t,l.v,l.c,n.o,b.a],pipes:[n.e],styles:[""]}),t}();function ai(t,e){if(1&t&&(c.Yb(0,"option",25),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordId),c.Db(1),c.Xc(i.storeCode)}}function si(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.pc(7,"date"),c.Xb(),c.Yb(8,"td"),c.Wc(9),c.pc(10,"date"),c.Xb(),c.Yb(11,"td"),c.Wc(12),c.Xb(),c.Yb(13,"td"),c.Wc(14),c.Xb(),c.Yb(15,"td"),c.Wc(16),c.Xb(),c.Yb(17,"td"),c.Yb(18,"i",26),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc().deleteStock(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit;c.Db(2),c.Xc(n.itemname),c.Db(2),c.Xc(n.batchNo),c.Db(2),c.Xc(c.rc(7,7,n.manudate,"short")),c.Db(3),c.Xc(c.rc(10,10,n.expdate,"short")),c.Db(3),c.Xc(n.qty),c.Db(2),c.Xc(n.stdUm),c.Db(2),c.Xc(n.rat)}}var ci=new Date,bi=function(){function t(t,e,i,n){this.inv=t,this.router=e,this.spinner=i,this.gen=n,this.stores=[],this.storeid=-1,this.storename="",this.batchno="",this.manudat={year:ci.getFullYear(),month:ci.getMonth()+1,day:ci.getDate()},this.expdate={year:ci.getFullYear(),month:ci.getMonth()+1,day:ci.getDate()},this.qty=null,this.rat=null,this.dat="",this.addcheck=!1,this.costingtyp=-1,this.items={},this.material={grp:"",itemcode:"",itemname:"",recordId:-1,reorderqty:0,shelflife:0,statu:"",stdrat:0,stdum:"",stdumId:0},this.opestocks=[],this.totalopestocks=[],this.gen.screenCheck(2,1,5,0)?this.getDetails():this.router.navigateByUrl("inventory/invunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.getDetails=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvOpeningStocks().subscribe((function(e){var i=e;t.stores=i.stores,t.totalopestocks=i.ostocks,t.dat=i.dat,t.stores.length>0&&(t.storeid=t.stores[0].recordId,t.listAdd()),t.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInventoryItems().subscribe((function(e){t.items=e,t.spinner.hide()})),this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0})},t.prototype.listAdd=function(){var t=this;this.opestocks=this.totalopestocks.filter((function(e){return e.storeCode==t.storeid})),console.log(this.opestocks)},t.prototype.valChk=function(){return!1},t.prototype.addStock=function(){var t=this;if(this.storeid<0)this.gen.showMessage("Store not selected","Warning",3);else if(""!=this.material.itemname)if(4!=this.material.costingType||""!=this.batchno.trim())if(this.qty<=0)this.gen.showMessage("Qty not mentioned","Warning",3);else{var e={TransactionId:0,Sno:1,Gin:"",ItemName:this.material.recordId,Dat:null,BatchNo:this.batchno,Manudate:this.gen.makePresentDate(this.manudat),Expdate:1==this.material.shelflife?this.gen.makePresentDate(this.expdate):null,Store:this.storeid,Qtyin:this.qty,Qtyout:0,Stdum:this.material.stdumId,Rat:this.rat,Department:null,ProductBatchNo:null,TransactionType:0};this.inv.setInvOpeningStock(e).subscribe((function(e){var i=e;"OK"==i.result?(t.gen.showMessage("Stock added successfully","Success",1),t.totalopestocks.push({batchNo:t.batchno,expdate:1==t.material.shelflife?t.gen.strDate(t.expdate):null,gin:i.stock.Gin,itemname:t.material.itemname,manudate:t.gen.strDate(t.manudat),qty:t.qty,rat:t.rat,stdUm:t.material.stdum,storeCode:t.storeid}),t.getDetails(),t.material={grp:"",itemcode:"",itemname:"",recordId:-1,reorderqty:0,shelflife:0,statu:"",stdrat:0,stdum:"",stdumId:0},t.batchno="",t.qty=null,t.rat=null):t.gen.showMessage(i.result,"Error",4)}))}else this.gen.showMessage("Batch not mentioned","Warning",3);else this.gen.showMessage("Material not selected","Warning",3)},t.prototype.deleteStock=function(t){var e=this;console.log("gin",t),this.inv.delInvOpeningStocks(t.gin).subscribe((function(i){var n=i;if("OK"==n.detail){e.gen.showMessage("Detail deleted successfully","Success",1);var r=e.totalopestocks.indexOf(t);r>=0&&(e.totalopestocks.splice(r,1),e.listAdd())}else e.gen.showMessage(n.detail,"Error",4)}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(s.a),c.Sb(r.c),c.Sb(b.c),c.Sb(a.a))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-opening-stocks"]],decls:115,vars:17,consts:[[2,"width","100%"],[2,"width","14%"],[2,"width","27%"],[2,"width","10%"],[2,"width","8%"],[2,"width","5%"],[1,"form-control",2,"width","100%",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["bindLabel","itemname",3,"items","ngModel","ngModelChange"],["type","text",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d3","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"disabled","ngModel","ngModelChange"],["type","number",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["type","text","disabled","",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",2,"width","100%",3,"disabled","click"],["align","right",2,"width","14%"],["colspan","9"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[4,"ngFor","ngForOf"],[3,"value"],[1,"ft-trash","font-medium-1",3,"click"]],template:function(t,e){if(1&t){var i=c.Zb();c.Yb(0,"h3"),c.Wc(1),c.pc(2,"date"),c.Xb(),c.Yb(3,"table",0),c.Yb(4,"tr"),c.Yb(5,"td",1),c.Wc(6,"Store"),c.Xb(),c.Yb(7,"td",2),c.Wc(8,"Material"),c.Xb(),c.Yb(9,"td",3),c.Wc(10,"Batch No"),c.Xb(),c.Yb(11,"td",3),c.Wc(12,"Manufactured"),c.Xb(),c.Yb(13,"td",3),c.Wc(14,"Expiry"),c.Xb(),c.Yb(15,"td",4),c.Wc(16,"Qty"),c.Xb(),c.Yb(17,"td",4),c.Wc(18,"UOM"),c.Xb(),c.Yb(19,"td",4),c.Wc(20,"Rate"),c.Xb(),c.Yb(21,"td",5),c.Wc(22,"\xa0"),c.Xb(),c.Xb(),c.Yb(23,"tr"),c.Yb(24,"td",1),c.Yb(25,"select",6),c.kc("ngModelChange",(function(t){return e.storeid=t}))("change",(function(){return e.listAdd()})),c.Uc(26,ai,2,2,"option",7),c.Xb(),c.Xb(),c.Yb(27,"td",2),c.Yb(28,"ng-select",8),c.kc("ngModelChange",(function(t){return e.material=t})),c.Xb(),c.Xb(),c.Yb(29,"td",3),c.Yb(30,"input",9),c.kc("ngModelChange",(function(t){return e.batchno=t})),c.Xb(),c.Xb(),c.Yb(31,"td",3),c.Yb(32,"div",10),c.Yb(33,"input",11,12),c.kc("ngModelChange",(function(t){return e.manudat=t})),c.Xb(),c.Yb(35,"div",13),c.Yb(36,"div",14),c.kc("click",(function(){return c.Mc(i),c.Jc(34).toggle()})),c.Tb(37,"i",15),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(38,"td",3),c.Yb(39,"div",10),c.Yb(40,"input",16,12),c.kc("ngModelChange",(function(t){return e.expdate=t})),c.Xb(),c.Yb(42,"div",13),c.Yb(43,"div",14),c.kc("click",(function(){return c.Mc(i),c.Jc(34).toggle()})),c.Tb(44,"i",15),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(45,"td",4),c.Yb(46,"input",17),c.kc("ngModelChange",(function(t){return e.qty=t})),c.Xb(),c.Xb(),c.Yb(47,"td",4),c.Yb(48,"input",18),c.kc("ngModelChange",(function(t){return e.material.stdum=t})),c.Xb(),c.Xb(),c.Yb(49,"td",4),c.Yb(50,"input",17),c.kc("ngModelChange",(function(t){return e.rat=t})),c.Xb(),c.Xb(),c.Yb(51,"td",5),c.Yb(52,"button",19),c.kc("click",(function(){return e.addStock()})),c.Wc(53,"Add"),c.Xb(),c.Xb(),c.Xb(),c.Yb(54,"tr"),c.Yb(55,"td",20),c.Wc(56,"Group"),c.Xb(),c.Yb(57,"td",2),c.Yb(58,"input",18),c.kc("ngModelChange",(function(t){return e.material.grp=t})),c.Xb(),c.Xb(),c.Yb(59,"td",3),c.Wc(60,"\xa0"),c.Xb(),c.Yb(61,"td",3),c.Wc(62,"\xa0"),c.Xb(),c.Yb(63,"td",3),c.Wc(64,"\xa0"),c.Xb(),c.Yb(65,"td",4),c.Wc(66,"\xa0"),c.Xb(),c.Yb(67,"td",4),c.Wc(68,"\xa0"),c.Xb(),c.Yb(69,"td",4),c.Wc(70,"\xa0"),c.Xb(),c.Yb(71,"td",5),c.Wc(72,"\xa0"),c.Xb(),c.Xb(),c.Yb(73,"tr"),c.Yb(74,"td",20),c.Wc(75,"\xa0"),c.Xb(),c.Yb(76,"td",2),c.Wc(77," \xa0 "),c.Xb(),c.Yb(78,"td",3),c.Wc(79,"\xa0"),c.Xb(),c.Yb(80,"td",3),c.Wc(81,"\xa0"),c.Xb(),c.Yb(82,"td",3),c.Wc(83,"\xa0"),c.Xb(),c.Yb(84,"td",4),c.Wc(85,"\xa0"),c.Xb(),c.Yb(86,"td",4),c.Wc(87,"\xa0"),c.Xb(),c.Yb(88,"td",4),c.Wc(89,"\xa0"),c.Xb(),c.Yb(90,"td",5),c.Wc(91,"\xa0"),c.Xb(),c.Xb(),c.Yb(92,"tr"),c.Yb(93,"td",21),c.Yb(94,"table",22),c.Yb(95,"thead",23),c.Yb(96,"tr"),c.Yb(97,"th"),c.Wc(98,"Material"),c.Xb(),c.Yb(99,"th"),c.Wc(100,"Batch"),c.Xb(),c.Yb(101,"th"),c.Wc(102,"Manufa.,"),c.Xb(),c.Yb(103,"th"),c.Wc(104,"Exp., "),c.Xb(),c.Yb(105,"th"),c.Wc(106,"Qty"),c.Xb(),c.Yb(107,"th"),c.Wc(108,"UM"),c.Xb(),c.Yb(109,"th"),c.Wc(110,"Rate"),c.Xb(),c.Yb(111,"th"),c.Wc(112,"\xa0"),c.Xb(),c.Xb(),c.Xb(),c.Uc(113,si,19,13,"tr",24),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Tb(114,"ngx-spinner")}2&t&&(c.Db(1),c.Yc("Opening Stocks as on ",c.qc(2,15,e.dat),""),c.Db(24),c.vc("ngModel",e.storeid),c.Db(1),c.vc("ngForOf",e.stores),c.Db(2),c.vc("items",e.items)("ngModel",e.material),c.Db(2),c.vc("ngModel",e.batchno),c.Db(3),c.vc("ngModel",e.manudat),c.Db(7),c.vc("disabled",0==e.material.shelflife)("ngModel",e.expdate),c.Db(6),c.vc("ngModel",e.qty),c.Db(2),c.vc("ngModel",e.material.stdum),c.Db(2),c.vc("ngModel",e.rat),c.Db(2),c.vc("disabled",e.addcheck),c.Db(6),c.vc("ngModel",e.material.grp),c.Db(55),c.vc("ngForOf",e.opestocks))},directives:[l.z,l.q,l.t,n.o,d.a,l.c,_.q,l.v,b.a,l.u,l.B],pipes:[n.e],styles:[""]}),t}(),li=i("M97/"),di=i("VHOQ");function hi(t,e){if(1&t&&(c.Yb(0,"option",49),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordId),c.Db(1),c.Xc(i.cntname)}}function ui(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td",55),c.Wc(2),c.Xb(),c.Yb(3,"td",56),c.Yb(4,"i",58),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(3).delTerm(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit;c.Db(2),c.Yc(" ",n.term," ")}}function pi(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div",50),c.Yb(1,"h6",51),c.Wc(2,"Terms"),c.Xb(),c.Yb(3,"button",52),c.kc("click",(function(){return(0,e.dismiss)("Cross click")})),c.Yb(4,"span",53),c.Wc(5,"\xd7"),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",54),c.Yb(7,"table",21),c.Yb(8,"tr"),c.Yb(9,"td",55),c.Yb(10,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc(2).term=t})),c.Xb(),c.Xb(),c.Yb(11,"td",56),c.Yb(12,"button",57),c.kc("click",(function(){return c.Mc(i),c.oc(2).addTerm()})),c.Wc(13,"Add"),c.Xb(),c.Xb(),c.Xb(),c.Uc(14,ui,5,1,"tr",44),c.Xb(),c.Xb()}if(2&t){var n=c.oc(2);c.Db(10),c.vc("ngModel",n.term),c.Db(4),c.vc("ngForOf",n.terms)}}function mi(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Yb(6,"input",59),c.kc("ngModelChange",(function(t){return c.Mc(i),e.$implicit.taxvalue=t}))("input",(function(){return c.Mc(i),c.oc(4).makeTaxes()})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit;c.Db(2),c.Xc(n.taxCode),c.Db(2),c.Xc(n.taxPer),c.Db(2),c.vc("ngModel",n.taxvalue)}}function fi(t,e){if(1&t&&(c.Yb(0,"div"),c.Yb(1,"table",37),c.Yb(2,"thead",38),c.Yb(3,"tr"),c.Yb(4,"th"),c.Wc(5,"Tax"),c.Xb(),c.Yb(6,"th"),c.Wc(7,"Tax%"),c.Xb(),c.Yb(8,"th"),c.Wc(9,"Tax"),c.Xb(),c.Xb(),c.Xb(),c.Yb(10,"tbody"),c.Uc(11,mi,7,3,"tr",44),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(3);c.Db(11),c.vc("ngForOf",i.taxes)}}function gi(t,e){if(1&t&&(c.Yb(0,"div",50),c.Yb(1,"h6",51),c.Wc(2),c.Xb(),c.Yb(3,"button",52),c.kc("click",(function(){return(0,e.dismiss)("Cross click")})),c.Yb(4,"span",53),c.Wc(5,"\xd7"),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",54),c.Uc(7,fi,12,1,"div",0),c.Xb()),2&t){var i=c.oc(2);c.Db(2),c.Xc(i.title),c.Db(5),c.vc("ngIf","Taxes"==i.title)}}function vi(t,e){if(1&t&&(c.Yb(0,"option",49),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.umid),c.Db(1),c.Yc("",i.um," ")}}function Xi(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td",39),c.Wc(2),c.Xb(),c.Yb(3,"td",40),c.Wc(4),c.Xb(),c.Yb(5,"td",41),c.Yb(6,"input",60),c.kc("ngModelChange",(function(t){return c.Mc(i),e.$implicit.batchno=t})),c.Xb(),c.Xb(),c.Yb(7,"td",41),c.Wc(8),c.Xb(),c.Yb(9,"td",41),c.Wc(10),c.Xb(),c.Yb(11,"td",43),c.Yb(12,"input",61),c.kc("input",(function(){return c.Mc(i),c.oc(2).itemsCalculation()}))("ngModelChange",(function(t){return c.Mc(i),e.$implicit.qty=t})),c.Xb(),c.Xb(),c.Yb(13,"td",43),c.Wc(14),c.Xb(),c.Yb(15,"td",43),c.Wc(16),c.pc(17,"number"),c.Xb(),c.Yb(18,"td",39),c.Yb(19,"i",58),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(2).delStock(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit,r=e.index;c.Db(2),c.Xc(r+1),c.Db(2),c.Xc(n.itemname),c.Db(2),c.vc("ngModel",n.batchno),c.Db(2),c.Xc(n.manudate),c.Db(2),c.Xc(n.expdate),c.Db(2),c.vc("ngModel",n.qty),c.Db(2),c.Xc(n.um),c.Db(2),c.Xc(c.rc(17,8,n.valu,"0.2"))}}function Yi(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",62),c.kc("click",(function(){return c.Mc(i),c.oc(2).delete()})),c.Wc(1,"Delete"),c.Xb()}if(2&t){var n=c.oc(2);c.vc("disabled",!n.delCheck)}}function yi(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"h3"),c.Wc(2," Sample Inward Details "),c.Xb(),c.Tb(3,"br"),c.Yb(4,"table",1),c.Yb(5,"tr"),c.Yb(6,"td",2),c.Wc(7," Samples From "),c.Xb(),c.Yb(8,"td",3),c.Tb(9,"input",4),c.Xb(),c.Yb(10,"td",2),c.Wc(11," Sequence "),c.Xb(),c.Yb(12,"td",5),c.Tb(13,"input",6),c.Xb(),c.Xb(),c.Yb(14,"tr"),c.Yb(15,"td",7),c.Wc(16,"Address"),c.Xb(),c.Yb(17,"td",8),c.Yb(18,"textarea",9),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.address=t})),c.Xb(),c.Xb(),c.Yb(19,"td",2),c.Wc(20,"ZIP"),c.Xb(),c.Yb(21,"td",10),c.Yb(22,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.zip=t})),c.Xb(),c.Xb(),c.Yb(23,"td",2),c.Wc(24," Transaction Date "),c.Xb(),c.Yb(25,"td",5),c.Yb(26,"div",12),c.Yb(27,"input",13,14),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().tradat=t})),c.Xb(),c.Yb(29,"div",15),c.Yb(30,"div",16),c.kc("click",(function(){return c.Mc(i),c.Jc(28).toggle()})),c.Tb(31,"i",17),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(32,"tr"),c.Yb(33,"td",2),c.Wc(34,"Mobile"),c.Xb(),c.Yb(35,"td",10),c.Yb(36,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.mobile=t})),c.Xb(),c.Xb(),c.Yb(37,"td",2),c.Wc(38," Reference "),c.Xb(),c.Yb(39,"td",5),c.Tb(40,"input",4),c.Xb(),c.Xb(),c.Yb(41,"tr"),c.Yb(42,"td",2),c.Wc(43," Country "),c.Xb(),c.Yb(44,"td",10),c.Yb(45,"select",18),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.country=t}))("change",(function(){return c.Mc(i),c.oc().findCountryInfo()})),c.Yb(46,"option",19),c.Wc(47,"--Select--"),c.Xb(),c.Uc(48,hi,2,2,"option",20),c.Xb(),c.Xb(),c.Yb(49,"td",2),c.Wc(50," Tel "),c.Xb(),c.Yb(51,"td",10),c.Yb(52,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.tel=t})),c.Xb(),c.Xb(),c.Yb(53,"td",2),c.Wc(54," DC No "),c.Xb(),c.Yb(55,"td",5),c.Yb(56,"table",21),c.Yb(57,"tr"),c.Yb(58,"td",21),c.Tb(59,"input",4),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(60,"tr"),c.Yb(61,"td",2),c.Wc(62," State "),c.Xb(),c.Yb(63,"td",10),c.Yb(64,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.stat=t})),c.Xb(),c.Xb(),c.Yb(65,"td",2),c.Wc(66," Fax "),c.Xb(),c.Yb(67,"td",10),c.Yb(68,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.fax=t})),c.Xb(),c.Xb(),c.Yb(69,"td",2),c.Wc(70," Transporter "),c.Xb(),c.Yb(71,"td",5),c.Tb(72,"input",4),c.Xb(),c.Xb(),c.Yb(73,"tr"),c.Yb(74,"td",2),c.Wc(75," District "),c.Xb(),c.Yb(76,"td",10),c.Yb(77,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.district=t})),c.Xb(),c.Xb(),c.Yb(78,"td",2),c.Wc(79," Email "),c.Xb(),c.Yb(80,"td",10),c.Yb(81,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.email=t})),c.Xb(),c.Xb(),c.Yb(82,"td",2),c.Wc(83," \xa0 "),c.Xb(),c.Yb(84,"td",5),c.Wc(85," \xa0 "),c.Xb(),c.Xb(),c.Yb(86,"tr"),c.Yb(87,"td",2),c.Wc(88," City "),c.Xb(),c.Yb(89,"td",10),c.Yb(90,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.city=t})),c.Xb(),c.Xb(),c.Yb(91,"td",2),c.Wc(92," Web "),c.Xb(),c.Yb(93,"td",10),c.Yb(94,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.webid=t})),c.Xb(),c.Xb(),c.Yb(95,"td",2),c.Wc(96," \xa0 "),c.Xb(),c.Yb(97,"td",5),c.Wc(98," \xa0 "),c.Xb(),c.Xb(),c.Xb(),c.Uc(99,pi,15,2,"ng-template",null,22,c.Vc),c.Uc(101,gi,8,2,"ng-template",null,23,c.Vc),c.Tb(103,"br"),c.Yb(104,"table",1),c.Yb(105,"tr"),c.Yb(106,"td",24),c.Wc(107,"Material"),c.Xb(),c.Yb(108,"td",25),c.Wc(109,"Batch No"),c.Xb(),c.Yb(110,"td",25),c.Wc(111,"Manufactured"),c.Xb(),c.Yb(112,"td",25),c.Wc(113,"Expiry"),c.Xb(),c.Yb(114,"td",26),c.Wc(115,"Qty"),c.Xb(),c.Yb(116,"td",26),c.Wc(117,"UOM"),c.Xb(),c.Yb(118,"td",27),c.Wc(119,"\xa0"),c.Xb(),c.Xb(),c.Yb(120,"tr"),c.Yb(121,"td",24),c.Yb(122,"ng-select",28),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().material=t}))("change",(function(){return c.Mc(i),c.oc().makeUnits()})),c.Xb(),c.Xb(),c.Yb(123,"td",25),c.Yb(124,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().batchno=t})),c.Xb(),c.Xb(),c.Yb(125,"td",25),c.Yb(126,"input",29),c.kc("input",(function(t){c.Mc(i);var e=c.oc();return e.manudate=e.parseDate(t.target.value)})),c.pc(127,"date"),c.Xb(),c.Xb(),c.Yb(128,"td",25),c.Yb(129,"input",30),c.kc("input",(function(t){c.Mc(i);var e=c.oc();return e.expdate=e.parseDate(t.target.value)})),c.pc(130,"date"),c.Xb(),c.Xb(),c.Yb(131,"td",26),c.Yb(132,"input",31),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().qty=t})),c.Xb(),c.Xb(),c.Yb(133,"td",26),c.Yb(134,"select",32),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().unit=t})),c.Uc(135,vi,2,2,"option",20),c.Xb(),c.Xb(),c.Yb(136,"td",27),c.Yb(137,"button",33),c.kc("click",(function(){return c.Mc(i),c.oc().addStock()})),c.Wc(138,"Add"),c.Xb(),c.Xb(),c.Xb(),c.Yb(139,"tr"),c.Yb(140,"td",24),c.Yb(141,"input",34),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().material.grpname=t})),c.Xb(),c.Xb(),c.Yb(142,"td",25),c.Wc(143,"\xa0"),c.Xb(),c.Yb(144,"td",25),c.Wc(145,"\xa0"),c.Xb(),c.Yb(146,"td",25),c.Wc(147,"\xa0"),c.Xb(),c.Yb(148,"td",26),c.Yb(149,"input",34),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().material.qty=t})),c.Xb(),c.Xb(),c.Yb(150,"td",26),c.Yb(151,"input",34),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().material.um=t})),c.Xb(),c.Xb(),c.Yb(152,"td",26),c.Wc(153," \xa0"),c.Xb(),c.Yb(154,"td",27),c.Wc(155,"\xa0"),c.Xb(),c.Xb(),c.Yb(156,"tr"),c.Yb(157,"td",35),c.Yb(158,"div",36),c.Yb(159,"table",37),c.Yb(160,"thead",38),c.Yb(161,"tr"),c.Yb(162,"th",39),c.Wc(163,"#"),c.Xb(),c.Yb(164,"th",40),c.Wc(165,"Material"),c.Xb(),c.Yb(166,"th",41),c.Wc(167,"Batch"),c.Xb(),c.Yb(168,"th",41),c.Wc(169,"Manu. Date"),c.Xb(),c.Yb(170,"th",41),c.Wc(171,"Exp. Date"),c.Xb(),c.Yb(172,"th",42),c.Wc(173,"Qty"),c.Xb(),c.Yb(174,"th",43),c.Wc(175,"UOM"),c.Xb(),c.Yb(176,"th",42),c.Wc(177,"Value"),c.Xb(),c.Tb(178,"th",39),c.Xb(),c.Xb(),c.Yb(179,"tbody"),c.Uc(180,Xi,20,11,"tr",44),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(181,"table"),c.Yb(182,"tr"),c.Yb(183,"td",45),c.Uc(184,Yi,2,1,"button",46),c.Yb(185,"button",47),c.kc("click",(function(){return c.Mc(i),c.oc().savePurchase()})),c.Wc(186,"Save"),c.Xb(),c.Yb(187,"button",48),c.kc("click",(function(){return c.Mc(i),c.oc().close()})),c.Wc(188,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(18),c.vc("ngModel",n.supdetail.address),c.Db(4),c.vc("ngModel",n.supdetail.zip),c.Db(5),c.vc("ngModel",n.tradat),c.Db(9),c.vc("ngModel",n.supdetail.mobile),c.Db(9),c.vc("ngModel",n.supdetail.country),c.Db(3),c.vc("ngForOf",n.countries),c.Db(4),c.vc("ngModel",n.supdetail.tel),c.Db(12),c.vc("ngModel",n.supdetail.stat),c.Db(4),c.vc("ngModel",n.supdetail.fax),c.Db(9),c.vc("ngModel",n.supdetail.district),c.Db(4),c.vc("ngModel",n.supdetail.email),c.Db(9),c.vc("ngModel",n.supdetail.city),c.Db(4),c.vc("ngModel",n.supdetail.webid),c.Db(28),c.vc("items",n.materials)("ngModel",n.material),c.Db(2),c.vc("ngModel",n.batchno),c.Db(2),c.vc("value",c.rc(127,27,n.manudate,"yyyy-MM-dd")),c.Db(3),c.vc("value",c.rc(130,30,n.expdate,"yyyy-MM-dd")),c.Db(3),c.vc("ngModel",n.qty),c.Db(2),c.vc("ngModel",n.unit),c.Db(1),c.vc("ngForOf",n.units),c.Db(2),c.vc("disabled",n.addcheck),c.Db(4),c.vc("ngModel",n.material.grpname),c.Db(8),c.vc("ngModel",n.material.qty),c.Db(2),c.vc("ngModel",n.material.um),c.Db(29),c.vc("ngForOf",n.selectedItems),c.Db(4),c.vc("ngIf",n.delVisible)}}function ki(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"th",69),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Wc(10),c.Xb(),c.Yb(11,"td",70),c.Wc(12),c.pc(13,"number"),c.Xb(),c.Yb(14,"td",70),c.Wc(15),c.pc(16,"number"),c.Xb(),c.Yb(17,"td",70),c.Wc(18),c.pc(19,"number"),c.Xb(),c.Yb(20,"th",71),c.Wc(21),c.pc(22,"number"),c.Xb(),c.Yb(23,"td",72),c.Yb(24,"i",73),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(2).openOld(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit,r=e.index;c.Db(2),c.Xc(r+1),c.Db(2),c.Xc(n.seq),c.Db(2),c.Xc(n.invoiceno),c.Db(2),c.Xc(n.vendorname),c.Db(2),c.Xc(n.mobile),c.Db(2),c.Xc(c.rc(13,9,n.baseamt,"0.2")),c.Db(3),c.Xc(c.rc(16,12,n.taxes,"0.2")),c.Db(3),c.Xc(c.rc(19,15,n.others,"0.2")),c.Db(3),c.Xc(c.rc(22,18,n.totalAmt,"0.2"))}}function Ii(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"h3"),c.Wc(2," List of Sample Inwards "),c.Xb(),c.Yb(3,"table",1),c.Yb(4,"tr"),c.Yb(5,"td",63),c.Yb(6,"div",12),c.Yb(7,"input",13,64),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().listdat=t})),c.Xb(),c.Yb(9,"div",15),c.Yb(10,"div",16),c.kc("click",(function(){return c.Mc(i),c.Jc(8).toggle()})),c.Tb(11,"i",17),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(12,"td",65),c.Yb(13,"button",66),c.kc("click",(function(){return c.Mc(i),c.oc().listAdd()})),c.Wc(14,"Show"),c.Xb(),c.Xb(),c.Yb(15,"td",65),c.Yb(16,"button",67),c.kc("click",(function(){return c.Mc(i),c.oc().openNew()})),c.Wc(17,"New"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(18,"table",68),c.Yb(19,"thead",38),c.Yb(20,"tr"),c.Yb(21,"th"),c.Wc(22,"#"),c.Xb(),c.Yb(23,"th"),c.Wc(24,"Seq"),c.Xb(),c.Yb(25,"th"),c.Wc(26,"Samples From"),c.Xb(),c.Yb(27,"th"),c.Wc(28,"DC"),c.Xb(),c.Yb(29,"th"),c.Wc(30,"Types"),c.Xb(),c.Yb(31,"th"),c.Wc(32,"Transporter"),c.Xb(),c.Xb(),c.Xb(),c.Yb(33,"tbody"),c.Uc(34,ki,25,21,"tr",44),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(7),c.vc("ngModel",n.listdat),c.Db(27),c.vc("ngForOf",n.purchases1)}}var Ci=function(){function t(t,e,i,n,r){var o=this;this.pur=t,this.puo=e,this.modalService=i,this.adm=n,this.spinner=r,this.unit=-1,this.title="",this.baseAmt=0,this.discount=0,this.taxesAmt=0,this.otherAmt=0,this.totalAmt=0,this.advance=0,this.balance=0,this.country=-1,this.now=new Date,this.closeResult="",this.recordId=0,this.supdetail={recordId:0,partyName:"",addr:"",country:-1,stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",webid:""},this.material={recordid:null,itemname:"",grpname:"",um:"",qty:null,costingtype:-1,shelflife:0},this.sets=[],this.qcEnable=!0,this.qcTest=!1,this.invEnable=!0,this.invCheck=!0,this.qcchk=!0,this.tradat={year:this.now.getFullYear(),month:this.now.getMonth()+1,day:this.now.getDate()},this.listdat={year:this.now.getFullYear(),month:this.now.getMonth()+1,day:this.now.getDate()},this.storeid=-1,this.invoiceno="",this.header={Seq:"",Dat:new Date,Invoiceno:"",Invoicedat:new Date,Transporter:"",PurchaseType:"",RefPoid:-1,Vendorid:-1,Vendorname:"",Addr:"",Country:"",Stat:"",District:"",City:"",Zip:"",Mobile:"",Tel:"",Fax:"",Email:"",Webid:"",Baseamt:0,Discount:0,Taxes:0,Others:0,TotalAmt:0,Pos:1,Settlemode:0,qcCheck:0},this.refOrd=-1,this.ordvalidity="",this.ordsupplier="",this.opened=!1,this.currsymbol="",this.currconversion=1,this.batchno="",this.manudate=new Date,this.expdate=new Date,this.selectedItems=[],this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.pur.getPurchasesRequirements().subscribe((function(t){var e=t;o.materials=e.materials,o.stores=e.stores,o.stores&&o.stores.length>0&&(o.storeid=o.stores[0].recordId),o.suppliers=e.suppliers,o.pendingorders=e.orders,o.purchasetypes=e.purchasetypes,o.header.Seq=e.seq,o.countries=e.countries,o.header.Dat=new Date(e.dat),new Date(e.dat),o.totalunits=e.units,o.taxes=e.taxes,o.tradat={year:o.now.getFullYear(),month:o.now.getMonth()+1,day:o.now.getDate()},o.listdat={year:o.now.getFullYear(),month:o.now.getMonth()+1,day:o.now.getDate()};for(var i=0;i<o.countries.length;i++)2==o.countries[i].statu&&(o.supdetail.country=+o.countries[i].recordId,o.currsymbol=o.countries[i].currSymbol,o.currconversion=+o.countries[i].conversionFactor);for(i=0;i<e.sets;i++);})),this.spinner.hide()}return t.prototype.findCountryInfo=function(){var t=this,e=this.countries.filter((function(e){return e.recordId==+t.supdetail.country}));e.length>0&&(this.currsymbol=e[0].currSymbol,this.currconversion=+e[0].conversionFactor)},t.prototype.makeUnits=function(){var t=this;this.units=this.totalunits.filter((function(e){return e.matid==t.material.recordid})),console.log("units",this.totalunits,this.material,this.units),this.units&&this.units.length>0&&(this.unit=this.units[0].umid)},t.prototype.parseDate=function(t){return t?new Date(t):null},t.prototype.makeOrderDetails=function(){var t=this,e=this.pendingorders.filter((function(e){return e.recordId==t.refOrd}));e&&e.length>0&&(this.ordvalidity=this.adm.stringData(new Date(e[0].validity)),this.ordsupplier=e[0].vendorname)},t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.opened=!0},t.prototype.valCheckSmall=function(){return""==this.material.itemname.trim()?(this.adm.showMessage("Material not selected","Warning",3),!1):4==+this.material.costingtype&&""==this.batchno.trim()?(this.adm.showMessage("Batch not selected","Warning",3),!1):this.qty?+this.qty<=0?(this.adm.showMessage("Qty not selected","Warning",3),!1):!(+this.unit<0&&(this.adm.showMessage("Unit not selected","Warning",3),1)):(this.adm.showMessage("Qty not selected","Warning",3),!1)},t.prototype.addStock=function(){this.valCheckSmall()&&(this.selectedItems.push({materialid:this.material.recordid,itemname:this.material.itemname,batchno:this.batchno,manudate:this.adm.stringData(this.manudate),expdate:this.material.shelflife?this.adm.stringData(this.expdate):null,qty:this.qty,umid:this.unit,um:this.findum(),rate:this.rat,valu:+this.qty*+this.rat}),this.material={recordid:null,itemname:"",grpname:"",um:"",qty:null,costingtype:-1,shelflife:0},this.batchno="",this.manudate=new Date,this.expdate=new Date,this.qty=null,this.units=[],this.rat=null,this.unit=-1,this.itemsCalculation())},t.prototype.delStock=function(t){var e=this.selectedItems.indexOf(t);e>=0&&(this.selectedItems.splice(e,1),this.itemsCalculation())},t.prototype.itemsCalculation=function(){this.baseAmt=0;for(var t=0;t<this.selectedItems.length;t++)this.selectedItems[t].valu=this.selectedItems[t].qty*this.selectedItems[t].rate,this.baseAmt=this.baseAmt+ +this.selectedItems[t].valu;this.makeCalculations()},t.prototype.makeCalculations=function(){this.totalAmt=this.baseAmt-this.discount+this.otherAmt+this.taxesAmt,this.balance=this.totalAmt-this.advance},t.prototype.makeTaxes=function(){this.taxesAmt=0;for(var t=0;t<this.taxes.length;t++)this.taxes[t].taxvalue&&(this.taxesAmt=this.taxesAmt+this.taxes[t].taxvalue);this.makeCalculations()},t.prototype.findum=function(){var t=this,e=this.totalunits.filter((function(e){return e.umid==+t.unit}));return e.length>0?e[0].um:""},t.prototype.openOld=function(t){var e=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.pur.getPurchase(t.recordId).subscribe((function(t){var i=t;if(console.log("Detail",i),"OK"==i.result){e.recordId=i.header.recordId,e.qcchk=1==+i.header.qcCheck,e.supdetail={recordId:i.header.vendorid,partyName:i.header.vendorname,addr:i.header.addr,stat:i.header.stat,district:i.header.district,city:i.header.city,zip:i.header.zip,mobile:i.header.mobile,tel:i.header.tel,fax:i.header.fax,email:i.header.email,webid:i.header.webid},e.selectedItems=[];for(var n=0;n<i.linedetails.length;n++)e.unit=i.linedetails[n].um,e.selectedItems.push({materialid:i.linedetails[n].itemId,itemname:i.linedetails[n].itemName,batchno:i.linedetails[n].batchno,manudate:i.linedetails[n].manudate?new Date(i.linedetails[n].manudate):null,expdate:i.linedetails[n].expdate?new Date(i.linedetails[n].expdate):null,qty:i.linedetails[n].qty,umid:i.linedetails[n].umid,um:i.linedetails[n].um,rate:i.linedetails[n].rat,valu:+i.linedetails[n].qty*+i.linedetails[n].rat});for(n=0;n<e.taxes.length;n++)for(var r=0;r<i.taxes.length;r++)e.taxes[n].taxCode==i.taxes[r].taxcode&&e.taxes[n].taxper==i.taxes[r].taxper&&(e.taxes[n].taxvalue=i.taxes[r].taxvalue);e.discount=i.header.discount,e.taxesAmt=0,e.totalAmt=0,e.advance=0,e.itemsCalculation(),console.log("details",i),e.makeCalculations(),e.opened=!0}else e.adm.showMessage(i.result,"Warning",3);e.spinner.hide()}))},t.prototype.close=function(){this.opened=!1},t.prototype.makeCle=function(){this.recordId=0,this.supdetail={recordId:0,partyName:"",addr:"",country:-1,stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",webid:""},this.selectedItems=[];for(var t=0;t<this.taxes.length;t++)this.taxes[t].taxvalue=0;this.itemsCalculation()},t.prototype.showOrder=function(){var t=this;this.refOrd>=1?(this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.puo.GetInvPurchaseOrder(+this.refOrd).subscribe((function(e){var i=e;t.supdetail={recordId:i.header.vendorid,partyName:i.header.vendorname,addr:i.header.addr,stat:i.header.stat,district:i.header.district,city:i.header.city,zip:i.header.zip,mobile:i.header.mobile,tel:i.header.tel,fax:i.header.fax,email:i.header.email,webid:i.header.webid},t.selectedItems=[];for(var n=0;n<i.lines.length;n++)t.unit=i.lines[n].um,t.selectedItems.push({materialid:i.lines[n].itemId,itemname:i.lines[n].itemName,batchno:"",manudate:null,expdate:null,qty:i.lines[n].qty,umid:i.lines[n].um,um:t.findum(),rate:i.lines[n].rat,valu:+i.lines[n].qty*+i.lines[n].rat});for(n=0;n<t.taxes.length;n++)for(var r=0;r<i.taxes.length;r++)t.taxes[n].taxCode==i.taxes[r].taxcode&&t.taxes[n].taxper==i.taxes[r].taxper&&(t.taxes[n].taxvalue=i.taxes[r].taxvalue);for(t.discount=0,t.taxesAmt=0,t.totalAmt=0,t.advance=0,n=0;n<i.advances.length;n++)t.advance=t.advance+i.advances[n].amt;t.itemsCalculation(),console.log("details",i),t.spinner.hide()}))):this.makeCle()},t.prototype.open=function(t,e){var i=this;this.title=1==e?"Terms":"Taxes",this.modalService.open(t).result.then((function(t){i.closeResult="Closed with: "+t}),(function(t){i.closeResult="Dismissed "+i.getDismissReason(t)}))},t.prototype.getDismissReason=function(t){return t===_.a.ESC?"by pressing ESC":t===_.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var e=this.adm.strDate(this.listdat);this.pur.getPurchases(e).subscribe((function(e){t.purchases=e,console.log(e),t.spinner.hide()}))},t.prototype.valChk=function(){return""==this.supdetail.partyName.trim()?(this.adm.showMessage("Supplier details not mentioned","Warning",3),!1):!(this.selectedItems.length<=0&&(this.adm.showMessage("Item details not mentioned","Warning",3),1))},t.prototype.savePurchase=function(){var t=this;this.valChk()&&M.a.fire({title:"Confirms Inwards Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.header={Dat:new Date,Invoiceno:t.invoiceno,Invoicedat:new Date,Transporter:"",PurchaseType:"General",RefPoid:+t.refOrd>0?+t.refOrd:null,Vendorid:+t.supdetail.recordId,Vendorname:t.supdetail.partyName,Addr:t.supdetail.addr,Country:null,Stat:t.supdetail.stat,District:t.supdetail.district,City:t.supdetail.city,Zip:t.supdetail.zip,Mobile:t.supdetail.mobile,Tel:t.supdetail.tel,Fax:t.supdetail.fax,Email:t.supdetail.email,Webid:t.supdetail.webid,Baseamt:+t.baseAmt,Discount:+t.discount,Taxes:+t.taxesAmt,Others:+t.otherAmt,TotalAmt:+t.totalAmt,Pos:1,Settlemode:0,qcCheck:0,currencySymbol:t.currsymbol,currencyConversion:t.currconversion?+t.currconversion:1},t.recordId>0&&(t.header.RecordId=t.recordId);for(var i=[],n=0;n<t.selectedItems.length;n++)i.push({Store:+t.storeid,ItemId:+t.selectedItems[n].materialid,ItemName:t.selectedItems[n].itemname,Batchno:t.selectedItems[n].batchno,Manudate:null,Expdate:null,Qty:+t.selectedItems[n].qty,Um:+t.selectedItems[n].umid,Rat:+t.selectedItems[n].rate,BranchId:t.selectedItems[n].um,Mrp:t.findConversion(+t.selectedItems[n].materialid,+t.selectedItems[n].umid)});var r=[];for(n=0;n<t.taxes.length;n++)+t.taxes[n].taxvalue>0&&r.push({Taxcode:t.taxes[n].taxCode,Taxper:+t.taxes[n].taxPer,Taxvalue:+t.taxes[n].taxvalue});t.pur.setPurchase(t.header,i,r,0==t.recordId?1:2).subscribe((function(e){var i=e;t.spinner.hide(),"OK"==i.result?(t.makeCle(),M.a.fire("Transaction Completed Successfully!","Your Purchase saved.","success")):M.a.fire(i.result,"Some error in transaction","error")}))}}))},t.prototype.findConversion=function(t,e){var i=this.totalunits.filter((function(i){return i.matid==t&&i.umid==e}));return i&&i.length>0?+i[0].conversion:1},t.\u0275fac=function(e){return new(e||t)(c.Sb(di.a),c.Sb(li.a),c.Sb(_.r),c.Sb(a.a),c.Sb(b.c))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-sample-inwards"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","80%"],["align","right",2,"width","10%"],["colspan","3"],["type","text",1,"form-control"],[2,"width","20%"],["type","text","disabled","","value","SAIN-24-02/001",1,"form-control",2,"width","100%"],["rowspan","2","align","right",2,"width","10%"],["rowspan","2",2,"width","25%"],[2,"width","100%","height","50px",3,"ngModel","ngModelChange"],[2,"width","25%"],["type","text",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],[2,"width","100%"],["customContent",""],["content",""],[2,"width","35%"],[2,"width","12%"],[2,"width","8%"],[2,"width","5%"],["bindLabel","itemname",3,"items","ngModel","ngModelChange","change"],["type","date",1,"form-control",3,"value","input"],["type","date","disabled","!material.shelflife",1,"form-control",3,"value","input"],["type","number",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",2,"width","100%",3,"disabled","click"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["colspan","8"],[2,"width","100%","height","300px","overflow-y","scroll"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[2,"width","4%"],[2,"width","37%"],[2,"width","9%"],[2,"width","7%","text-align","right"],[2,"width","7%"],[4,"ngFor","ngForOf"],["colspan","2"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-info","mr-1","mb-1",3,"click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],[3,"value"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"width","85%"],[2,"width","15%"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",2,"width","100%",3,"click"],[1,"ft-trash-2","font-medium-1",3,"click"],["type","number",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange","input"],["type","text",2,"width","100%",3,"ngModel","ngModelChange"],["type","number",2,"width","100%",3,"ngModel","input","ngModelChange"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],["align","right",2,"width","40%"],["d1","ngbDatepicker"],["align","left",2,"width","25%"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],["type","button",1,"btn","btn-success","mr-1","mb-1",3,"click"],[1,"table","m-0",2,"width","80%"],["scope","row"],["align","right"],["scope","row",2,"text-align","right"],["align","center"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,yi,189,33,"div",0),c.Uc(2,Ii,35,2,"div",0)),2&t&&(c.Db(1),c.vc("ngIf",e.opened),c.Db(1),c.vc("ngIf",!e.opened))},directives:[b.a,n.p,l.c,l.q,l.t,_.q,l.z,l.u,l.B,n.o,d.a,l.v],pipes:[n.e,n.f],styles:[""]}),t}();function Di(t,e){if(1&t&&(c.Yb(0,"option",50),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordId),c.Db(1),c.Xc(i.cntname)}}function Mi(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td",56),c.Wc(2),c.Xb(),c.Yb(3,"td",57),c.Yb(4,"i",59),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(3).delTerm(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit;c.Db(2),c.Yc(" ",n.term," ")}}function Wi(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div",51),c.Yb(1,"h6",52),c.Wc(2,"Terms"),c.Xb(),c.Yb(3,"button",53),c.kc("click",(function(){return(0,e.dismiss)("Cross click")})),c.Yb(4,"span",54),c.Wc(5,"\xd7"),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",55),c.Yb(7,"table",21),c.Yb(8,"tr"),c.Yb(9,"td",56),c.Yb(10,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc(2).term=t})),c.Xb(),c.Xb(),c.Yb(11,"td",57),c.Yb(12,"button",58),c.kc("click",(function(){return c.Mc(i),c.oc(2).addTerm()})),c.Wc(13,"Add"),c.Xb(),c.Xb(),c.Xb(),c.Uc(14,Mi,5,1,"tr",46),c.Xb(),c.Xb()}if(2&t){var n=c.oc(2);c.Db(10),c.vc("ngModel",n.term),c.Db(4),c.vc("ngForOf",n.terms)}}function wi(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td"),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Yb(6,"input",60),c.kc("ngModelChange",(function(t){return c.Mc(i),e.$implicit.taxvalue=t}))("input",(function(){return c.Mc(i),c.oc(4).makeTaxes()})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit;c.Db(2),c.Xc(n.taxCode),c.Db(2),c.Xc(n.taxPer),c.Db(2),c.vc("ngModel",n.taxvalue)}}function Si(t,e){if(1&t&&(c.Yb(0,"div"),c.Yb(1,"table",39),c.Yb(2,"thead",40),c.Yb(3,"tr"),c.Yb(4,"th"),c.Wc(5,"Tax"),c.Xb(),c.Yb(6,"th"),c.Wc(7,"Tax%"),c.Xb(),c.Yb(8,"th"),c.Wc(9,"Tax"),c.Xb(),c.Xb(),c.Xb(),c.Yb(10,"tbody"),c.Uc(11,wi,7,3,"tr",46),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc(3);c.Db(11),c.vc("ngForOf",i.taxes)}}function Oi(t,e){if(1&t&&(c.Yb(0,"div",51),c.Yb(1,"h6",52),c.Wc(2),c.Xb(),c.Yb(3,"button",53),c.kc("click",(function(){return(0,e.dismiss)("Cross click")})),c.Yb(4,"span",54),c.Wc(5,"\xd7"),c.Xb(),c.Xb(),c.Xb(),c.Yb(6,"div",55),c.Uc(7,Si,12,1,"div",0),c.Xb()),2&t){var i=c.oc(2);c.Db(2),c.Xc(i.title),c.Db(5),c.vc("ngIf","Taxes"==i.title)}}function xi(t,e){if(1&t&&(c.Yb(0,"option",50),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.umid),c.Db(1),c.Yc("",i.um," ")}}function Ui(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"td",41),c.Wc(2),c.Xb(),c.Yb(3,"td",42),c.Wc(4),c.Xb(),c.Yb(5,"td",43),c.Yb(6,"input",61),c.kc("ngModelChange",(function(t){return c.Mc(i),e.$implicit.batchno=t})),c.Xb(),c.Xb(),c.Yb(7,"td",43),c.Wc(8),c.Xb(),c.Yb(9,"td",43),c.Wc(10),c.Xb(),c.Yb(11,"td",45),c.Yb(12,"input",62),c.kc("input",(function(){return c.Mc(i),c.oc(2).itemsCalculation()}))("ngModelChange",(function(t){return c.Mc(i),e.$implicit.qty=t})),c.Xb(),c.Xb(),c.Yb(13,"td",45),c.Wc(14),c.Xb(),c.Yb(15,"td",45),c.Wc(16),c.pc(17,"number"),c.Xb(),c.Yb(18,"td",41),c.Yb(19,"i",59),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(2).delStock(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit,r=e.index;c.Db(2),c.Xc(r+1),c.Db(2),c.Xc(n.itemname),c.Db(2),c.vc("ngModel",n.batchno),c.Db(2),c.Xc(n.manudate),c.Db(2),c.Xc(n.expdate),c.Db(2),c.vc("ngModel",n.qty),c.Db(2),c.Xc(n.um),c.Db(2),c.Xc(c.rc(17,8,n.valu,"0.2"))}}function Ti(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",63),c.kc("click",(function(){return c.Mc(i),c.oc(2).delete()})),c.Wc(1,"Delete"),c.Xb()}if(2&t){var n=c.oc(2);c.vc("disabled",!n.delCheck)}}function Ai(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"h3"),c.Wc(2," Sample Outward Details "),c.Xb(),c.Tb(3,"br"),c.Yb(4,"table",1),c.Yb(5,"tr"),c.Yb(6,"td",2),c.Wc(7," Samples To "),c.Xb(),c.Yb(8,"td",3),c.Tb(9,"input",4),c.Xb(),c.Yb(10,"td",2),c.Wc(11," Sequence "),c.Xb(),c.Yb(12,"td",5),c.Tb(13,"input",6),c.Xb(),c.Xb(),c.Yb(14,"tr"),c.Yb(15,"td",7),c.Wc(16,"Address"),c.Xb(),c.Yb(17,"td",8),c.Yb(18,"textarea",9),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.address=t})),c.Xb(),c.Xb(),c.Yb(19,"td",2),c.Wc(20,"ZIP"),c.Xb(),c.Yb(21,"td",10),c.Yb(22,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.zip=t})),c.Xb(),c.Xb(),c.Yb(23,"td",2),c.Wc(24," Transaction Date "),c.Xb(),c.Yb(25,"td",5),c.Yb(26,"div",12),c.Yb(27,"input",13,14),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().tradat=t})),c.Xb(),c.Yb(29,"div",15),c.Yb(30,"div",16),c.kc("click",(function(){return c.Mc(i),c.Jc(28).toggle()})),c.Tb(31,"i",17),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(32,"tr"),c.Yb(33,"td",2),c.Wc(34,"Mobile"),c.Xb(),c.Yb(35,"td",10),c.Yb(36,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.mobile=t})),c.Xb(),c.Xb(),c.Yb(37,"td",2),c.Wc(38," Reference "),c.Xb(),c.Yb(39,"td",5),c.Tb(40,"input",4),c.Xb(),c.Xb(),c.Yb(41,"tr"),c.Yb(42,"td",2),c.Wc(43," Country "),c.Xb(),c.Yb(44,"td",10),c.Yb(45,"select",18),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.country=t}))("change",(function(){return c.Mc(i),c.oc().findCountryInfo()})),c.Yb(46,"option",19),c.Wc(47,"--Select--"),c.Xb(),c.Uc(48,Di,2,2,"option",20),c.Xb(),c.Xb(),c.Yb(49,"td",2),c.Wc(50," Tel "),c.Xb(),c.Yb(51,"td",10),c.Yb(52,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.tel=t})),c.Xb(),c.Xb(),c.Yb(53,"td",2),c.Wc(54," DC No "),c.Xb(),c.Yb(55,"td",5),c.Yb(56,"table",21),c.Yb(57,"tr"),c.Yb(58,"td",21),c.Tb(59,"input",4),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(60,"tr"),c.Yb(61,"td",2),c.Wc(62," State "),c.Xb(),c.Yb(63,"td",10),c.Yb(64,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.stat=t})),c.Xb(),c.Xb(),c.Yb(65,"td",2),c.Wc(66," Fax "),c.Xb(),c.Yb(67,"td",10),c.Yb(68,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.fax=t})),c.Xb(),c.Xb(),c.Yb(69,"td",2),c.Wc(70," Transporter "),c.Xb(),c.Yb(71,"td",5),c.Tb(72,"input",4),c.Xb(),c.Xb(),c.Yb(73,"tr"),c.Yb(74,"td",2),c.Wc(75," District "),c.Xb(),c.Yb(76,"td",10),c.Yb(77,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.district=t})),c.Xb(),c.Xb(),c.Yb(78,"td",2),c.Wc(79," Email "),c.Xb(),c.Yb(80,"td",10),c.Yb(81,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.email=t})),c.Xb(),c.Xb(),c.Yb(82,"td",2),c.Wc(83," \xa0 "),c.Xb(),c.Yb(84,"td",5),c.Wc(85," \xa0 "),c.Xb(),c.Xb(),c.Yb(86,"tr"),c.Yb(87,"td",2),c.Wc(88," City "),c.Xb(),c.Yb(89,"td",10),c.Yb(90,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.city=t})),c.Xb(),c.Xb(),c.Yb(91,"td",2),c.Wc(92," Web "),c.Xb(),c.Yb(93,"td",10),c.Yb(94,"input",11),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().supdetail.webid=t})),c.Xb(),c.Xb(),c.Yb(95,"td",2),c.Wc(96," \xa0 "),c.Xb(),c.Yb(97,"td",5),c.Wc(98," \xa0 "),c.Xb(),c.Xb(),c.Xb(),c.Uc(99,Wi,15,2,"ng-template",null,22,c.Vc),c.Uc(101,Oi,8,2,"ng-template",null,23,c.Vc),c.Tb(103,"br"),c.Yb(104,"table",1),c.Yb(105,"tr"),c.Yb(106,"td",24),c.Wc(107,"Material"),c.Xb(),c.Yb(108,"td",25),c.Wc(109,"Batch No"),c.Xb(),c.Yb(110,"td",26),c.Wc(111,"Qty"),c.Xb(),c.Yb(112,"td",26),c.Wc(113,"UOM"),c.Xb(),c.Yb(114,"td",27),c.Wc(115,"\xa0"),c.Xb(),c.Xb(),c.Yb(116,"tr"),c.Yb(117,"td",24),c.Yb(118,"ng-select",28),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().material=t}))("change",(function(){return c.Mc(i),c.oc().makeUnits()})),c.Xb(),c.Xb(),c.Yb(119,"td",25),c.Yb(120,"select",29),c.Yb(121,"option",30),c.Wc(122,"--Select--"),c.Xb(),c.Xb(),c.Xb(),c.Yb(123,"td",26),c.Yb(124,"input",31),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().qty=t})),c.Xb(),c.Xb(),c.Yb(125,"td",26),c.Yb(126,"select",32),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().unit=t})),c.Uc(127,xi,2,2,"option",20),c.Xb(),c.Xb(),c.Yb(128,"td",27),c.Yb(129,"button",33),c.kc("click",(function(){return c.Mc(i),c.oc().addStock()})),c.Wc(130,"Add"),c.Xb(),c.Xb(),c.Xb(),c.Yb(131,"tr"),c.Yb(132,"td",24),c.Yb(133,"input",34),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().material.grpname=t})),c.Xb(),c.Xb(),c.Yb(134,"td",35),c.Tb(135,"input",36),c.Xb(),c.Yb(136,"td",35),c.Tb(137,"input",36),c.Xb(),c.Yb(138,"td",26),c.Yb(139,"input",34),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().material.qty=t})),c.Xb(),c.Xb(),c.Yb(140,"td",26),c.Yb(141,"input",34),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().material.um=t})),c.Xb(),c.Xb(),c.Yb(142,"td",26),c.Wc(143," \xa0"),c.Xb(),c.Yb(144,"td",27),c.Wc(145,"\xa0"),c.Xb(),c.Xb(),c.Yb(146,"tr"),c.Yb(147,"td",37),c.Yb(148,"div",38),c.Yb(149,"table",39),c.Yb(150,"thead",40),c.Yb(151,"tr"),c.Yb(152,"th",41),c.Wc(153,"#"),c.Xb(),c.Yb(154,"th",42),c.Wc(155,"Material"),c.Xb(),c.Yb(156,"th",43),c.Wc(157,"Batch"),c.Xb(),c.Yb(158,"th",43),c.Wc(159,"Manu. Date"),c.Xb(),c.Yb(160,"th",43),c.Wc(161,"Exp. Date"),c.Xb(),c.Yb(162,"th",44),c.Wc(163,"Qty"),c.Xb(),c.Yb(164,"th",45),c.Wc(165,"UOM"),c.Xb(),c.Yb(166,"th",44),c.Wc(167,"Value"),c.Xb(),c.Tb(168,"th",41),c.Xb(),c.Xb(),c.Yb(169,"tbody"),c.Uc(170,Ui,20,11,"tr",46),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(171,"table"),c.Yb(172,"tr"),c.Yb(173,"td",25),c.Uc(174,Ti,2,1,"button",47),c.Yb(175,"button",48),c.kc("click",(function(){return c.Mc(i),c.oc().savePurchase()})),c.Wc(176,"Save"),c.Xb(),c.Yb(177,"button",49),c.kc("click",(function(){return c.Mc(i),c.oc().close()})),c.Wc(178,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(18),c.vc("ngModel",n.supdetail.address),c.Db(4),c.vc("ngModel",n.supdetail.zip),c.Db(5),c.vc("ngModel",n.tradat),c.Db(9),c.vc("ngModel",n.supdetail.mobile),c.Db(9),c.vc("ngModel",n.supdetail.country),c.Db(3),c.vc("ngForOf",n.countries),c.Db(4),c.vc("ngModel",n.supdetail.tel),c.Db(12),c.vc("ngModel",n.supdetail.stat),c.Db(4),c.vc("ngModel",n.supdetail.fax),c.Db(9),c.vc("ngModel",n.supdetail.district),c.Db(4),c.vc("ngModel",n.supdetail.email),c.Db(9),c.vc("ngModel",n.supdetail.city),c.Db(4),c.vc("ngModel",n.supdetail.webid),c.Db(24),c.vc("items",n.materials)("ngModel",n.material),c.Db(6),c.vc("ngModel",n.qty),c.Db(2),c.vc("ngModel",n.unit),c.Db(1),c.vc("ngForOf",n.units),c.Db(2),c.vc("disabled",n.addcheck),c.Db(4),c.vc("ngModel",n.material.grpname),c.Db(6),c.vc("ngModel",n.material.qty),c.Db(2),c.vc("ngModel",n.material.um),c.Db(29),c.vc("ngForOf",n.selectedItems),c.Db(4),c.vc("ngIf",n.delVisible)}}function Ri(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"th",70),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Wc(10),c.Xb(),c.Yb(11,"td",71),c.Wc(12),c.pc(13,"number"),c.Xb(),c.Yb(14,"td",71),c.Wc(15),c.pc(16,"number"),c.Xb(),c.Yb(17,"td",71),c.Wc(18),c.pc(19,"number"),c.Xb(),c.Yb(20,"th",72),c.Wc(21),c.pc(22,"number"),c.Xb(),c.Yb(23,"td",73),c.Yb(24,"i",74),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(2).openOld(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit,r=e.index;c.Db(2),c.Xc(r+1),c.Db(2),c.Xc(n.seq),c.Db(2),c.Xc(n.invoiceno),c.Db(2),c.Xc(n.vendorname),c.Db(2),c.Xc(n.mobile),c.Db(2),c.Xc(c.rc(13,9,n.baseamt,"0.2")),c.Db(3),c.Xc(c.rc(16,12,n.taxes,"0.2")),c.Db(3),c.Xc(c.rc(19,15,n.others,"0.2")),c.Db(3),c.Xc(c.rc(22,18,n.totalAmt,"0.2"))}}function qi(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"h3"),c.Wc(2," List of Sample Outwards "),c.Xb(),c.Yb(3,"table",1),c.Yb(4,"tr"),c.Yb(5,"td",64),c.Yb(6,"div",12),c.Yb(7,"input",13,65),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().listdat=t})),c.Xb(),c.Yb(9,"div",15),c.Yb(10,"div",16),c.kc("click",(function(){return c.Mc(i),c.Jc(8).toggle()})),c.Tb(11,"i",17),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(12,"td",66),c.Yb(13,"button",67),c.kc("click",(function(){return c.Mc(i),c.oc().listAdd()})),c.Wc(14,"Show"),c.Xb(),c.Xb(),c.Yb(15,"td",66),c.Yb(16,"button",68),c.kc("click",(function(){return c.Mc(i),c.oc().openNew()})),c.Wc(17,"New"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(18,"table",69),c.Yb(19,"thead",40),c.Yb(20,"tr"),c.Yb(21,"th"),c.Wc(22,"#"),c.Xb(),c.Yb(23,"th"),c.Wc(24,"Seq"),c.Xb(),c.Yb(25,"th"),c.Wc(26,"Samples To"),c.Xb(),c.Yb(27,"th"),c.Wc(28,"DC"),c.Xb(),c.Yb(29,"th"),c.Wc(30,"Types"),c.Xb(),c.Yb(31,"th"),c.Wc(32,"Transporter"),c.Xb(),c.Xb(),c.Xb(),c.Yb(33,"tbody"),c.Uc(34,Ri,25,21,"tr",46),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(7),c.vc("ngModel",n.listdat),c.Db(27),c.vc("ngForOf",n.purchases1)}}var Pi=function(){function t(t,e,i,n,r){var o=this;this.pur=t,this.puo=e,this.modalService=i,this.adm=n,this.spinner=r,this.unit=-1,this.title="",this.baseAmt=0,this.discount=0,this.taxesAmt=0,this.otherAmt=0,this.totalAmt=0,this.advance=0,this.balance=0,this.country=-1,this.now=new Date,this.closeResult="",this.recordId=0,this.supdetail={recordId:0,partyName:"",addr:"",country:-1,stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",webid:""},this.material={recordid:null,itemname:"",grpname:"",um:"",qty:null,costingtype:-1,shelflife:0},this.sets=[],this.qcEnable=!0,this.qcTest=!1,this.invEnable=!0,this.invCheck=!0,this.qcchk=!0,this.tradat={year:this.now.getFullYear(),month:this.now.getMonth()+1,day:this.now.getDate()},this.listdat={year:this.now.getFullYear(),month:this.now.getMonth()+1,day:this.now.getDate()},this.storeid=-1,this.invoiceno="",this.header={Seq:"",Dat:new Date,Invoiceno:"",Invoicedat:new Date,Transporter:"",PurchaseType:"",RefPoid:-1,Vendorid:-1,Vendorname:"",Addr:"",Country:"",Stat:"",District:"",City:"",Zip:"",Mobile:"",Tel:"",Fax:"",Email:"",Webid:"",Baseamt:0,Discount:0,Taxes:0,Others:0,TotalAmt:0,Pos:1,Settlemode:0,qcCheck:0},this.refOrd=-1,this.ordvalidity="",this.ordsupplier="",this.opened=!1,this.currsymbol="",this.currconversion=1,this.batchno="",this.manudate=new Date,this.expdate=new Date,this.selectedItems=[],this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.pur.getPurchasesRequirements().subscribe((function(t){var e=t;o.materials=e.materials,o.stores=e.stores,o.stores&&o.stores.length>0&&(o.storeid=o.stores[0].recordId),o.suppliers=e.suppliers,o.pendingorders=e.orders,o.purchasetypes=e.purchasetypes,o.header.Seq=e.seq,o.countries=e.countries,o.header.Dat=new Date(e.dat),new Date(e.dat),o.totalunits=e.units,o.taxes=e.taxes,o.tradat={year:o.now.getFullYear(),month:o.now.getMonth()+1,day:o.now.getDate()},o.listdat={year:o.now.getFullYear(),month:o.now.getMonth()+1,day:o.now.getDate()};for(var i=0;i<o.countries.length;i++)2==o.countries[i].statu&&(o.supdetail.country=+o.countries[i].recordId,o.currsymbol=o.countries[i].currSymbol,o.currconversion=+o.countries[i].conversionFactor);for(i=0;i<e.sets;i++);})),this.spinner.hide()}return t.prototype.findCountryInfo=function(){var t=this,e=this.countries.filter((function(e){return e.recordId==+t.supdetail.country}));e.length>0&&(this.currsymbol=e[0].currSymbol,this.currconversion=+e[0].conversionFactor)},t.prototype.makeUnits=function(){var t=this;this.units=this.totalunits.filter((function(e){return e.matid==t.material.recordid})),console.log("units",this.totalunits,this.material,this.units),this.units&&this.units.length>0&&(this.unit=this.units[0].umid)},t.prototype.parseDate=function(t){return t?new Date(t):null},t.prototype.makeOrderDetails=function(){var t=this,e=this.pendingorders.filter((function(e){return e.recordId==t.refOrd}));e&&e.length>0&&(this.ordvalidity=this.adm.stringData(new Date(e[0].validity)),this.ordsupplier=e[0].vendorname)},t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.opened=!0},t.prototype.valCheckSmall=function(){return""==this.material.itemname.trim()?(this.adm.showMessage("Material not selected","Warning",3),!1):4==+this.material.costingtype&&""==this.batchno.trim()?(this.adm.showMessage("Batch not selected","Warning",3),!1):this.qty?+this.qty<=0?(this.adm.showMessage("Qty not selected","Warning",3),!1):!(+this.unit<0&&(this.adm.showMessage("Unit not selected","Warning",3),1)):(this.adm.showMessage("Qty not selected","Warning",3),!1)},t.prototype.addStock=function(){this.valCheckSmall()&&(this.selectedItems.push({materialid:this.material.recordid,itemname:this.material.itemname,batchno:this.batchno,manudate:this.adm.stringData(this.manudate),expdate:this.material.shelflife?this.adm.stringData(this.expdate):null,qty:this.qty,umid:this.unit,um:this.findum(),rate:this.rat,valu:+this.qty*+this.rat}),this.material={recordid:null,itemname:"",grpname:"",um:"",qty:null,costingtype:-1,shelflife:0},this.batchno="",this.manudate=new Date,this.expdate=new Date,this.qty=null,this.units=[],this.rat=null,this.unit=-1,this.itemsCalculation())},t.prototype.delStock=function(t){var e=this.selectedItems.indexOf(t);e>=0&&(this.selectedItems.splice(e,1),this.itemsCalculation())},t.prototype.itemsCalculation=function(){this.baseAmt=0;for(var t=0;t<this.selectedItems.length;t++)this.selectedItems[t].valu=this.selectedItems[t].qty*this.selectedItems[t].rate,this.baseAmt=this.baseAmt+ +this.selectedItems[t].valu;this.makeCalculations()},t.prototype.makeCalculations=function(){this.totalAmt=this.baseAmt-this.discount+this.otherAmt+this.taxesAmt,this.balance=this.totalAmt-this.advance},t.prototype.makeTaxes=function(){this.taxesAmt=0;for(var t=0;t<this.taxes.length;t++)this.taxes[t].taxvalue&&(this.taxesAmt=this.taxesAmt+this.taxes[t].taxvalue);this.makeCalculations()},t.prototype.findum=function(){var t=this,e=this.totalunits.filter((function(e){return e.umid==+t.unit}));return e.length>0?e[0].um:""},t.prototype.openOld=function(t){var e=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.pur.getPurchase(t.recordId).subscribe((function(t){var i=t;if(console.log("Detail",i),"OK"==i.result){e.recordId=i.header.recordId,e.qcchk=1==+i.header.qcCheck,e.supdetail={recordId:i.header.vendorid,partyName:i.header.vendorname,addr:i.header.addr,stat:i.header.stat,district:i.header.district,city:i.header.city,zip:i.header.zip,mobile:i.header.mobile,tel:i.header.tel,fax:i.header.fax,email:i.header.email,webid:i.header.webid},e.selectedItems=[];for(var n=0;n<i.linedetails.length;n++)e.unit=i.linedetails[n].um,e.selectedItems.push({materialid:i.linedetails[n].itemId,itemname:i.linedetails[n].itemName,batchno:i.linedetails[n].batchno,manudate:i.linedetails[n].manudate?new Date(i.linedetails[n].manudate):null,expdate:i.linedetails[n].expdate?new Date(i.linedetails[n].expdate):null,qty:i.linedetails[n].qty,umid:i.linedetails[n].umid,um:i.linedetails[n].um,rate:i.linedetails[n].rat,valu:+i.linedetails[n].qty*+i.linedetails[n].rat});for(n=0;n<e.taxes.length;n++)for(var r=0;r<i.taxes.length;r++)e.taxes[n].taxCode==i.taxes[r].taxcode&&e.taxes[n].taxper==i.taxes[r].taxper&&(e.taxes[n].taxvalue=i.taxes[r].taxvalue);e.discount=i.header.discount,e.taxesAmt=0,e.totalAmt=0,e.advance=0,e.itemsCalculation(),console.log("details",i),e.makeCalculations(),e.opened=!0}else e.adm.showMessage(i.result,"Warning",3);e.spinner.hide()}))},t.prototype.close=function(){this.opened=!1},t.prototype.makeCle=function(){this.recordId=0,this.supdetail={recordId:0,partyName:"",addr:"",country:-1,stat:"",district:"",city:"",zip:"",mobile:"",tel:"",fax:"",email:"",webid:""},this.selectedItems=[];for(var t=0;t<this.taxes.length;t++)this.taxes[t].taxvalue=0;this.itemsCalculation()},t.prototype.showOrder=function(){var t=this;this.refOrd>=1?(this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.puo.GetInvPurchaseOrder(+this.refOrd).subscribe((function(e){var i=e;t.supdetail={recordId:i.header.vendorid,partyName:i.header.vendorname,addr:i.header.addr,stat:i.header.stat,district:i.header.district,city:i.header.city,zip:i.header.zip,mobile:i.header.mobile,tel:i.header.tel,fax:i.header.fax,email:i.header.email,webid:i.header.webid},t.selectedItems=[];for(var n=0;n<i.lines.length;n++)t.unit=i.lines[n].um,t.selectedItems.push({materialid:i.lines[n].itemId,itemname:i.lines[n].itemName,batchno:"",manudate:null,expdate:null,qty:i.lines[n].qty,umid:i.lines[n].um,um:t.findum(),rate:i.lines[n].rat,valu:+i.lines[n].qty*+i.lines[n].rat});for(n=0;n<t.taxes.length;n++)for(var r=0;r<i.taxes.length;r++)t.taxes[n].taxCode==i.taxes[r].taxcode&&t.taxes[n].taxper==i.taxes[r].taxper&&(t.taxes[n].taxvalue=i.taxes[r].taxvalue);for(t.discount=0,t.taxesAmt=0,t.totalAmt=0,t.advance=0,n=0;n<i.advances.length;n++)t.advance=t.advance+i.advances[n].amt;t.itemsCalculation(),console.log("details",i),t.spinner.hide()}))):this.makeCle()},t.prototype.open=function(t,e){var i=this;this.title=1==e?"Terms":"Taxes",this.modalService.open(t).result.then((function(t){i.closeResult="Closed with: "+t}),(function(t){i.closeResult="Dismissed "+i.getDismissReason(t)}))},t.prototype.getDismissReason=function(t){return t===_.a.ESC?"by pressing ESC":t===_.a.BACKDROP_CLICK?"by clicking on a backdrop":"with: "+t},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var e=this.adm.strDate(this.listdat);this.pur.getPurchases(e).subscribe((function(e){t.purchases=e,console.log(e),t.spinner.hide()}))},t.prototype.valChk=function(){return""==this.supdetail.partyName.trim()?(this.adm.showMessage("Supplier details not mentioned","Warning",3),!1):!(this.selectedItems.length<=0&&(this.adm.showMessage("Item details not mentioned","Warning",3),1))},t.prototype.savePurchase=function(){var t=this;this.valChk()&&M.a.fire({title:"Confirms Purchase Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.header={Dat:new Date,Invoiceno:t.invoiceno,Invoicedat:new Date,Transporter:"",PurchaseType:"General",RefPoid:+t.refOrd>0?+t.refOrd:null,Vendorid:+t.supdetail.recordId,Vendorname:t.supdetail.partyName,Addr:t.supdetail.addr,Country:null,Stat:t.supdetail.stat,District:t.supdetail.district,City:t.supdetail.city,Zip:t.supdetail.zip,Mobile:t.supdetail.mobile,Tel:t.supdetail.tel,Fax:t.supdetail.fax,Email:t.supdetail.email,Webid:t.supdetail.webid,Baseamt:+t.baseAmt,Discount:+t.discount,Taxes:+t.taxesAmt,Others:+t.otherAmt,TotalAmt:+t.totalAmt,Pos:1,Settlemode:0,qcCheck:t.qcchk?1:0,currencySymbol:t.currsymbol,currencyConversion:t.currconversion?+t.currconversion:1},t.recordId>0&&(t.header.RecordId=t.recordId);for(var i=[],n=0;n<t.selectedItems.length;n++)i.push({Store:+t.storeid,ItemId:+t.selectedItems[n].materialid,ItemName:t.selectedItems[n].itemname,Batchno:t.selectedItems[n].batchno,Manudate:null,Expdate:null,Qty:+t.selectedItems[n].qty,Um:+t.selectedItems[n].umid,Rat:+t.selectedItems[n].rate,BranchId:t.selectedItems[n].um,Mrp:t.findConversion(+t.selectedItems[n].materialid,+t.selectedItems[n].umid)});var r=[];for(n=0;n<t.taxes.length;n++)+t.taxes[n].taxvalue>0&&r.push({Taxcode:t.taxes[n].taxCode,Taxper:+t.taxes[n].taxPer,Taxvalue:+t.taxes[n].taxvalue});t.pur.setPurchase(t.header,i,r,0==t.recordId?1:2).subscribe((function(e){var i=e;t.spinner.hide(),"OK"==i.result?(t.makeCle(),M.a.fire("Transaction Completed Successfully!","Your Purchase saved.","success")):M.a.fire(i.result,"Some error in transaction","error")}))}}))},t.prototype.findConversion=function(t,e){var i=this.totalunits.filter((function(i){return i.matid==t&&i.umid==e}));return i&&i.length>0?+i[0].conversion:1},t.\u0275fac=function(e){return new(e||t)(c.Sb(di.a),c.Sb(li.a),c.Sb(_.r),c.Sb(a.a),c.Sb(b.c))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-sample-outwards"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","80%"],["align","right",2,"width","10%"],["colspan","3"],["type","text",1,"form-control"],[2,"width","20%"],["type","text","disabled","","value","SAOUT-24-02/001",1,"form-control",2,"width","100%"],["rowspan","2","align","right",2,"width","10%"],["rowspan","2",2,"width","25%"],[2,"width","100%","height","50px",3,"ngModel","ngModelChange"],[2,"width","25%"],["type","text",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"input-group"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["d2","ngbDatepicker"],[1,"input-group-append"],[1,"input-group-text",3,"click"],[1,"fa","fa-calendar",2,"cursor","pointer"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","-1"],[3,"value",4,"ngFor","ngForOf"],[2,"width","100%"],["customContent",""],["content",""],[2,"width","35%"],["colspan","2"],[2,"width","8%"],[2,"width","5%"],["bindLabel","itemname",3,"items","ngModel","ngModelChange","change"],[1,"form-control"],["value"," "],["type","number",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange"],[1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",2,"width","100%",3,"disabled","click"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[2,"width","18%"],["type","text","disabled","",1,"form-control"],["colspan","8"],[2,"width","100%","height","300px","overflow-y","scroll"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[2,"width","4%"],[2,"width","37%"],[2,"width","9%"],[2,"width","7%","text-align","right"],[2,"width","7%"],[4,"ngFor","ngForOf"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-info","mr-1","mb-1",3,"click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],[3,"value"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[2,"width","85%"],[2,"width","15%"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",2,"width","100%",3,"click"],[1,"ft-trash-2","font-medium-1",3,"click"],["type","number",1,"form-control",2,"width","100%",3,"ngModel","ngModelChange","input"],["type","text",2,"width","100%",3,"ngModel","ngModelChange"],["type","number",2,"width","100%",3,"ngModel","input","ngModelChange"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],["align","right",2,"width","40%"],["d1","ngbDatepicker"],["align","left",2,"width","25%"],["type","button",1,"btn","btn-secondary","mr-1","mb-1",3,"click"],["type","button",1,"btn","btn-success","mr-1","mb-1",3,"click"],[1,"table","m-0",2,"width","80%"],["scope","row"],["align","right"],["scope","row",2,"text-align","right"],["align","center"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,Ai,179,24,"div",0),c.Uc(2,qi,35,2,"div",0)),2&t&&(c.Db(1),c.vc("ngIf",e.opened),c.Db(1),c.vc("ngIf",!e.opened))},directives:[b.a,n.p,l.c,l.q,l.t,_.q,l.z,l.u,l.B,n.o,d.a,l.v],pipes:[n.f],styles:[""]}),t}();function Li(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"h3"),c.Wc(2," Inventory Costing detail "),c.Xb(),c.Tb(3,"br"),c.Yb(4,"table",1),c.Yb(5,"tr"),c.Yb(6,"td",2),c.Wc(7," Costing type "),c.Xb(),c.Yb(8,"td",3),c.Yb(9,"select",4),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().costingtype=t})),c.Yb(10,"option",5),c.Wc(11,"--Select--"),c.Xb(),c.Yb(12,"option",6),c.Wc(13,"Allow Negative"),c.Xb(),c.Yb(14,"option",7),c.Wc(15,"FIFO"),c.Xb(),c.Yb(16,"option",8),c.Wc(17,"LIFO"),c.Xb(),c.Yb(18,"option",9),c.Wc(19,"Batch System"),c.Xb(),c.Yb(20,"option",10),c.Wc(21,"GIN System"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(22,"tr"),c.Yb(23,"td",11),c.Yb(24,"button",12),c.kc("click",(function(){return c.Mc(i),c.oc().setInfo()})),c.Wc(25,"Save"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(9),c.vc("ngModel",n.costingtype)}}function Fi(t,e){1&t&&(c.Yb(0,"div"),c.Yb(1,"h1"),c.Wc(2,"You are not authorised to view this page"),c.Xb(),c.Xb())}var Ni=function(){function t(t,e,i){this.inv=t,this.adm=e,this.spinner=i,this.costingtype=-1,this.authCheck=!1,this.adm.screenCheck(3,12,1,0)&&(this.authCheck=!0,this.getInfo())}return t.prototype.ngOnInit=function(){},t.prototype.getInfo=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInventoryCostingInfo().subscribe((function(e){t.spinner.hide(),t.costingtype=+e.setupValue}))},t.prototype.setInfo=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.setInventoryCostingInfo(this.costingtype).subscribe((function(e){t.spinner.hide();var i=e;"OK"==i.detail?t.adm.showMessage("Costing details changed successfully","Success",1):t.adm.showMessage(i.detail,"Error",4)}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(Mt.a),c.Sb(a.a),c.Sb(b.c))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-setup"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","60%"],["align","right",2,"width","30%"],[2,"width","70%"],[1,"form-control",3,"ngModel","ngModelChange"],["value","-1"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["colspan","2"],["type","button",1,"btn","btn-info","mr-1","mb-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,Li,26,1,"div",0),c.Uc(2,Fi,3,0,"div",0)),2&t&&(c.Db(1),c.vc("ngIf",e.authCheck),c.Db(1),c.vc("ngIf",!e.authCheck))},directives:[b.a,n.p,l.z,l.q,l.t,l.u,l.B],styles:[""]}),t}(),Bi=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-sto-rep-closing-stocks"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-sto-rep-closing-stocks works!"),c.Xb())},styles:[""]}),t}();function Gi(t,e){if(1&t&&(c.Yb(0,"option",17),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordId),c.Db(1),c.Xc(i.fnbCode)}}function zi(t,e){if(1&t&&(c.Yb(0,"div",18),c.Yb(1,"div",19),c.Tb(2,"i",20),c.Yb(3,"div",21),c.Yb(4,"a",22),c.Wc(5,"Download Pdf"),c.Xb(),c.Yb(6,"a",23),c.Wc(7,"Download Excel"),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc();c.Db(4),c.vc("href",i.pdffile,c.Oc),c.Db(2),c.vc("href",i.excelfile,c.Oc)}}function _i(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",31),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Wc(10),c.Xb(),c.Yb(11,"td"),c.Wc(12),c.Xb(),c.Yb(13,"td"),c.Wc(14),c.Xb(),c.Yb(15,"td"),c.Wc(16),c.Xb(),c.Yb(17,"td"),c.Wc(18),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index;c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.itemname),c.Db(2),c.Xc(i.grpname),c.Db(2),c.Xc(i.ostock),c.Db(2),c.Xc(i.issue),c.Db(2),c.Xc(i.total),c.Db(2),c.Xc(i.sale),c.Db(2),c.Xc(i.others),c.Db(2),c.Xc(i.closing)}}function $i(t,e){1&t&&(c.Yb(0,"tr"),c.Yb(1,"td",32),c.Yb(2,"span",33),c.Wc(3," No records found "),c.Xb(),c.Xb(),c.Xb())}function Zi(t,e){if(1&t&&(c.Yb(0,"div",24),c.Yb(1,"div",25),c.Yb(2,"div",26),c.Yb(3,"table",27),c.Yb(4,"thead",28),c.Yb(5,"tr"),c.Yb(6,"th"),c.Wc(7,"#"),c.Xb(),c.Yb(8,"th"),c.Wc(9,"Item"),c.Xb(),c.Yb(10,"th"),c.Wc(11,"Group"),c.Xb(),c.Yb(12,"th"),c.Wc(13,"Opening"),c.Xb(),c.Yb(14,"th"),c.Wc(15,"Receipt"),c.Xb(),c.Yb(16,"th"),c.Wc(17,"Total"),c.Xb(),c.Yb(18,"th"),c.Wc(19,"Sale"),c.Xb(),c.Yb(20,"th"),c.Wc(21,"Others"),c.Xb(),c.Yb(22,"th"),c.Wc(23,"Closing"),c.Xb(),c.Xb(),c.Xb(),c.Yb(24,"tbody"),c.Uc(25,_i,19,9,"tr",29),c.Uc(26,$i,4,0,"tr",30),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t){var i=c.oc();c.Db(25),c.vc("ngForOf",i.details),c.Db(1),c.vc("ngIf",i.details.length<=0)}}var Ei=function(){function t(t,e,i,n,r,o){var a=this;this.inv=t,this.pos=e,this.adm=i,this.spinner=n,this.router=r,this.toastr=o,this.fromdate=new Date,this.departments=[],this.department=-1,this.pdffile="",this.excelfile="",this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.pos.getFNBServices().subscribe((function(t){a.departments=t,a.spinner.hide()}))}return t.prototype.ngOnInit=function(){},t.prototype.parseDate=function(t){return t?new Date(t):null},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.GetClosingReport(+this.department,this.adm.stringData(this.fromdate)).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return this.details=(t=e).details,this.pdffile=this.adm.getReportsURL()+t.pdfFile,this.excelfile=this.adm.getReportsURL()+t.excelFile,this.spinner.hide(),[2]}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(B.a),c.Sb(G),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-sto-rep-day-info"]],decls:27,vars:8,consts:[["id","light"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[2,"width","100%"],["align","right",2,"width","10%"],[2,"width","35%"],[1,"form-control",3,"ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["type","date",1,"form-control",3,"value","input"],[2,"width","10%"],[1,"btn-lg","btn-secondary",3,"click"],["class","position-relative float-right",4,"ngIf"],["class","card-content",4,"ngIf"],[3,"value"],[1,"position-relative","float-right"],["ngbDropdown","","display","dynamic","placement","bottom-right",1,"d-inline-block"],["id","chatOptions","ngbDropdownToggle","",1,"ft-more-vertical-","mt-1","dropdown-toggle"],["ngbDropdownMenu","","aria-labelledby","chatOptions"],["href","javascript:;","target","_blank",1,"dropdown-item",3,"href"],["href","javascript:;","target","_ aa",1,"dropdown-item",3,"href"],[1,"card-content"],[1,"card-body"],[1,"table-responsive"],[1,"table","m-6"],[1,"thead-light"],[4,"ngFor","ngForOf"],[4,"ngIf"],["scope","row"],["colspan","9","align","center"],[2,"color","brown","font-weight","bold","font-size","large"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Yb(1,"section",0),c.Yb(2,"div",1),c.Yb(3,"div",2),c.Yb(4,"div",3),c.Yb(5,"div",4),c.Yb(6,"h3",5),c.Wc(7,"Closing Stock Information"),c.Xb(),c.Yb(8,"table",6),c.Yb(9,"tr"),c.Yb(10,"td",7),c.Wc(11,"F & B Service"),c.Xb(),c.Yb(12,"td",8),c.Yb(13,"select",9),c.kc("ngModelChange",(function(t){return e.department=t})),c.Yb(14,"option",10),c.Wc(15,"--Select F & B--"),c.Xb(),c.Uc(16,Gi,2,2,"option",11),c.Xb(),c.Xb(),c.Yb(17,"td",7),c.Wc(18,"As on"),c.Xb(),c.Yb(19,"td",8),c.Yb(20,"input",12),c.kc("input",(function(t){return e.fromdate=e.parseDate(t.target.value)})),c.pc(21,"date"),c.Xb(),c.Xb(),c.Yb(22,"td",13),c.Yb(23,"button",14),c.kc("click",(function(){return e.listAdd()})),c.Wc(24,"Show"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Uc(25,zi,8,2,"div",15),c.Xb(),c.Uc(26,Zi,27,2,"div",16),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t&&(c.Db(13),c.vc("ngModel",e.department),c.Db(3),c.vc("ngForOf",e.departments),c.Db(4),c.vc("value",c.rc(21,5,e.fromdate,"yyyy-MM-dd")),c.Db(5),c.vc("ngIf",e.details),c.Db(1),c.vc("ngIf",e.details))},directives:[b.a,l.z,l.q,l.t,l.u,l.B,n.o,n.p,_.l,_.o,_.n],pipes:[n.e],styles:[""]}),t}(),ji=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-store-to-store-blanks"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-store-to-store-blanks works!"),c.Xb())},styles:[""]}),t}(),Vi=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-store-to-store-consumables"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-store-to-store-consumables works!"),c.Xb())},styles:[""]}),t}(),Qi=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-store-to-store-stocks"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-store-to-store-stocks works!"),c.Xb())},styles:[""]}),t}(),Ki=function(){function t(t,e){this.adm=t,this.http=e,this.userdetails=null}return t.prototype.getInvStores=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/invstore/GetInvStores",t,this.adm.makeConfig())},t.prototype.setInvStore=function(t,e){var i={store:t,usr:this.adm.getUserCompleteInformation().usr,traCheck:e};return this.http.post(this.adm.getActualURL()+"api/invstore/setInvStore",i,this.adm.makeConfig())},t.prototype.getLosses=function(){var t=this.adm.getUserCompleteInformation().usr;return this.http.post(this.adm.getActualURL()+"api/invlosses/getInvLosses",t,this.adm.makeConfig())},t.prototype.setLosses=function(t,e){var i={loss:t,usr:this.adm.getUserCompleteInformation().usr,traCheck:e};return this.http.post(this.adm.getActualURL()+"api/invlosses/setInvLoss",i,this.adm.makeConfig())},t.\u0275fac=function(e){return new(e||t)(c.gc(a.a),c.gc(I.a))},t.\u0275prov=c.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Ji(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",17),c.kc("click",(function(){return c.Mc(i),c.oc().deleteStore()})),c.Wc(1,"Delete"),c.Xb()}if(2&t){var n=c.oc();c.vc("disabled",!n.delCheck)}}function Hi(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",18),c.kc("click",(function(){return c.Mc(i),c.oc().openNew()})),c.Wc(1,"New"),c.Xb()}}function tn(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",21),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc().openOld(t)})),c.Xb()}}function en(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",19),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Uc(10,tn,1,0,"i",20),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index,r=c.oc();c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.storeCode),c.Db(2),c.Xc(i.storeName),c.Db(2),c.Xc(i.storeIncharge),c.Db(2),c.vc("ngIf",!r.opened)}}function nn(t,e){1&t&&(c.Yb(0,"div"),c.Yb(1,"h1"),c.Wc(2,"You are not authorised to view this page"),c.Xb(),c.Xb())}var rn=function(){function t(t,e,i,n,r){this.inv=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.creCheck=!1,this.delCheck=!1,this.delVisible=!1,this.authCheck=!1,this.saveStr="",this.storecode="",this.storename="",this.storeincharge="",this.recordID=0,this.opened=!1,this.adm.screenCheck(3,1,2,0)?(this.authCheck=!0,this.delCheck=this.adm.screenCheck(3,1,2,3),this.listAdd()):this.router.navigateByUrl("inventory/invunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.creCheck=this.adm.screenCheck(3,1,2,1),this.saveStr="Save",this.opened=!0},t.prototype.makeCle=function(){this.delVisible=!1,this.recordID=0,this.storecode="",this.storename="",this.storeincharge=""},t.prototype.openOld=function(t){console.log(t),this.storecode=t.storeCode,this.recordID=t.recordId,this.storename=t.storeName,this.storeincharge=t.storeIncharge,this.delVisible=!0,this.creCheck=this.adm.screenCheck(3,1,2,2),this.saveStr="Modify",this.opened=!0},t.prototype.valChk=function(){return""==this.storecode.trim()?(this.toastr.warning("Store Code not mentioned","Warning"),!1):""==this.storename.trim()?(this.toastr.warning("Store Name not mentioned","Warning"),!1):""!=this.storeincharge.trim()||(this.toastr.warning("Store Incharge not mentioned","Warning"),!1)},t.prototype.deleteStore=function(){var t=this;M.a.fire({title:"Deletes Store Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.inv.setInvStore({RecordId:t.recordID,storeCode:t.storecode,storeName:t.storename,storeIncharge:t.storeincharge},3).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return"OK"==(t=e).result?(M.a.fire("Transaction Completed Successfully!","Store Details deleted.","success"),this.opened=0==this.recordID,this.makeCle(),this.listAdd()):M.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))})))}))},t.prototype.saveStore=function(){var t=this;this.valChk()&&M.a.fire({title:0==this.recordID?"Confirms Store Details":"Modifies Store Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.inv.setInvStore({RecordId:t.recordID,storeCode:t.storecode,storeName:t.storename,storeIncharge:t.storeincharge},0==t.recordID?1:2).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return"OK"==(t=e).result?(M.a.fire("Transaction Completed Successfully!","Store Details saved.","success"),this.opened=0==this.recordID,this.makeCle(),this.listAdd()):M.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))})))}))},t.prototype.close=function(){this.opened=!1},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvStores().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){return Object(N.__generator)(this,(function(t){return this.stores=e,console.log(this.stores),this.spinner.hide(),[2]}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(Ki),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-stores-list"]],decls:50,vars:10,consts:[["mode","push",3,"opened"],[2,"width","40%"],[2,"width","100%"],["type","text","id","basicInput","placeholder","Store Code","ngDefaultControl","",1,"form-control",2,"width","50%",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Store Name","ngDefaultControl","",1,"form-control",2,"width","90%",3,"ngModel","ngModelChange"],["type","text","id","basicInput","placeholder","Store Incharge","ngDefaultControl","",1,"form-control",2,"width","90%",3,"ngModel","ngModelChange"],["colspan","2"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],["ng-sidebar-content",""],["align","left"],["type","button","class","btn-lg btn-success mr-1 mb-1",3,"click",4,"ngIf"],[1,"table","m-0",2,"width","60%"],[1,"thead-light"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],["scope","row"],["class","ft-edit font-medium-1",3,"click",4,"ngIf"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Yb(1,"ng-sidebar-container"),c.Yb(2,"ng-sidebar",0),c.Yb(3,"h3"),c.Wc(4," Store Details "),c.Xb(),c.Tb(5,"br"),c.Yb(6,"table",1),c.Yb(7,"tr"),c.Yb(8,"td",2),c.Yb(9,"input",3),c.kc("ngModelChange",(function(t){return e.storecode=t})),c.Xb(),c.Xb(),c.Xb(),c.Yb(10,"tr"),c.Yb(11,"td",2),c.Yb(12,"input",4),c.kc("ngModelChange",(function(t){return e.storename=t})),c.Xb(),c.Xb(),c.Xb(),c.Yb(13,"tr"),c.Yb(14,"td",2),c.Yb(15,"input",5),c.kc("ngModelChange",(function(t){return e.storeincharge=t})),c.Xb(),c.Xb(),c.Xb(),c.Yb(16,"tr"),c.Yb(17,"td",6),c.Wc(18," \xa0 "),c.Xb(),c.Xb(),c.Yb(19,"tr"),c.Yb(20,"td",6),c.Uc(21,Ji,2,1,"button",7),c.Yb(22,"button",8),c.kc("click",(function(){return e.saveStore()})),c.Wc(23),c.Xb(),c.Yb(24,"button",9),c.kc("click",(function(){return e.close()})),c.Wc(25,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(26,"div",10),c.Yb(27,"nav"),c.Yb(28,"h3"),c.Wc(29," List of Stores "),c.Xb(),c.Yb(30,"table",2),c.Yb(31,"tr"),c.Yb(32,"td",11),c.Uc(33,Hi,2,0,"button",12),c.Xb(),c.Xb(),c.Xb(),c.Yb(34,"table",13),c.Yb(35,"thead",14),c.Yb(36,"tr"),c.Yb(37,"th"),c.Wc(38,"#"),c.Xb(),c.Yb(39,"th"),c.Wc(40,"Store Code"),c.Xb(),c.Yb(41,"th"),c.Wc(42,"Store Name"),c.Xb(),c.Yb(43,"th"),c.Wc(44,"Store Incharge"),c.Xb(),c.Yb(45,"th"),c.Wc(46,"Open"),c.Xb(),c.Xb(),c.Xb(),c.Yb(47,"tbody"),c.Uc(48,en,11,5,"tr",15),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Uc(49,nn,3,0,"div",16)),2&t&&(c.Db(2),c.vc("opened",e.opened),c.Db(7),c.vc("ngModel",e.storecode),c.Db(3),c.vc("ngModel",e.storename),c.Db(3),c.vc("ngModel",e.storeincharge),c.Db(6),c.vc("ngIf",e.delVisible),c.Db(1),c.vc("disabled",!e.creCheck),c.Db(1),c.Xc(e.saveStr),c.Db(10),c.vc("ngIf",!e.opened),c.Db(15),c.vc("ngForOf",e.stores),c.Db(1),c.vc("ngIf",!e.authCheck))},directives:[b.a,K.b,K.a,l.c,l.q,l.t,n.p,n.o],styles:["ng-sidebar-container[_ngcontent-%COMP%]{height:100vh}  .ng-sidebar{background-color:#fff;width:65%}"]}),t}(),on=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-supplier-groups-list"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-supplier-groups-list works!"),c.Xb())},styles:[""]}),t}(),an=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-suppliers-list"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Yb(0,"p"),c.Wc(1,"inv-suppliers-list works!"),c.Xb())},styles:[""]}),t}();function sn(t,e){if(1&t&&(c.Yb(0,"option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordId),c.Db(1),c.Xc(i.storeCode)}}function cn(t,e){if(1&t&&(c.Yb(0,"option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.recordid),c.Db(1),c.Xc(i.name)}}function bn(t,e){if(1&t&&(c.Yb(0,"ng-option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.vc("value",i.recordId),c.Db(1),c.Xc(i.itemname)}}function ln(t,e){if(1&t&&(c.Yb(0,"option",28),c.Wc(1),c.Xb()),2&t){var i=e.$implicit;c.wc("value",i.gin),c.Db(1),c.Xc(i.batchno)}}function dn(t,e){if(1&t){var i=c.Zb();c.Yb(0,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc(2).material.grpname=t})),c.Xb()}if(2&t){var n=c.oc(2);c.vc("ngModel",n.material.grpname)}}function hn(t,e){1&t&&c.Tb(0,"input",29)}function un(t,e){if(1&t){var i=c.Zb();c.Yb(0,"tr"),c.Yb(1,"th",30),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Wc(10),c.Xb(),c.Yb(11,"td"),c.Wc(12),c.Xb(),c.Yb(13,"td"),c.Yb(14,"i",31),c.kc("click",(function(){c.Mc(i);var t=e.$implicit;return c.oc(2).deleteLine(t)})),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=e.$implicit,r=e.index;c.Db(2),c.Xc(r+1),c.Db(2),c.Xc(n.traname),c.Db(2),c.Xc(n.materialname),c.Db(2),c.Xc(n.batchno),c.Db(2),c.Xc(n.qty),c.Db(2),c.Xc(n.um)}}function pn(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"h3"),c.Wc(2),c.Xb(),c.Yb(3,"table",1),c.Yb(4,"tr"),c.Yb(5,"td",2),c.Wc(6,"Store"),c.Xb(),c.Yb(7,"td",3),c.Wc(8,"\xa0"),c.Xb(),c.Yb(9,"td",3),c.Wc(10,"Date"),c.Xb(),c.Xb(),c.Yb(11,"tr"),c.Yb(12,"td",2),c.Yb(13,"select",4),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().storeid=t}))("change",(function(){return c.Mc(i),c.oc().makeStoreWiseInfo()})),c.Uc(14,sn,2,2,"option",5),c.Xb(),c.Xb(),c.Yb(15,"td",3),c.Wc(16,"\xa0"),c.Xb(),c.Yb(17,"td",3),c.Tb(18,"input",6),c.pc(19,"date"),c.Xb(),c.Xb(),c.Yb(20,"tr"),c.Yb(21,"td",7),c.Wc(22),c.Xb(),c.Yb(23,"td",8),c.Wc(24,"Material"),c.Xb(),c.Yb(25,"td",9),c.Wc(26,"Batch"),c.Xb(),c.Yb(27,"td",10),c.Wc(28,"Total Available"),c.Xb(),c.Yb(29,"td",11),c.Wc(30,"Qty"),c.Xb(),c.Yb(31,"td",12),c.Wc(32,"UM"),c.Xb(),c.Yb(33,"td",13),c.Wc(34,"\xa0"),c.Xb(),c.Xb(),c.Yb(35,"tr"),c.Yb(36,"td",7),c.Yb(37,"select",14),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().traid=t}))("change",(function(){return c.Mc(i),c.oc().findtraDescr()})),c.Yb(38,"option",15),c.Wc(39,"--Select--"),c.Xb(),c.Uc(40,cn,2,2,"option",5),c.Xb(),c.Xb(),c.Yb(41,"td",8),c.Yb(42,"ng-select",16),c.kc("change",(function(t){return c.Mc(i),c.oc().makeUnits(t)})),c.Uc(43,bn,2,2,"ng-option",5),c.Xb(),c.Xb(),c.Yb(44,"td",9),c.Yb(45,"select",14),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().gin=t}))("change",(function(){return c.Mc(i),c.oc().findBatchQty()})),c.Uc(46,ln,2,2,"option",5),c.Xb(),c.Xb(),c.Yb(47,"td",10),c.Yb(48,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().totalavailable=t})),c.Xb(),c.Xb(),c.Yb(49,"td",11),c.Yb(50,"input",18),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().qty=t})),c.Xb(),c.Xb(),c.Yb(51,"td",12),c.Yb(52,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().um=t})),c.Xb(),c.Xb(),c.Yb(53,"td",13),c.Yb(54,"button",19),c.kc("click",(function(){return c.Mc(i),c.oc().addLine()})),c.Wc(55,"Add"),c.Xb(),c.Xb(),c.Xb(),c.Yb(56,"tr"),c.Yb(57,"td",7),c.Wc(58,"\xa0"),c.Xb(),c.Yb(59,"td",8),c.Wc(60,"Group"),c.Xb(),c.Yb(61,"td",9),c.Wc(62,"Batch Available"),c.Xb(),c.Yb(63,"td",10),c.Wc(64,"\xa0"),c.Xb(),c.Yb(65,"td",11),c.Wc(66,"\xa0"),c.Xb(),c.Yb(67,"td",12),c.Wc(68,"\xa0"),c.Xb(),c.Yb(69,"td",13),c.Wc(70,"\xa0"),c.Xb(),c.Xb(),c.Yb(71,"tr"),c.Yb(72,"td",7),c.Yb(73,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().tradescription=t})),c.Xb(),c.Xb(),c.Yb(74,"td",8),c.Uc(75,dn,1,1,"input",20),c.Uc(76,hn,1,0,"input",21),c.Xb(),c.Yb(77,"td",9),c.Yb(78,"input",17),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().batchavailable=t})),c.Xb(),c.Xb(),c.Yb(79,"td",10),c.Wc(80,"\xa0"),c.Xb(),c.Yb(81,"td",11),c.Wc(82,"\xa0"),c.Xb(),c.Yb(83,"td",12),c.Wc(84,"\xa0"),c.Xb(),c.Yb(85,"td",13),c.Wc(86,"\xa0"),c.Xb(),c.Xb(),c.Xb(),c.Yb(87,"div",22),c.Yb(88,"table",23),c.Yb(89,"thead",24),c.Yb(90,"tr"),c.Yb(91,"th"),c.Wc(92,"#"),c.Xb(),c.Yb(93,"th"),c.Wc(94),c.Xb(),c.Yb(95,"th"),c.Wc(96,"Material"),c.Xb(),c.Yb(97,"th"),c.Wc(98,"Batch/Gin"),c.Xb(),c.Yb(99,"th"),c.Wc(100,"Qty"),c.Xb(),c.Yb(101,"th"),c.Wc(102,"UOM"),c.Xb(),c.Tb(103,"th"),c.Xb(),c.Xb(),c.Yb(104,"tbody"),c.Uc(105,un,15,6,"tr",25),c.Xb(),c.Xb(),c.Xb(),c.Yb(106,"table",1),c.Yb(107,"tr"),c.Yb(108,"td",1),c.Yb(109,"button",26),c.kc("click",(function(){return c.Mc(i),c.oc().save()})),c.Wc(110,"Save"),c.Xb(),c.Yb(111,"button",27),c.kc("click",(function(){return c.Mc(i),c.oc().close()})),c.Wc(112,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(2),c.Yc("",n.title," Details"),c.Db(11),c.vc("disabled",n.lineItems.length>0)("ngModel",n.storeid),c.Db(1),c.vc("ngForOf",n.stores),c.Db(4),c.wc("value",c.rc(19,20,n.tradat,"dd-MMM-yy")),c.Db(4),c.Xc(n.title),c.Db(15),c.vc("ngModel",n.traid),c.Db(3),c.vc("ngForOf",n.tradets),c.Db(3),c.vc("ngForOf",n.materials),c.Db(2),c.vc("ngModel",n.gin),c.Db(1),c.vc("ngForOf",n.batches),c.Db(2),c.vc("ngModel",n.totalavailable),c.Db(2),c.vc("ngModel",n.qty),c.Db(2),c.vc("ngModel",n.um),c.Db(21),c.vc("ngModel",n.tradescription),c.Db(2),c.vc("ngIf",n.material),c.Db(1),c.vc("ngIf",!n.material),c.Db(2),c.vc("ngModel",n.batchavailable),c.Db(16),c.Xc(n.title),c.Db(11),c.vc("ngForOf",n.lineItems)}}function mn(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",38),c.kc("click",(function(){c.Mc(i);var t=c.oc(3);return t.openOld(t.store)})),c.Xb()}}function fn(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",30),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Wc(6),c.Xb(),c.Yb(7,"td"),c.Wc(8),c.Xb(),c.Yb(9,"td"),c.Uc(10,mn,1,0,"i",37),c.Xb(),c.Xb()),2&t){var i=e.index,n=c.oc(2);c.Db(2),c.Xc(i+1),c.Db(2),c.Xc(n.store.storeCode),c.Db(2),c.Xc(n.store.storeName),c.Db(2),c.Xc(n.store.storeIncharge),c.Db(2),c.vc("ngIf",!n.opened)}}function gn(t,e){if(1&t){var i=c.Zb();c.Yb(0,"div"),c.Yb(1,"h3"),c.Wc(2),c.Xb(),c.Yb(3,"table",1),c.Yb(4,"tr"),c.Yb(5,"td",32),c.Wc(6,"Date"),c.Xb(),c.Yb(7,"td",9),c.Yb(8,"input",33),c.kc("ngModelChange",(function(t){return c.Mc(i),c.oc().listdate=t})),c.Xb(),c.Xb(),c.Yb(9,"td",10),c.Yb(10,"button",34),c.kc("click",(function(){return c.Mc(i),c.oc().listAdd()})),c.Wc(11,"Show"),c.Xb(),c.Xb(),c.Yb(12,"td",35),c.Yb(13,"button",36),c.kc("click",(function(){return c.Mc(i),c.oc().openNew()})),c.Wc(14,"New"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(15,"table",23),c.Yb(16,"thead",24),c.Yb(17,"tr"),c.Yb(18,"th"),c.Wc(19,"#"),c.Xb(),c.Yb(20,"th"),c.Wc(21,"Store Code"),c.Xb(),c.Yb(22,"th"),c.Wc(23,"Store Name"),c.Xb(),c.Yb(24,"th"),c.Wc(25,"Store Incharge"),c.Xb(),c.Yb(26,"th"),c.Wc(27,"Open"),c.Xb(),c.Xb(),c.Xb(),c.Yb(28,"tbody"),c.Uc(29,fn,11,5,"tr",25),c.Xb(),c.Xb(),c.Xb()}if(2&t){var n=c.oc();c.Db(2),c.Yc("List of ",n.title," Details"),c.Db(6),c.vc("ngModel",n.listdate),c.Db(21),c.vc("ngForOf",n.transactions)}}var vn=function(){function t(t,e,i){switch(this.inv=t,this.adm=e,this.spinner=i,this.tracode=102,this.title="",this.traid=-1,this.description="",this.opened=1,this.tradescription="",this.batches=[],this.um="",this.gin="",this.totalavailable=0,this.batchavailable=0,this.lineItems=[],this.mgtItems=[],this.qty=0,this.slno=1,this.storeid=0,this.tradat=new Date,this.listdate=new Date,this.tracode){case 102:this.title="Losses"}this.addRequirements(),this.listAdd()}return t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvTransactions(this.adm.stringData(this.listdate),this.title).subscribe((function(e){t.transactions=e,console.log(e),t.spinner.hide()}))},t.prototype.addRequirements=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvLossesTraRequirements(this.tracode).subscribe((function(e){var i=e;t.totalinfo=i,t.tradets=i.trans,t.stores=i.stores,t.stores.length>0&&(t.storeid=+t.stores[0].recordId,t.makeStoreWiseInfo()),t.materials=i.matinfo.totalmaterials,console.log(i,"requirements"),t.spinner.hide()}))},t.prototype.makeStoreWiseInfo=function(){var t=this;this.gininfo=this.totalinfo.matinfo.ginwiseinfo.filter((function(e){return e.store==+t.storeid}))},t.prototype.close=function(){this.opened=1},t.prototype.openNew=function(){this.opened=2,this.makeCle()},t.prototype.makeCle=function(){this.lineItems=[],this.mgtItems=[]},t.prototype.openOld=function(){this.opened=3},t.prototype.ngOnInit=function(){},t.prototype.makeUnits=function(t){var e=this;this.totalavailable=0,this.batchavailable=0;var i=this.materials.filter((function(e){return e.recordId==t}));i.length>0&&(this.material=i[0],this.um=i[0].um),this.batches=[];for(var n=this.gininfo.filter((function(t){return t.itemName==e.material.recordId})),r=0;r<n.length;r++)this.material.umid>=4&&this.batches.push({gin:n[r].gin,batchno:n[r].batchNo,qty:n[r].qtyin}),this.totalavailable=this.totalavailable+n[r].qtyin;var o=0;for(r=0;r<this.lineItems.length;r++)this.lineItems[r].materialid==this.material.recordId&&(o+=this.lineItems[r].qty);this.totalavailable=this.totalavailable-o},t.prototype.findtraDescr=function(){var t=this,e=this.tradets.filter((function(e){return e.recordid==+t.traid}));e.length>0&&(this.tradescription=e[0].description)},t.prototype.findBatchQty=function(){var t=this;this.batchavailable=0;var e=this.batches.filter((function(e){return e.gin==t.gin}));e.length>0&&(this.batchavailable=e[0].qty);for(var i=0,n=0;n<this.lineItems.length;n++)this.lineItems[n].gin==this.gin&&(i+=this.lineItems[n].qty);this.batchavailable=this.batchavailable-i},t.prototype.valCheckSmall=function(){return+this.traid<=0?(this.adm.showMessage(this.title+" not selected","Warning",3),!1):this.material?this.material.umid>=4&&""==this.gin.trim()?(this.adm.showMessage("Batch / GIN not selected","Warning",3),!1):this.material.umid>=4&&this.batchavailable<this.qty?(this.adm.showMessage("Batch / GIN does not contain selected qty","Warning",3),!1):!(this.material.umid>1&&this.totalavailable<this.qty&&(this.adm.showMessage("Qty is not avaialbel","Warning",3),1)):(this.adm.showMessage("Material not selected","Warning",3),!1)},t.prototype.addLine=function(){this.valCheckSmall()&&(this.lineItems.push({traid:+this.traid,traname:this.findTraName(),materialid:this.material.recordId,materialname:this.material.itemname,gin:this.material.umid<4?"":this.gin,batchno:this.material.umid<4?"":this.findBatchNo(),qty:this.qty,um:this.um,costingtype:this.material.umid,sno:this.slno}),this.slno++,this.traid=-1,this.material=null,this.batches=[],this.batchavailable=0,this.totalavailable=0,this.qty=0,this.um="",this.makeGinAdjustments())},t.prototype.makeGinAdjustments=function(){var t=this;this.mgtItems=[];for(var e=0;e<this.lineItems.length;e++)if(1==this.lineItems[e].costingtype||this.lineItems[e].costingtype>=4)this.mgtItems.push({traid:this.lineItems[e].traid,traname:this.lineItems[e].traname,materialid:this.lineItems[e].materialid,materialname:this.lineItems[e].materialname,gin:this.lineItems[e].gin,batchno:this.lineItems[e].batchno,qty:this.lineItems[e].qty,um:this.lineItems[e].um,costingtype:this.lineItems[e].costingtype,lineid:this.lineItems[e].sno});else{var i=this.gininfo.filter((function(i){return i.itemName==t.lineItems[e].materialid}));console.log(i);for(var n=this.lineItems[e].qty,r=0;r<i.length;r++)if(n>0){var o=i[r].qtyin-this.usedGinQty(i[r].gin);o>=n?(this.mgtItems.push({traid:this.lineItems[e].traid,traname:this.lineItems[e].traname,materialid:this.lineItems[e].materialid,materialname:this.lineItems[e].materialname,gin:i[r].gin,batchno:this.lineItems[e].batchno,qty:n,um:this.lineItems[e].um,costingtype:this.lineItems[e].costingtype,lineid:this.lineItems[e].sno}),n=0):(this.mgtItems.push({traid:this.lineItems[e].traid,traname:this.lineItems[e].traname,materialid:this.lineItems[e].materialid,materialname:this.lineItems[e].materialname,gin:i[r].gin,batchno:this.lineItems[e].batchno,qty:o,um:this.lineItems[e].um,costingtype:this.lineItems[e].costingtype,lineid:this.lineItems[e].sno}),n-=o)}}},t.prototype.usedGinQty=function(t){for(var e=this.mgtItems.filter((function(e){return e.gin==t})),i=0,n=0;n<e.length;n++)i+=this.mgtItems[n].qty;return i},t.prototype.deleteLine=function(t){var e=this.lineItems.indexOf(t);e>=0&&(this.lineItems.splice(e,1),this.makeGinAdjustments())},t.prototype.findBatchNo=function(){var t=this,e="",i=this.batches.filter((function(e){return e.gin==t.gin}));return i.length>0&&(e=i[0].batchno),e},t.prototype.findTraName=function(){var t=this,e="",i=this.tradets.filter((function(e){return e.recordid==+t.traid}));return i.length>0&&(e=i[0].name),e},t.prototype.valChk=function(){return+this.storeid<=0?(this.adm.showMessage("Select Store","Warning",3),!1):!(this.lineItems.length<=0&&(this.adm.showMessage("Items not selected","Warning",3),1))},t.prototype.save=function(){var t=this;this.valChk()&&M.a.fire({title:"Confirms Transaction Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){for(var i={TraType:t.title,Descriptio:t.description},n=[],r=0;r<t.lineItems.length;r++)n.push({Sno:t.lineItems[r].sno,ItemId:+t.lineItems[r].materialid,Qtyin:0,Qtyout:+t.lineItems[r].qty});var o=[];for(r=0;r<t.mgtItems.length;r++)o.push({Sno:r+1,Gin:t.mgtItems[r].gin,ItemName:+t.mgtItems[r].materialid,Store:+t.storeid,Qtyin:0,Qtyout:t.mgtItems[r].qty,Department:t.mgtItems[r].traid,TransactionType:t.tracode,LineId:t.mgtItems[r].lineid});t.inv.setInvTransaction(i,n,o).subscribe((function(e){var i=e;"OK"==i.result?M.a.fire("Transaction Completed Successfully!",t.title+" Details saved.","success"):M.a.fire(i.result,"Error in transaction.","error")}))}}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(C),c.Sb(a.a),c.Sb(b.c))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-tra-dummy"]],decls:3,vars:2,consts:[[4,"ngIf"],[2,"width","100%"],["align","right",2,"width","22%"],["colspan","3"],[1,"form-control",3,"disabled","ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["type","text","disabled","",1,"form-control",3,"value"],[2,"width","22%"],[2,"width","30%"],[2,"width","15%"],[2,"width","10%"],[2,"width","9%"],[2,"width","8%"],[2,"width","6%"],[1,"form-control",3,"ngModel","ngModelChange","change"],["value","-1"],["id","cmbitem",3,"change"],["type","text","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","number",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-info",3,"click"],["type","text","disabled","","class","form-control",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","disabled","","class","form-control",4,"ngIf"],[2,"width","100%","height","350px","overflow-y","scroll"],[1,"table","m-0",2,"width","100%"],[1,"thead-light"],[4,"ngFor","ngForOf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],[3,"value"],["type","text","disabled","",1,"form-control"],["scope","row"],[1,"ft-trash","font-medium-1",3,"click"],["align","right",2,"width","15%"],["type","date",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn-lg","btn-success",3,"click"],["align","right",2,"width","60%"],["type","button",1,"btn-lg","btn-info",3,"click"],["class","ft-edit font-medium-1",3,"click",4,"ngIf"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Uc(1,pn,113,23,"div",0),c.Uc(2,gn,30,3,"div",0)),2&t&&(c.Db(1),c.vc("ngIf",2==e.opened),c.Db(1),c.vc("ngIf",1==e.opened))},directives:[b.a,n.p,l.z,l.q,l.t,n.o,l.u,l.B,d.a,l.c,l.v,d.g],pipes:[n.e],styles:[""]}),t}();function Xn(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",17),c.kc("click",(function(){return c.Mc(i),c.oc().deleteUM()})),c.Wc(1,"Delete"),c.Xb()}if(2&t){var n=c.oc();c.vc("disabled",!n.delCheck)}}function Yn(t,e){if(1&t){var i=c.Zb();c.Yb(0,"button",18),c.kc("click",(function(){return c.Mc(i),c.oc().openNew()})),c.Wc(1,"New"),c.Xb()}}function yn(t,e){if(1&t){var i=c.Zb();c.Yb(0,"i",21),c.kc("click",(function(){c.Mc(i);var t=c.oc().$implicit;return c.oc().openOld(t)})),c.Xb()}}function kn(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",19),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td"),c.Uc(6,yn,1,0,"i",20),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index,r=c.oc();c.Db(2),c.Xc(n+1),c.Db(2),c.Xc(i.um),c.Db(2),c.vc("ngIf",!r.opened)}}function In(t,e){1&t&&(c.Yb(0,"div"),c.Yb(1,"h1"),c.Wc(2,"You are not authorised to view this page"),c.Xb(),c.Xb())}var Cn=function(){function t(t,e,i,n,r){this.inv=t,this.adm=e,this.spinner=i,this.router=n,this.toastr=r,this.creCheck=!1,this.delCheck=!1,this.delVisible=!1,this.authCheck=!1,this.saveStr="",this.uom="",this.recordID=0,this.opened=!1,this.adm.screenCheck(3,1,1,0)?(this.authCheck=!0,this.delCheck=this.adm.screenCheck(3,1,1,3),this.listAdd()):this.router.navigateByUrl("inventory/invunauthorize")}return t.prototype.ngOnInit=function(){},t.prototype.openNew=function(){this.makeCle(),this.creCheck=this.adm.screenCheck(3,1,1,1),this.saveStr="Save",this.opened=!0},t.prototype.makeCle=function(){this.delVisible=!1,this.recordID=0,this.uom=""},t.prototype.openOld=function(t){this.uom=t.um,this.recordID=t.recordId,this.delVisible=!0,this.creCheck=this.adm.screenCheck(3,1,1,2),this.saveStr="Modify",this.opened=!0},t.prototype.valChk=function(){return""!=this.uom.trim()||(this.toastr.warning("Unit not mentioned","Warning"),!1)},t.prototype.deleteUM=function(){var t=this;M.a.fire({title:"Deletes Unit Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),t.inv.setInvUm({RecordId:t.recordID,Um:t.uom},3).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return"OK"==(t=e).result?(M.a.fire("Transaction Completed Successfully!","Unit Details deleted.","success"),this.makeCle(),this.opened=!1,this.makeCle(),this.listAdd()):M.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))})))}))},t.prototype.saveUM=function(){var t=this;this.valChk()&&M.a.fire({title:0==this.recordID?"Confirms Unit Details":"Modifies Unit Details",text:"You will not be able to recover this file!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, confirm it!",cancelButtonText:"No, keep it"}).then((function(e){if(e.value){t.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0});var i={Um:t.uom};t.recordID>0&&(i.RecordId=t.recordID),t.inv.setInvUm(i,0==t.recordID?1:2).subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){var t;return Object(N.__generator)(this,(function(i){return"OK"==(t=e).result?(M.a.fire("Transaction Completed Successfully!","Unit Details saved.","success"),this.listAdd(),this.opened=!1):M.a.fire(t.result,"Some error in transaction","error"),this.spinner.hide(),[2]}))}))}))}}))},t.prototype.close=function(){this.opened=!1},t.prototype.listAdd=function(){var t=this;this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0}),this.inv.getInvUms().subscribe((function(e){return Object(N.__awaiter)(t,void 0,void 0,(function(){return Object(N.__generator)(this,(function(t){return this.ums=e,this.spinner.hide(),[2]}))}))}))},t.\u0275fac=function(e){return new(e||t)(c.Sb(Dt.a),c.Sb(a.a),c.Sb(b.c),c.Sb(r.c),c.Sb(z.b))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-um"]],decls:42,vars:8,consts:[["mode","push",3,"opened"],[2,"width","40%"],[2,"width","35%"],[2,"width","65%"],["type","text","ngDefaultControl","",1,"form-control",3,"ngModel","ngModelChange"],["colspan","2"],["type","button","class","btn-lg btn-danger mr-1 mb-1",3,"disabled","click",4,"ngIf"],["type","button",1,"btn-lg","btn-primary","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-dark","mb-1",3,"click"],["ng-sidebar-content",""],[2,"width","100%"],["align","left"],["type","button","class","btn-lg btn-success mr-1 mb-1",3,"click",4,"ngIf"],[1,"table","m-0",2,"width","40%"],[1,"thead-light"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","button",1,"btn-lg","btn-danger","mr-1","mb-1",3,"disabled","click"],["type","button",1,"btn-lg","btn-success","mr-1","mb-1",3,"click"],["scope","row"],["class","ft-edit font-medium-1",3,"click",4,"ngIf"],[1,"ft-edit","font-medium-1",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"ngx-spinner"),c.Yb(1,"ng-sidebar-container"),c.Yb(2,"ng-sidebar",0),c.Yb(3,"h3"),c.Wc(4," Unit Details "),c.Xb(),c.Tb(5,"br"),c.Yb(6,"table",1),c.Yb(7,"tr"),c.Yb(8,"td",2),c.Yb(9,"span"),c.Wc(10,"Unit"),c.Xb(),c.Xb(),c.Yb(11,"td",3),c.Yb(12,"input",4),c.kc("ngModelChange",(function(t){return e.uom=t})),c.Xb(),c.Xb(),c.Xb(),c.Yb(13,"tr"),c.Yb(14,"td",5),c.Wc(15," \xa0 "),c.Xb(),c.Xb(),c.Yb(16,"tr"),c.Yb(17,"td",5),c.Uc(18,Xn,2,1,"button",6),c.Yb(19,"button",7),c.kc("click",(function(){return e.saveUM()})),c.Wc(20),c.Xb(),c.Yb(21,"button",8),c.kc("click",(function(){return e.close()})),c.Wc(22,"Close"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(23,"div",9),c.Yb(24,"nav"),c.Yb(25,"h3"),c.Wc(26," List of Units "),c.Xb(),c.Yb(27,"table",10),c.Yb(28,"tr"),c.Yb(29,"td",11),c.Uc(30,Yn,2,0,"button",12),c.Xb(),c.Xb(),c.Xb(),c.Yb(31,"table",13),c.Yb(32,"thead",14),c.Yb(33,"tr"),c.Yb(34,"th"),c.Wc(35,"#"),c.Xb(),c.Yb(36,"th"),c.Wc(37,"Unit"),c.Xb(),c.Tb(38,"th"),c.Xb(),c.Xb(),c.Yb(39,"tbody"),c.Uc(40,kn,7,3,"tr",15),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Uc(41,In,3,0,"div",16)),2&t&&(c.Db(2),c.vc("opened",e.opened),c.Db(10),c.vc("ngModel",e.uom),c.Db(6),c.vc("ngIf",e.delVisible),c.Db(1),c.vc("disabled",!e.creCheck),c.Db(1),c.Xc(e.saveStr),c.Db(10),c.vc("ngIf",!e.opened),c.Db(10),c.vc("ngForOf",e.ums),c.Db(1),c.vc("ngIf",!e.authCheck))},directives:[b.a,K.b,K.a,l.c,l.q,l.t,n.p,n.o],styles:["ng-sidebar-container[_ngcontent-%COMP%]{height:100vh}  .ng-sidebar{background-color:#fff;width:60%}"]}),t}(),Dn=i("39Kk"),Mn=i("jHP8");function Wn(t,e){if(1&t&&(c.Yb(0,"tr"),c.Yb(1,"th",30),c.Wc(2),c.Xb(),c.Yb(3,"td"),c.Wc(4),c.Xb(),c.Yb(5,"td",28),c.Wc(6),c.pc(7,"number"),c.Xb(),c.Yb(8,"td",28),c.Wc(9),c.Xb(),c.Xb()),2&t){var i=e.$implicit,n=e.index;c.Db(2),c.Xc(n+1),c.Db(2),c.Yc(" ",i.name," "),c.Db(2),c.Xc(c.rc(7,4,i.busi,"0.2-2")),c.Db(3),c.Yc("",i.role,"%")}}var wn=["#975AFF","#F55252","#40C057","#F55252","#2F8BE6"],Sn=["#2F8BE6","#E6EAEE","#F77E17"],On=["#975AFF","#F55252","#40C057","#F55252","#2F8BE6"],xn=["#2F8BE6","#E6EAEE","#F77E17"],Un=[{path:"",children:[{path:"invminndashboard",component:ni}]},{path:"invum",component:Cn,data:{title:"Dashboard 2"}},{path:"invstores",component:rn,data:{title:"Dashboard 2"}},{path:"invitemgroupslist",component:kt,data:{title:"Dashboard 2"}},{path:"invitemslist",component:Ct,data:{title:"Dashboard 2"}},{path:"invitemstra",component:Zt,data:{title:"Dashboard 2"}},{path:"invopeningsotcks",component:bi,data:{title:"Dashboard 2"}},{path:"invostocksshiksha",component:oi,data:{title:"Dashboard 2"}},{path:"invitemmerging",component:It,data:{title:"Dashboard 2"}},{path:"invsuppliergroupslist",component:on,data:{title:"Dashboard 2"}},{path:"invsupplierslist",component:an,data:{title:"Dashboard 2"}},{path:"invdepartmentslist",component:Q,data:{title:"Dashboard 2"}},{path:"invlosseslist",component:Ge,data:{title:"Dashboard 2"}},{path:"invdashusineopt",component:function(){function t(t,e,i){this.menu=t,this.pod=e,this.spinner=i,this.turnoverLabels=["Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Jan","Feb","Mar"],this.turnoverData=[30,30,40,50,60,30,70,80,90,30,50,60],this.customers=[{name:"Relience India",busi:25e4,role:11.2},{name:"Tata Agro Ltd",busi:225e3,role:10.2},{name:"L & T Tools",busi:205e3,role:9.8},{name:"Kalva Engineers",busi:195e3,role:9.3},{name:"Top Ramen",busi:145e3,role:8}],this.pieLabels=["Blanks","Stock","Consumable"],this.piedata=[100,80,70],this.barChartOptions={chart:{height:350,type:"bar"},colors:wn,plotOptions:{bar:{horizontal:!1}},dataLabels:{enabled:!1},series:[{name:"Blanks",data:[400,430,448,470,540,580,690,1100,1200,1380,500,760]},{name:"Stocks",data:[400,430,448,470,540,580,690,1100,1200,1380,500,760]},{name:"Consumable",data:[400,430,448,470,540,580,690,1100,1200,1380,500,760]}],xaxis:{categories:["Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Jan","Feb","Mar"],tickAmount:5}},this.pieInformation()}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){this.menu.setMenuDetails("acc")},t.prototype.showSpinner=function(){this.spinner.show(void 0,{type:"ball-triangle-path",size:"medium",bdColor:"rgba(0, 0, 0, 0.8)",color:"#fff",fullScreen:!0})},t.prototype.hideSpinner=function(){this.spinner.hide()},t.prototype.pieInformation=function(){this.pieChartOptions={chart:{type:"pie",height:360},colors:Sn,labels:[],series:[],legend:{itemMargin:{horizontal:2}},responsive:[{breakpoint:576,options:{chart:{width:300},legend:{position:"bottom"}}}]}},t.\u0275fac=function(e){return new(e||t)(c.Sb(ii.a),c.Sb(Dn.a),c.Sb(b.c))},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-usine-dashboard-opt"]],decls:121,vars:35,consts:[[1,"row"],[1,"col-sm-12"],[1,"content-header"],[1,"col-xl-2","col-lg-6","col-12"],[1,"card","card-inverse","bg-info"],[1,"card-content"],[1,"card-body"],[1,"media"],[1,"media-body","text-left"],[1,"card-text"],[1,"media-right","align-self-center"],[1,"ft-arrow-up","font-large-2","float-right"],[1,"ft-dollar-sign","font-large-2","float-right"],[1,"card","card-inverse","bg-dark"],[1,"media-left","align-self-center"],[1,"ft-map-pin","font-large-2","float-left"],[1,"media-body","text-right"],["id","apexchart"],[1,"col-xl-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[3,"series","colors","chart","xaxis","yaxis","title","dataLabels","stroke","grid","tooltip","plotOptions","fill","legend","labels","markers","theme","responsive"],[1,"col-lg-6","col-12"],[1,"col-12"],[1,"table-responsive"],[1,"table","m-0"],[1,"thead-light"],["align","right"],[4,"ngFor","ngForOf"],["scope","row"]],template:function(t,e){1&t&&(c.Yb(0,"div",0),c.Yb(1,"div",1),c.Yb(2,"div",2),c.Wc(3,"Inventory Dashboard"),c.Xb(),c.Xb(),c.Xb(),c.Yb(4,"div",0),c.Yb(5,"div",3),c.Yb(6,"div",4),c.Yb(7,"div",5),c.Yb(8,"div",6),c.Yb(9,"div",7),c.Yb(10,"div",8),c.Yb(11,"h3",9),c.Wc(12,"17,500.00"),c.Xb(),c.Yb(13,"span"),c.Wc(14,"Blanks Value"),c.Xb(),c.Xb(),c.Yb(15,"div",10),c.Tb(16,"i",11),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(17,"div",3),c.Yb(18,"div",4),c.Yb(19,"div",5),c.Yb(20,"div",6),c.Yb(21,"div",7),c.Yb(22,"div",8),c.Yb(23,"h3",9),c.Wc(24,"12,500.00"),c.Xb(),c.Yb(25,"span"),c.Wc(26,"Stock Value"),c.Xb(),c.Xb(),c.Yb(27,"div",10),c.Tb(28,"i",12),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(29,"div",3),c.Yb(30,"div",4),c.Yb(31,"div",5),c.Yb(32,"div",6),c.Yb(33,"div",7),c.Yb(34,"div",8),c.Yb(35,"h3",9),c.Wc(36,"10,000.00"),c.Xb(),c.Yb(37,"span"),c.Wc(38,"Cosnumable Value"),c.Xb(),c.Xb(),c.Yb(39,"div",10),c.Tb(40,"i",12),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(41,"div",3),c.Yb(42,"div",13),c.Yb(43,"div",5),c.Yb(44,"div",6),c.Yb(45,"div",7),c.Yb(46,"div",8),c.Yb(47,"h3",9),c.Wc(48,"22,450.00"),c.Xb(),c.Yb(49,"span"),c.Wc(50,"Blanks Consum."),c.Xb(),c.Xb(),c.Yb(51,"div",10),c.Tb(52,"i",12),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(53,"div",3),c.Yb(54,"div",13),c.Yb(55,"div",5),c.Yb(56,"div",6),c.Yb(57,"div",7),c.Yb(58,"div",14),c.Tb(59,"i",15),c.Xb(),c.Yb(60,"div",16),c.Yb(61,"h3",9),c.Wc(62,"15,000.00"),c.Xb(),c.Yb(63,"span"),c.Wc(64,"Stocks Consum."),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(65,"div",3),c.Yb(66,"div",13),c.Yb(67,"div",5),c.Yb(68,"div",6),c.Yb(69,"div",7),c.Yb(70,"div",14),c.Tb(71,"i",15),c.Xb(),c.Yb(72,"div",16),c.Yb(73,"h3",9),c.Wc(74,"11,000.00"),c.Xb(),c.Yb(75,"span"),c.Wc(76,"Consumables"),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(77,"section",17),c.Yb(78,"div",0),c.Yb(79,"div",18),c.Yb(80,"div",19),c.Yb(81,"div",20),c.Yb(82,"h4",21),c.Wc(83,"Consumptions Chart"),c.Xb(),c.Xb(),c.Yb(84,"div",5),c.Yb(85,"div",6),c.Tb(86,"apx-chart",22),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(87,"div",23),c.Yb(88,"div",19),c.Yb(89,"div",20),c.Yb(90,"h4",21),c.Wc(91,"Category wise Expectations"),c.Xb(),c.Xb(),c.Yb(92,"div",5),c.Yb(93,"div",6),c.Tb(94,"apx-chart",22),c.Xb(),c.Xb(),c.Tb(95,"br"),c.Xb(),c.Xb(),c.Yb(96,"div",23),c.Yb(97,"div",19),c.Yb(98,"div",20),c.Yb(99,"h4",21),c.Wc(100,"Top 5 Consumables"),c.Xb(),c.Xb(),c.Yb(101,"div",5),c.Yb(102,"div",0),c.Yb(103,"div",24),c.Yb(104,"div",19),c.Yb(105,"div",5),c.Yb(106,"div",6),c.Yb(107,"div",25),c.Yb(108,"table",26),c.Yb(109,"thead",27),c.Yb(110,"tr"),c.Yb(111,"th"),c.Wc(112,"#"),c.Xb(),c.Yb(113,"th"),c.Wc(114,"Consumable"),c.Xb(),c.Yb(115,"th",28),c.Wc(116,"Value"),c.Xb(),c.Yb(117,"th",28),c.Wc(118,"Role"),c.Xb(),c.Xb(),c.Xb(),c.Yb(119,"tbody"),c.Uc(120,Wn,10,7,"tr",29),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t&&(c.Db(86),c.vc("series",e.barChartOptions.series)("colors",e.barChartOptions.colors)("chart",e.barChartOptions.chart)("xaxis",e.barChartOptions.xaxis)("yaxis",e.barChartOptions.yaxis)("title",e.barChartOptions.title)("dataLabels",e.barChartOptions.dataLabels)("stroke",e.barChartOptions.stroke)("grid",e.barChartOptions.grid)("tooltip",e.barChartOptions.tooltip)("plotOptions",e.barChartOptions.plotOptions)("fill",e.barChartOptions.fill)("legend",e.barChartOptions.legend)("labels",e.barChartOptions.labels)("markers",e.barChartOptions.markers)("theme",e.barChartOptions.theme)("responsive",e.barChartOptions.responsive),c.Db(8),c.vc("series",e.piedata)("colors",e.pieChartOptions.colors)("chart",e.pieChartOptions.chart)("xaxis",e.pieChartOptions.xaxis)("yaxis",e.pieChartOptions.yaxis)("title",e.pieChartOptions.title)("dataLabels",e.pieChartOptions.dataLabels)("stroke",e.pieChartOptions.stroke)("grid",e.pieChartOptions.grid)("tooltip",e.pieChartOptions.tooltip)("plotOptions",e.pieChartOptions.plotOptions)("fill",e.pieChartOptions.fill)("legend",e.pieChartOptions.legend)("labels",e.pieLabels)("markers",e.pieChartOptions.markers)("theme",e.pieChartOptions.theme)("responsive",e.pieChartOptions.responsive),c.Db(26),c.vc("ngForOf",e.customers))},directives:[Mn.a,n.o],pipes:[n.f],styles:[""]}),t}(),data:{title:"Dashboard 2"}},{path:"invdashusine",component:function(){function t(){this.turnoverLabels=["Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Jan","Feb","Mar"],this.turnoverData=[30,30,40,50,60,30,70,80,90,30,50,60],this.abcLabels=["A","B","C"],this.abcData=[120,41.8,30],this.barChartOptions={chart:{height:350,type:"bar"},colors:On,plotOptions:{bar:{horizontal:!1}},dataLabels:{enabled:!1},series:[{name:"Production",data:[400,430,448,470,540,580,690,1100,1200,1380,500,760]},{name:"Maintenance",data:[300,330,548,370,440,280,690,900,300,180,400,560]},{name:"Others",data:[100,230,148,270,140,180,390,400,500,680,300,460]}],xaxis:{categories:["Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","Jan","Feb","Mar"],tickAmount:5}},this.abcChartOptions={chart:{height:350,type:"area"},colors:xn,plotOptions:{bar:{horizontal:!1}},dataLabels:{enabled:!1},series:[{name:"ABC",data:this.abcData}],xaxis:{categories:["A","B","C"],tickAmount:5}}}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Mb({type:t,selectors:[["app-inv-usine-dashboard"]],decls:92,vars:34,consts:[["id","minimal-statistics-bg"],[1,"row"],[1,"col-xl-2","col-lg-6","col-12"],[1,"card","card-inverse","bg-warning"],[1,"card-content"],[1,"card-body"],[1,"media"],[1,"media-body","text-left"],[1,"card-text"],[1,"media-right","align-self-center"],[1,"icon-wrench","font-large-2","float-right"],[1,"card","card-inverse","bg-success"],[1,"ft-briefcase","font-large-2","float-right"],[1,"card","card-inverse","bg-danger"],[1,"ft-life-buoy","font-large-2","float-right"],[1,"card","card-inverse","bg-primary"],[1,"ft-user","font-large-2","float-right"],[1,"ft-zap","font-large-2","float-right"],[1,"col-xl-12","col-12"],[1,"card"],[1,"card-header"],[1,"card-title"],[3,"series","colors","chart","xaxis","yaxis","title","dataLabels","stroke","grid","tooltip","plotOptions","fill","legend","labels","markers","theme","responsive"]],template:function(t,e){1&t&&(c.Yb(0,"section",0),c.Yb(1,"h2"),c.Wc(2," Inventory Dashboard"),c.Xb(),c.Yb(3,"div",1),c.Yb(4,"div",2),c.Yb(5,"div",3),c.Yb(6,"div",4),c.Yb(7,"div",5),c.Yb(8,"div",6),c.Yb(9,"div",7),c.Yb(10,"h3",8),c.Wc(11,"278k"),c.Xb(),c.Yb(12,"span"),c.Wc(13,"Production"),c.Xb(),c.Xb(),c.Yb(14,"div",9),c.Tb(15,"i",10),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(16,"div",2),c.Yb(17,"div",11),c.Yb(18,"div",4),c.Yb(19,"div",5),c.Yb(20,"div",6),c.Yb(21,"div",7),c.Yb(22,"h3",8),c.Wc(23,"15k"),c.Xb(),c.Yb(24,"span"),c.Wc(25,"Home"),c.Xb(),c.Xb(),c.Yb(26,"div",9),c.Tb(27,"i",12),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(28,"div",2),c.Yb(29,"div",13),c.Yb(30,"div",4),c.Yb(31,"div",5),c.Yb(32,"div",6),c.Yb(33,"div",7),c.Yb(34,"h3",8),c.Wc(35,"64.89 %"),c.Xb(),c.Yb(36,"span"),c.Wc(37,"Maintenance"),c.Xb(),c.Xb(),c.Yb(38,"div",9),c.Tb(39,"i",14),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(40,"div",2),c.Yb(41,"div",15),c.Yb(42,"div",4),c.Yb(43,"div",5),c.Yb(44,"div",6),c.Yb(45,"div",7),c.Yb(46,"h3",8),c.Wc(47,"423"),c.Xb(),c.Yb(48,"span"),c.Wc(49,"Others"),c.Xb(),c.Xb(),c.Yb(50,"div",9),c.Tb(51,"i",16),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(52,"div",2),c.Yb(53,"div",3),c.Yb(54,"div",4),c.Yb(55,"div",5),c.Yb(56,"div",6),c.Yb(57,"div",7),c.Yb(58,"h3",8),c.Wc(59,"278"),c.Xb(),c.Yb(60,"span"),c.Wc(61,"In Process"),c.Xb(),c.Xb(),c.Yb(62,"div",9),c.Tb(63,"i",10),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(64,"div",2),c.Yb(65,"div",11),c.Yb(66,"div",4),c.Yb(67,"div",5),c.Yb(68,"div",6),c.Yb(69,"div",7),c.Yb(70,"h3",8),c.Wc(71,"156"),c.Xb(),c.Yb(72,"span"),c.Wc(73,"Losses"),c.Xb(),c.Xb(),c.Yb(74,"div",9),c.Tb(75,"i",17),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(76,"div",18),c.Yb(77,"div",19),c.Yb(78,"div",20),c.Yb(79,"h4",21),c.Wc(80,"Consumptions Chart"),c.Xb(),c.Xb(),c.Yb(81,"div",4),c.Yb(82,"div",5),c.Tb(83,"apx-chart",22),c.Xb(),c.Xb(),c.Xb(),c.Xb(),c.Yb(84,"div",18),c.Yb(85,"div",19),c.Yb(86,"div",20),c.Yb(87,"h4",21),c.Wc(88,"ABC Analysis"),c.Xb(),c.Xb(),c.Yb(89,"div",4),c.Yb(90,"div",5),c.Tb(91,"apx-chart",22),c.Xb(),c.Xb(),c.Xb(),c.Xb()),2&t&&(c.Db(83),c.vc("series",e.barChartOptions.series)("colors",e.barChartOptions.colors)("chart",e.barChartOptions.chart)("xaxis",e.barChartOptions.xaxis)("yaxis",e.barChartOptions.yaxis)("title",e.barChartOptions.title)("dataLabels",e.barChartOptions.dataLabels)("stroke",e.barChartOptions.stroke)("grid",e.barChartOptions.grid)("tooltip",e.barChartOptions.tooltip)("plotOptions",e.barChartOptions.plotOptions)("fill",e.barChartOptions.fill)("legend",e.barChartOptions.legend)("labels",e.barChartOptions.labels)("markers",e.barChartOptions.markers)("theme",e.barChartOptions.theme)("responsive",e.barChartOptions.responsive),c.Db(8),c.vc("series",e.abcChartOptions.series)("colors",e.abcChartOptions.colors)("chart",e.abcChartOptions.chart)("xaxis",e.abcChartOptions.xaxis)("yaxis",e.abcChartOptions.yaxis)("title",e.abcChartOptions.title)("dataLabels",e.abcChartOptions.dataLabels)("stroke",e.abcChartOptions.stroke)("grid",e.abcChartOptions.grid)("tooltip",e.abcChartOptions.tooltip)("plotOptions",e.abcChartOptions.plotOptions)("fill",e.abcChartOptions.fill)("legend",e.abcChartOptions.legend)("labels",e.abcChartOptions.labels)("markers",e.abcChartOptions.markers)("theme",e.abcChartOptions.theme)("responsive",e.abcChartOptions.responsive))},directives:[Mn.a],styles:[""]}),t}(),data:{title:"Dashboard 2"}},{path:"consuproduct",component:F,data:{title:"Dashboard 2"}},{path:"lossesproduct",component:ei,data:{title:"Dashboard 2"}},{path:"store2store1",component:Vi,data:{title:"Dashboard 2"}},{path:"store2store2",component:ji,data:{title:"Dashboard 2"}},{path:"store2store3",component:Qi,data:{title:"Dashboard 2"}},{path:"branch2branch1",component:y,data:{title:"Dashboard 2"}},{path:"branch2branch2",component:Y,data:{title:"Dashboard 2"}},{path:"branch2branch3",component:k,data:{title:"Dashboard 2"}},{path:"branchfbranch1",component:X,data:{title:"Dashboard 2"}},{path:"branchfbranch2",component:v,data:{title:"Dashboard 2"}},{path:"branchfbranch3",component:g,data:{title:"Dashboard 2"}},{path:"auditconsu",component:m,data:{title:"Dashboard 2"}},{path:"",children:[{path:"invdepts",component:nt}]},{path:"",children:[{path:"invcostinfo",component:Ni}]},{path:"",children:[{path:"invsamplesin",component:Ci}]},{path:"",children:[{path:"invsamplesout",component:Pi}]},{path:"",children:[{path:"auditconsu",component:f}]},{path:"",children:[{path:"invkeyrepum",component:Pe}]},{path:"",children:[{path:"invkeyrepstores",component:Oe}]},{path:"",children:[{path:"invkeyrepitemgroups",component:be}]},{path:"",children:[{path:"invkeyrepitems",component:fe}]},{path:"",children:[{path:"invkeyrepdepartments",component:te}]},{path:"",children:[{path:"invkeyreplosses",component:Ie}]},{path:"",children:[{path:"invstorepclosingstocks",component:Bi}]},{path:"",children:[{path:"invstorepdayinfo",component:Ei}]},{path:"",children:[{path:"invcostrepclosingvalue",component:V}]},{path:"",children:[{path:"invunauthorize",component:o.a}]},{path:"",children:[{path:"invdummy",component:vn}]}],Tn=function(){function t(){}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},imports:[[r.f.forChild(Un)],r.f]}),t}(),An=i("G3Le"),Rn=i("6HeS"),qn=i("KLty"),Pn=i("ZD4S"),Ln=function(){function t(){}return t.\u0275mod=c.Qb({type:t}),t.\u0275inj=c.Pb({factory:function(e){return new(e||t)},providers:[ii.a],imports:[[n.c,Tn,An.e,_.t,qn.b,Pn.b,Rn.b,Mn.b,K.c.forRoot(),l.k,b.b,d.b]]}),t}()}}]);